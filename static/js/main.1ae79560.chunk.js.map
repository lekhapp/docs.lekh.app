{"version":3,"sources":["common/Header/HeaderStyle.js","common/GlobalState.js","shapelib/Stencils.js","shapelib/Shapes.js","common/Canvas.js","common/Header/Feedback.js","common/Header/Menu.js","common/Footer/FooterStyle.js","common/MenuState.js","common/AppInput.js","common/TouchInput.js","common/MouseInput.js","common/Command.js","common/Footer/Footer.js","common/SideBarMenu/SideBarStyle.js","common/LibCell.js","Constant.js","common/DrawStyle.js","common/ColorList.js","common/Config.js","common/StrokeStyle.js","common/SelectionGroupPopup.js","common/Util.js","draggable/Panel.js","draggable/LekhDraggable.js","shapelib/MiniLib.js","shapelib/ShapesGroup.js","common/KeyboardInput.js","shapelib/FullLib.js","shapelib/ShapeLibrary.js","common/TextModePopup.js","shapeprops/PropsUtil.js","shapeprops/Help.js","shapeprops/EnumPicker.js","shapeprops/Property.js","shapeprops/LineStyle.js","shapeprops/FillColor.js","shapeprops/FontEditor.js","shapeprops/StyleEditor.js","shapeprops/ArrowCell.js","shapeprops/ConnectionEditor.js","shapeprops/ShapeProps.js","common/SideBarMenu/SideBarMenu.js","common/SideBarMenu/Content.js","common/Layover.js","common/AppEvent.js","common/AppInit.js","common/ContextMenu.js","App.js","reportWebVitals.js","index.js"],"names":["HeaderStyle","root","flexGrow","title","arrowUp","top","position","MainGrid","display","outClass","margin","bottom","border","paper","background","borderRadius","padding","textAlign","color","marginRight","right","minHeight","content","width","height","borderLeft","borderRight","borderBottom","marginLeft","fontSize","zIndex","responsicePaper","textIcon","paddingRight","checkIcon","appMenu","globalState","zoomHandler","setZoomHandler","cb","onZoom","window","Module","getZoom","stencilUrl","name","stencils","shapes","expanded","libraryColCount","scroll","searchText","loadingUrls","Set","miniGroup","category","num","initEmptyCategs","item","libraryStore","initEmptyCateg","loadTemplate","a","fetch","then","response","json","initObjects","JSON","stringify","loadAll","initNames","libnames","initialize","init","onDisplaySettingChange","groupCount","getShapeLibGroupCount","getGroup","idx","getShapeLibGroup","expandGroup","flag","expandShapeLibGroup","getShapes","group","contentUrl","has","add","delete","getMiniGroup","getDisplaySettings","getShapeLibDisplaySettings","setDisplaySetting","addDisplaySetting","search","text","filterObjects","canvas","moving","fromX","fromY","origScrollX","origScrollY","showGrid","gridType","canvasElement","toggleGrid","drawGrid","onResize","setSize","draw","moveDelta","dx","dy","zm","getScroll","setScroll","x","y","getMidPoint","rect","document","getElementById","getBoundingClientRect","left","isVisible","pad","move","type","sx","sy","mapx","mapy","maprx","mapry","zoomAt","factor","z1","Math","round","z2","setZoom","zoom","fixCanvas","cnv","dpr","devicePixelRatio","style","getContext","scale","panel","tp","exportToImage","format","getBoundsOfAll","cel","createElement","ctx","fillStyle","fillRect","drawCanvasForExport","data","toDataURL","wd","ht","clearRect","rad","step","startx","starty","beginPath","strokeStyle","i","j","moveTo","arc","PI","fill","stroke","lineWidth","lineTo","drawCanvas","drawCell","categ","sz","row","col","drawArrow","size","Feedback","handleClose","useState","feedbackForm","setFeedbackForm","handleChange","e","target","value","newEntry","submitDIsabled","message","className","onClick","htmlFor","id","onChange","required","wsmanager","send","disabled","FileSaver","require","useStyles","makeStyles","Style","AppMenu","props","classes","snap","setSnap","grid","setGrid","setValue","open","setOpen","options","checkable","submenu","handleMenuClick","focus","showDialog","copyLink","select","execCommand","SearchButton","IconButton","url","location","dialog","Dialog","onClose","aria-labelledby","DialogTitle","TextField","variant","defaultValue","InputProps","readOnly","endAdornment","Button","shareBoard","feedback","giveFeedback","exportImage","img","exportFile","console","log","orient","doc","jsPDF","orientation","addImage","save","exportPdf","saveAs","getSvg","blob","Blob","getLekh","Grid","container","AppBar","boxShadow","Toolbar","aria-label","currentTarget","handleClick","Menu","PaperProps","marginTop","map","option","index","checked","label","parentMenuOpen","subOption","MenuItem","FooterStyle","footer","justifyContent","backClass","backgroundColor","borderColor","filter","cursor","countClass","valueClass","iconClass","countBtn","minWidth","modes","selection","smartDraw","erase","laser","menus","selectionGroup","eraseAll","menuState","popup","selected","inputMode","selectionGroupVal","menu","mode","tpanel","inputReceiver","setMode","InputMode","SELECTION","POINTING","DRAWING","enableRecognition","ERASING","handleMode","hasPopup","removePopup","inDrawMode","AppInput","showContextMenu","showShapeProps","drawPoints","drawing","transparentPanel","tnode","ignoreNextClick","updateCursorLoc","docid","inputFilter","pan","InputType","OTHER","finishTextEditing","val","remove","clearTransparentPanel","drawTemp","lineJoin","lineCap","length","setCurrentStyleToCtx","dp","isEditingText","click","mpt","addClickCircle","pt","tap","dbclick","needTextEditing","getTextEditRect","cx","cy","tid","random","$","getTextForEditing","getTextEditStyle","effectiveFontSize","effectiveFontMultiplier","isFLoating","isEditingFloatingText","tattrs","effectivePlatformFontFamily","effectiveTextAlignHorizontal","updateSize","getTextEditSize","css","append","trigger","on","code","key","initShapeTextEditor","drag","kind","dragMoveMode","drawLaserCircle","dragLaser","it","START","END","willDrawAt","push","flushTempDrawing","dragNative","contextmenu","enter","leave","touchInput","active","discarded","touch","timer","twoFingerTap","touches","firstRemoved","secondRemoved","lastPos","lastTouch","buffer","doublePan","origZoom","gestures","activeGesture","activeTouches","initPos","gest","hasZoomCond","d1","dist","d2","abs","findTouches","t1","t2","updatePos","shift","mapTouches","ret","pageX","pageY","identifier","sqrt","attachEvents","addEventListener","ev","preventDefault","start","changedTouches","targetTouches","end","cancel","inProgress","splice","reset","clearTimeout","setTimeout","ts","mid1x","mid1y","mid2x","mid2y","mouseInput","clickTimer","mdown","moved","initialX","initialY","savedZoom","pointerLoc","pointerLocation","ctrlKey","newval","floor","deltaY","deltaX","bean","button","offsetX","offsetY","x1","y1","x2","y2","command","inputModeChanged","getShapeAddLocation","loc","at","del","copy","cut","paste","pasteAt","selectAll","addBox","addObjectToCanvas","addCircle","addUser","addDb","addCloud","addNote","escape","handleEscapeKey","undo","redo","moveToFront","moveObjectToFront","moveToBack","moveObjectToBack","Footer","count","setCount","curCount","handleCount","handleAddCount","SideBarStyle","sideBar","sideBarMenu","alignItems","flexDirection","menuIcons","marginBottom","menuItem","sideMenuIcons","changeColor","spaceBwt","spaceBwtRound","expandedMenu","expandedMenuItem","expandedMenuItemActive","LibCell","canvasRef","useRef","context","enabled","current","useEffect","ref","CircleColors","ShapesList","SideBarMenuItems","icon","subMenus","drawStyle","colorIndex","dashIndex","widthIndex","setColor","carr","colors","toLowerCase","colorNameToVal","setStrokeColor","setDashIndex","setDashType","setWidthIndex","currentStyle","setStrokeWidth","ChessCircle","strokeWidth","WhiteCircle","ColorNameToVal","lineColors","extraColors","fillColors","concat","ColorListOld","selectedIndex","onColorChange","ColorList","curColor","alpha","component","dr","red","dg","green","db","blue","tmp","getSelectedIndex","cl","Config","mediaQuery","StrokeStyle","setColorIndex","widthCircles","dashLines","getDashLines","dashLine","iconsId","onDashChange","getWidthCircles","wcircle","onWidthChange","anchorEl","placement","subMenuIcons","matchMedia","matches","Popper","transition","TransitionProps","Fade","timeout","Paper","SelectionGroupPopup","chooseSelectMode","setSelectionMode","chooseMoveMode","itemClass","itemClassActive","selectStyle","moveStyle","menuClass","util","generateUUID","d","Date","getTime","performance","now","replace","c","r","toString","mouseLocation","event","dragging","update","children","DragPanel","initialValue","React","state","setState","stateRef","useRefState","counterRef","setCounter","LekhDraggable","setEnabled","updatePanel","cloneElement","onStart","onDrag","onStop","MiniLib","popperRef","createRef","expand","shape","onDragStop","ShapesGroup","canvasId","keyboardInput","showingDialog","listeners","postListeners","isMac","navigator","userAgent","indexOf","handlers","addListener","removeListener","addPostListener","removePostListener","handleKeyDown","handled","handler","shiftKey","altKey","metaKey","searchTimer","SearchBox","reload","placeholder","searchCompleted","FullLib","showMoreSettings","showMoreSettingsRef","setShowMoreSttings","textBox","activeElement","keyboard","shapesGroupRef","scrollTop","icons","displaySettings","Switch","ShapeLibrary","setExpanded","containerRef","popUpRect","mid","onExpand","TextModePopup","propsUtil","connectionEditMaxHeight","showHelpMaxHeight","propertyEditMaxHeight","styleEditMaxHeight","getPlacement","maxHeight","transform","tpRect","clientWidth","clientHeight","getTopPlacement","Help","needToShowShapeHelp","editor","startPropertyEditing","isValid","setNeedToShowShapeHelp","helpText","getHelpText","getBound","pos","ClickAwayListener","onClickAway","dangerouslySetInnerHTML","__html","EnumPicker","setSelectedVal","properties","getProperties","items","enumItems","done","List","ListItem","setVal","selectItem","ListItemText","primary","ListItemSecondaryAction","Property","showingEnum","setShowingEnum","enumPropIdx","setEnumPropIdx","needPropertyEditing","setNeedPropertyEditing","handleEnumSelect","changeBoolVal","changeNumberVal","plus","prop","minVal","maxVal","changeSliderVal","newVal","min","range","propVal","getSliderVal","max","valueType","toFixed","Slider","finalize","LineStyle","effectiveStrokeWidth","effectiveStrokePaint","solidColor","dashType","getDashType","cls","setLineColor","FillColor","effectiveFillPaint","setFillColor","FontEditor","effectiveTextFill","fontSz","alignV","effectiveTextAlignVertical","alignHz","changeHzAlign","setHorizontalAlignment","changeVAlign","setVerticalAlignment","setFontSize","paddingTop","borderTop","setTextColor","StyleEditor","selectedTab","setSelectedTab","needStyleEditing","startStyleEditing","getObjectBound","setNeedStyleEditing","tab","ArrowCell","drawArrowCell","side","ConnectionEditor","needConnectionEditing","startConnectionEditing","setStartArrow","setEndArrow","arrowCount","startArrowType","endArrowType","arrowsLeft","arrowsRight","clientX","clientY","setNeedConnectionEditing","Select","disableUnderline","shapePropsUtil","ShapeProps","handleKey","isPropertyWindowOpen","dismissWindow","propsEdit","showHelp","styleEdit","connectionEdit","SideBarMenu","setAnchorEl","setPlacement","setSubMenuIcons","afterKeyHandling","getIconAndName","sidebar","newPlacement","Content","Layover","href","appEvent","attachEventHandlers","initializer","toggleDebug","getLekhResource","sc","luaScripts","apiBasePath","runtimeInitialized","initialInitDone","docReady","appendScript","scriptToAppend","script","src","async","body","appendChild","onRuntimeInitialized","initInternal","URL","searchParams","get","np","offline","xhttp","XMLHttpRequest","onreadystatechange","this","readyState","status","hasTouchScreen","maxTouchPoints","msMaxTouchPoints","mQ","media","UA","test","hasTouch","obj","parse","responseText","withCredentials","newUrl","origin","startDoc","ws","WebSocket","onopen","setInterval","onmessage","updateDoc","onclose","clearInterval","onerror","key1","key2","div","ContextMenu","mappedPt","handleMenu","showHandler","cmStatus","getContextMenuStatus","canArrage","canSelectAll","canCut","canCopy","canPaste","canDelete","keyName","keepMounted","anchorReference","anchorPosition","rightIcon","divider","AppComponent","wsState","ctxMenu","ctxMenuPos","sideMenuSelectedItem","wsCallback","handleWSState","bind","show","layover","Component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.1ae79560.chunk.js","sourcesContent":["import React, { useState } from 'react';\n\n\nconst HeaderStyle = {\n    root: {\n        flexGrow: 1,\n    },\n    title: {\n        flexGrow: 1,\n    },\n    arrowUp: {\n        top: '54px',\n        position: 'absolute',\n    },\n    MainGrid: {\n        display: 'flex',\n        position: 'relative',\n    },\n    outClass: {\n        position: 'relative',\n        margin: '0 auto',\n        bottom: '2px',\n        border: '1px solid #d1d1d1',\n    },\n    paper: {\n        background: '#fff',\n        borderRadius: '8px',\n        padding: '15px 126px',\n        textAlign: 'center',\n        color: '#000',\n        position: 'absolute',\n        margin: '20px',\n        marginRight: '0',\n        right: '-10px',\n        top: '4px',\n        minHeight: '180px',\n        '&::before': {\n            content: '\"s\"',\n            position: 'absolute',\n            width: 0,\n            height: 0,\n            borderLeft: '19px solid transparent',\n            borderRight: '19px solid transparent',\n            borderBottom: '28px solid #fff',\n            top: '-28px',\n            right: '27px',\n            marginLeft: 'auto',\n            fontSize: 0,\n            zIndex: 9,\n        }\n    },\n    responsicePaper:{\n            width: '0px',\n            background: '#fff',\n            borderRadius: '8px',\n            padding: '0px 66px',\n            textAlign: 'center',\n            color: '#000',\n            margin: '20px',\n            marginRight: '0',\n            right: '19px',\n            top: '13px',\n            minHeight: '123px',\n        '&::before': {\n            content: '\"s\"',\n            position: 'absolute',\n            width: 0,\n            height: 0,\n            borderLeft: '19px solid transparent',\n            borderRight: '19px solid transparent',\n            borderBottom: '28px solid #fff',\n            top: '-28px',\n            right: '27px',\n            marginLeft: 'auto',\n            fontSize: 0,\n            zIndex: 9,\n        }\n    },\n    textIcon:{\n    margin: '-7px',\n    paddingRight: '8px',\n    },\n    checkIcon:{\n        position:'absolute',\n        margin:'5px'\n    },\n    appMenu: {\n        top: \"16px !important\"\n    }\n\n}\n\nexport default HeaderStyle;","var globalState = { }\n\nvar zoomHandler = null;\n\nglobalState.setZoomHandler = function(cb) {\n    zoomHandler = cb;\n}\n\nglobalState.onZoom = function() {\n    if (zoomHandler != null) {\n        zoomHandler(window.Module.getZoom());\n    }\n}\n\nexport default globalState;\n","function stencilUrl(name) {\n    return \"https://rajeevku02.github.io/lekhboard/stencils/v3/\" + name;\n}\n\nvar stencils = [\n    [\"Font Awesome Brands\", \"fab\", \"UI Mockup\", \"Font Awesome\", stencilUrl(\"fa_brands.json\")],\n    [\"Font Awesome Solid\", \"fa\", \"UI Mockup\", \"Font Awesome\", stencilUrl(\"fa_solid.json\")],\n    [\"Font Awesome Regular\", \"far\", \"UI Mockup\", \"Font Awesome\", stencilUrl(\"fa_regular.json\")],\n    [\"Wireframe Big\", \"avabodh.wireframe.big\", \"Software\", \"UI Wireframe\", stencilUrl(\"wireframe.json\")],\n    [\"Wireframe Buttons\", \"avabodh.wireframe.buttons\", \"Software\", \"UI Wireframe\", stencilUrl(\"wireframe.json\")],\n    [\"Wireframe Forms\", \"avabodh.wireframe.forms\", \"Software\", \"UI Wireframe\", stencilUrl(\"wireframe.json\")],\n    [\"Wireframe Text\", \"avabodh.wireframe.text\", \"Software\", \"UI Wireframe\", stencilUrl(\"wireframe.json\")],\n    [\"Wireframe Layout\", \"avabodh.wireframe.layout\", \"Software\", \"UI Wireframe\", stencilUrl(\"wireframe.json\")],\n    [\"Wireframe Markup\", \"avabodh.wireframe.markup\", \"Software\", \"UI Wireframe\", stencilUrl(\"wireframe.json\")],\n    [\"Wireframe Media\", \"avabodh.wireframe.media\", \"Software\", \"UI Wireframe\", stencilUrl(\"wireframe.json\")],\n    [\"Wireframe iOS\", \"avabodh.wireframe.ios\", \"Software\", \"UI Wireframe\", stencilUrl(\"wireframe.json\")],\n    [\"Wireframe Android\", \"avabodh.wireframe.android\", \"Software\", \"UI Wireframe\", stencilUrl(\"wireframe.json\")],\n    [\"Wireframe Misc\", \"avabodh.wireframe.misc\", \"Software\", \"UI Wireframe\", stencilUrl(\"wireframe.json\")],\n    [\"Wireframe iOS Icons\", \"avabodh.wireframe.iosicons\", \"Software\", \"UI Wireframe\", stencilUrl(\"ios_icons.json\")],\n    [\"Network Infrastructure\", \"avabodh.networks\", \"Network\", \"Network Infrastructure\", stencilUrl(\"networks.json\")],\n    [\"Office Clouds\", \"avabodh.office.clouds\", \"Network\", \"Office\", stencilUrl(\"office_cloud.json\")],\n    [\"Office Communications\", \"avabodh.office.communications\", \"Network\", \"Office\", stencilUrl(\"office_communications.json\")],\n    [\"Office Concepts\", \"avabodh.office.concepts\", \"Network\", \"Office\", stencilUrl(\"office_concepts.json\")],\n    [\"Office Databases\", \"avabodh.office.databases\", \"Network\", \"Office\", stencilUrl(\"office_databases.json\")],\n    [\"Office Devices\", \"avabodh.office.devices\", \"Network\", \"Office\", stencilUrl(\"office_devices.json\")],\n    [\"Office Security\", \"avabodh.office.security\", \"Network\", \"Office\", stencilUrl(\"office_security.json\")],\n    [\"Office Servers\", \"avabodh.office.servers\", \"Network\", \"Office\", stencilUrl(\"office_servers.json\")],\n    [\"Office Services\", \"avabodh.office.services\", \"Network\", \"Office\", stencilUrl(\"office_services.json\")],\n    [\"Office Sites\", \"avabodh.office.sites\", \"Network\", \"Office\", stencilUrl(\"office_sites.json\")],\n    [\"Office Users\", \"avabodh.office.users\", \"Network\", \"Office\", stencilUrl(\"office_users.json\")],\n    [\"AWS Analytics\", \"avabodh.AWS_Simple_Icons_EPS-SVG_v17.1.6.Analytics\", \"Network\", \"AWS\", stencilUrl(\"aws_analytics.json\")],\n    [\"AWS Application Services\", \"avabodh.AWS_Simple_Icons_EPS-SVG_v17.1.6.Application Services\", \"Network\", \"AWS\", stencilUrl(\"aws_application_services.json\")],\n    [\"AWS Artificial Intelligence\", \"avabodh.AWS_Simple_Icons_EPS-SVG_v17.1.6.Artificial Intelligence\", \"Network\", \"AWS\", stencilUrl(\"aws_artificial_intelligence.json\")],\n    [\"AWS Business Productivity\", \"avabodh.AWS_Simple_Icons_EPS-SVG_v17.1.6.Business Productivity\", \"Network\", \"AWS\", stencilUrl(\"aws_business_productivity.json\")],\n    [\"AWS Compute\", \"avabodh.AWS_Simple_Icons_EPS-SVG_v17.1.6.Compute\", \"Network\", \"AWS\", stencilUrl(\"aws_compute.json\")],\n    [\"AWS Database\", \"avabodh.AWS_Simple_Icons_EPS-SVG_v17.1.6.Database\", \"Network\", \"AWS\", stencilUrl(\"aws_database.json\")],\n    [\"AWS Desktop & Streaming\", \"avabodh.AWS_Simple_Icons_EPS-SVG_v17.1.6.Desktop App Streaming\", \"Network\", \"AWS\", stencilUrl(\"aws_desktop_app_streaming.json\")],\n    [\"AWS Developer Tools\", \"avabodh.AWS_Simple_Icons_EPS-SVG_v17.1.6.Developer Tools\", \"Network\", \"AWS\", stencilUrl(\"aws_developer_tools.json\")],\n    [\"AWS Game Development\", \"avabodh.AWS_Simple_Icons_EPS-SVG_v17.1.6.Game Development\", \"Network\", \"AWS\", stencilUrl(\"aws_game_development.json\")],\n    [\"AWS General\", \"avabodh.AWS_Simple_Icons_EPS-SVG_v17.1.6.General\", \"Network\", \"AWS\", stencilUrl(\"aws_general.json\")],\n    [\"AWS Internet of Things\", \"avabodh.AWS_Simple_Icons_EPS-SVG_v17.1.6.Internet of Things\", \"Network\", \"AWS\", stencilUrl(\"aws_internet_of_things.json\")],\n    [\"AWS Management Tools\", \"avabodh.AWS_Simple_Icons_EPS-SVG_v17.1.6.Management Tools\", \"Network\", \"AWS\", stencilUrl(\"aws_management_tools.json\")],\n    [\"AWS Messaging\", \"avabodh.AWS_Simple_Icons_EPS-SVG_v17.1.6.Messaging\", \"Network\", \"AWS\", stencilUrl(\"aws_messaging.json\")],\n    [\"AWS Migration\", \"avabodh.AWS_Simple_Icons_EPS-SVG_v17.1.6.Migration\", \"Network\", \"AWS\", stencilUrl(\"aws_migration.json\")],\n    [\"AWS Mobile Services\", \"avabodh.AWS_Simple_Icons_EPS-SVG_v17.1.6.Mobile Services\", \"Network\", \"AWS\", stencilUrl(\"aws_mobile_services.json\")],\n    [\"AWS Networking & Content Delivery\", \"avabodh.AWS_Simple_Icons_EPS-SVG_v17.1.6.Networking And Content Delivery\", \"Network\", \"AWS\", stencilUrl(\"aws_networking_and_content_delivery.json\")],\n    [\"AWS On Demand Workforce\", \"avabodh.AWS_Simple_Icons_EPS-SVG_v17.1.6.On Demand Workforce\", \"Network\", \"AWS\", stencilUrl(\"aws_on_demand_workforce.json\")],\n    [\"AWS SDKs\", \"avabodh.AWS_Simple_Icons_EPS-SVG_v17.1.6.SDKs\", \"Network\", \"AWS\", stencilUrl(\"aws_sdks.json\")],\n    [\"AWS Security Identity & Compliance\", \"avabodh.AWS_Simple_Icons_EPS-SVG_v17.1.6.Security Identity And Compliance\", \"Network\", \"AWS\", stencilUrl(\"aws_security_identity_and_compliance.json\")],\n    [\"AWS Storage\", \"avabodh.AWS_Simple_Icons_EPS-SVG_v17.1.6.Storage\", \"Network\", \"AWS\", stencilUrl(\"aws_storage.json\")],\n    [\"Azure Common\", \"avabodh.azure\", \"Network\", \"Azure\", stencilUrl(\"azure.json\")],\n    [\"Azure Cloud\", \"avabodh.azure.cloud\", \"Network\", \"Azure\", stencilUrl(\"mscae_cloud.json\")],\n    [\"Azure General\", \"avabodh.azure.general\", \"Network\", \"Azure\", stencilUrl(\"mscae_general.json\")],\n    [\"Azure Enterprise\", \"avabodh.azure.enterprise\", \"Network\", \"Azure\", stencilUrl(\"mscae_enterprise.json\")],\n    [\"Azure Intune\", \"avabodh.azure.intune\", \"Network\", \"Azure\", stencilUrl(\"mscae_intune.json\")],\n    [\"Azure System Center\", \"avabodh.azure.system_center\", \"Network\", \"Azure\", stencilUrl(\"mscae_system_center.json\")],\n    [\"Azure Other\", \"avabodh.azure.other\", \"Network\", \"Azure\", stencilUrl(\"mscae_other.json\")],\n    [\"GCP Big Data\", \"avabodh.GCP.Big Data\", \"Network\", \"Google Cloud Platform\", stencilUrl(\"gcp_big_data.json\")],\n    [\"GCP Compute\", \"avabodh.GCP.Compute\", \"Network\", \"Google Cloud Platform\", stencilUrl(\"gcp_compute.json\")],\n    [\"GCP Developer Tools\", \"avabodh.GCP.Developer Tools\", \"Network\", \"Google Cloud Platform\", stencilUrl(\"gcp_developer_tools.json\")],\n    [\"GCP Extras\", \"avabodh.GCP.Extras\", \"Network\", \"Google Cloud Platform\", stencilUrl(\"gcp_extras.json\")],\n    [\"GCP Identity & Security\", \"avabodh.GCP.Identity And Security\", \"Network\", \"Google Cloud Platform\", stencilUrl(\"gcp_identity_and_security.json\")],\n    [\"GCP Machine Learning\", \"avabodh.GCP.Machine Learning\", \"Network\", \"Google Cloud Platform\", stencilUrl(\"gcp_machine_learning.json\")],\n    [\"GCP Management Tools\", \"avabodh.GCP.Management Tools\", \"Network\", \"Google Cloud Platform\", stencilUrl(\"gcp_management_tools.json\")],\n    [\"GCP Networking\", \"avabodh.GCP.Networking\", \"Network\", \"Google Cloud Platform\", stencilUrl(\"gcp_networking.json\")],\n    [\"GCP Storage & Databases\", \"avabodh.GCP.Storage And Databases\", \"Network\", \"Google Cloud Platform\", stencilUrl(\"gcp_storage_and_databases.json\")],\n    [\"Citrix\", \"avabodh.citrix\", \"Network\", \"Citrix\", stencilUrl(\"citrix.json\")],\n    [\"Cisco Buildings\", \"avabodh.cisco.buildings\", \"Network\", \"Cisco\", stencilUrl(\"cisco_buildings.json\")],\n    [\"Cisco Computers & Peripherals\", \"avabodh.cisco.computers_and_peripherals\", \"Network\", \"Cisco\", stencilUrl(\"cisco_computers_and_peripherals.json\")],\n    [\"Cisco Controllers & Modules\", \"avabodh.cisco.controllers_and_modules\", \"Network\", \"Cisco\", stencilUrl(\"cisco_controllers_and_modules.json\")],\n    [\"Cisco Directors\", \"avabodh.cisco.directors\", \"Network\", \"Cisco\", stencilUrl(\"cisco_directors.json\")],\n    [\"Cisco Hubs & Gateways\", \"avabodh.cisco.hubs_and_gateways\", \"Network\", \"Cisco\", stencilUrl(\"cisco_hubs_and_gateways.json\")],\n    [\"Cisco Misc\", \"avabodh.cisco.misc\", \"Network\", \"Cisco\", stencilUrl(\"cisco_misc.json\")],\n    [\"Cisco Modems & Phones\", \"avabodh.cisco.modems_and_phones\", \"Network\", \"Cisco\", stencilUrl(\"cisco_modems_and_phones.json\")],\n    [\"Cisco People\", \"avabodh.cisco.people\", \"Network\", \"Cisco\", stencilUrl(\"cisco_people.json\")],\n    [\"Cisco Routers\", \"avabodh.cisco.routers\", \"Network\", \"Cisco\", stencilUrl(\"cisco_routers.json\")],\n    [\"Cisco Security\", \"avabodh.cisco.security\", \"Network\", \"Cisco\", stencilUrl(\"cisco_security.json\")],\n    [\"Cisco Servers\", \"avabodh.cisco.servers\", \"Network\", \"Cisco\", stencilUrl(\"cisco_servers.json\")],\n    [\"Cisco Storage\", \"avabodh.cisco.storage\", \"Network\", \"Cisco\", stencilUrl(\"cisco_storage.json\")],\n    [\"Cisco Switches\", \"avabodh.cisco.switches\", \"Network\", \"Cisco\", stencilUrl(\"cisco_switches.json\")],\n    [\"Cisco Wireless\", \"avabodh.cisco.wireless\", \"Network\", \"Cisco\", stencilUrl(\"cisco_wireless.json\")],\n    [\"Rack APC\", \"avabodh.rack.APC\", \"Network\", \"Server Rack\", stencilUrl(\"rack_apc.json\")],\n    [\"Rack Cisco\", \"avabodh.rack.cisco\", \"Network\", \"Server Rack\", stencilUrl(\"rack_cisco.json\")],\n    [\"Rack Dell\", \"avabodh.rack.Dell\", \"Network\", \"Server Rack\", stencilUrl(\"rack_dell.json\")],\n    [\"Rack F5\", \"avabodh.rack.f5\", \"Network\", \"Server Rack\", stencilUrl(\"rack_f5.json\")],\n    [\"Rack General\", \"avabodh.rack.General\", \"Network\", \"Server Rack\", stencilUrl(\"rack_general.json\")],\n    [\"Rack HP\", \"avabodh.rack.HP\", \"Network\", \"Server Rack\", stencilUrl(\"rack_hp.json\")],\n    [\"Rack IBM\", \"avabodh.rack.IBM\", \"Network\", \"Server Rack\", stencilUrl(\"rack_ibm.json\")],\n    [\"Rack Oracle\", \"avabodh.rack.Oracle\", \"Network\", \"Server Rack\", stencilUrl(\"rack_oracle.json\")],\n    [\"Web Icons\", \"avabodh.webicons\", \"Network\", \"Web Icons\", stencilUrl(\"web_icons.json\")],\n    [\"Web Logos\", \"avabodh.weblogos\", \"Network\", \"Web Icons\", stencilUrl(\"web_logos.json\")],\n    [\"Sign Animals\", \"avabodh.signs.animals\", \"Other\", \"Signs And Pictograph\", stencilUrl(\"sign_animals.json\")],\n    [\"Sign Food\", \"avabodh.signs.food\", \"Other\", \"Signs And Pictograph\", stencilUrl(\"sign_food.json\")],\n    [\"Sign Healthcare\", \"avabodh.signs.healthcare\", \"Other\", \"Signs And Pictograph\", stencilUrl(\"sign_healthcare.json\")],\n    [\"Sign Nature\", \"avabodh.signs.nature\", \"Other\", \"Signs And Pictograph\", stencilUrl(\"sign_nature.json\")],\n    [\"Sign People\", \"avabodh.signs.people\", \"Other\", \"Signs And Pictograph\", stencilUrl(\"sign_people.json\")],\n    [\"Sign Safety\", \"avabodh.signs.safety\", \"Other\", \"Signs And Pictograph\", stencilUrl(\"sign_safety.json\")],\n    [\"Sign Science\", \"avabodh.signs.science\", \"Other\", \"Signs And Pictograph\", stencilUrl(\"sign_science.json\")],\n    [\"Sign Sports\", \"avabodh.signs.sports\", \"Other\", \"Signs And Pictograph\", stencilUrl(\"sign_sports.json\")],\n    [\"Sign Tech\", \"avabodh.signs.tech\", \"Other\", \"Signs And Pictograph\", stencilUrl(\"sign_tech.json\")],\n    [\"Sign Transportation\", \"avabodh.signs.transportation\", \"Other\", \"Signs And Pictograph\", stencilUrl(\"sign_transportation.json\")],\n    [\"Sign Travel\", \"avabodh.signs.travel\", \"Other\", \"Signs And Pictograph\", stencilUrl(\"sign_travel.json\")]\n]\n\nexport default stencils;","import stencils from \"./Stencils\"\nimport libnames from '../data/libnames.json'\n\nvar shapes = {\n    expanded: false,\n    libraryColCount: 4,\n    scroll: 0,\n    searchText: ''\n}\n\nconst loadingUrls = new Set()\n\nvar miniGroup = {\n    name: 'Default',\n    shapes: [\n        {category: 0, num: 0, name: ''},\n        {category: 0, num: 2, name: ''},\n        {category: 0, num: 3, name: ''},\n        {category: 0, num: 5, name: ''},\n        {category: 0, num: 6, name: ''},\n        {category: 0, num: 7, name: ''},\n        {category: 0, num: 8, name: ''},\n        {category: 2, num: 1, name: ''},\n        {category: 2, num: 2, name: ''},\n        {category: 2, num: 5, name: ''},\n        {category: 2, num: 6, name: ''},\n        {category: 2, num: 10, name: ''},\n        {category: 2, num: 20, name: ''},\n        {category: 3, num: 0, name: ''},\n        {category: 3, num: 4, name: ''},\n        {category: 5, num: 0, name: ''},\n        {category: 5, num: 4, name: ''},\n        {category: 5, num: 5, name: ''},\n        {category: 5, num: 6, name: ''},\n        {category: 5, num: 7, name: ''},\n        {category: 5, num: 8, name: ''},\n        {category: 5, num: 9, name: ''},\n        {category: 5, num: 10, name: ''},\n        {category: 4, num: 1, name: ''}\n    ]\n}\n\nfunction initEmptyCategs() {\n    for (let item of stencils) {\n        window.Module.libraryStore().initEmptyCateg(item[0], item[1], item[2], item[3], item[4]);\n    }\n}\n\nasync function loadTemplate(name) {\n    await fetch(name)\n      .then(response => response.json())\n      .then(response => {\n        window.Module.libraryStore().initObjects(JSON.stringify(response));\n      })\n}\n  \nasync function loadAll() {\n    window.Module.libraryStore().initNames(JSON.stringify(libnames));\n    await loadTemplate(\"templates/v4/templates.json\")\n    await loadTemplate(\"templates/v4/connection_arrows.json\")\n    await loadTemplate(\"templates/v4/basic.json\")\n    await loadTemplate(\"templates/v4/container.json\")\n    await loadTemplate(\"templates/v4/flowchart.json\")\n    await loadTemplate(\"templates/v4/arrow.json\")\n    await loadTemplate(\"templates/v4/callout.json\")\n    await loadTemplate(\"templates/v4/misc.json\")\n}\n\nshapes.initialize = async function() {\n    await loadAll();  \n    window.Module.libraryStore().init(shapes.libraryColCount);\n    initEmptyCategs();\n    window.Module.libraryStore().onDisplaySettingChange();\n}\n\nshapes.groupCount = function() {\n    return window.Module.getShapeLibGroupCount();\n}\n\nshapes.getGroup = function(idx) {\n    var group = window.Module.getShapeLibGroup(idx);\n    return group;\n}\n\nshapes.expandGroup = function(idx, flag) {\n    window.Module.expandShapeLibGroup(idx, flag);\n}\n\nshapes.getShapes = function(idx, cb) {\n    var group = window.Module.getShapeLibGroup(idx);\n    if (group == null) {\n        return;\n    }\n    if (group.contentUrl) {\n        if (loadingUrls.has(group.contentUrl)) {\n            return;\n        }\n        loadingUrls.add(group.contentUrl);\n        fetch(group.contentUrl)\n            .then(response => response.json())\n            .then(response => {\n                window.Module.libraryStore().initObjects(JSON.stringify(response));\n                cb();\n                loadingUrls.delete(group.contentUrl);\n            });\n    }\n}\n\nshapes.getMiniGroup = function() {\n    return miniGroup;\n}\n\nshapes.getDisplaySettings = function() {\n    return window.Module.getShapeLibDisplaySettings();\n}\n\nshapes.setDisplaySetting = function(name, flag) {\n    window.Module.libraryStore().addDisplaySetting(name, flag);\n    window.Module.libraryStore().onDisplaySettingChange();\n}\n\nshapes.search = function(text) {\n    shapes.searchText = text;\n    window.Module.libraryStore().filterObjects(text);\n}\n\nexport default shapes\n","import globalState from './GlobalState'\nimport shapes from '../shapelib/Shapes'\n\nvar canvas = {\n    moving: false,\n    fromX: 0,\n    fromY: 0,\n    origScrollX: 0,\n    origScrollY: 0,\n    showGrid: true,\n    gridType: 2,\n };\n\nvar canvasElement = null;\n\ncanvas.toggleGrid = function() {\n    canvas.showGrid = !canvas.showGrid;\n    canvas.drawGrid();\n}\n\ncanvas.onResize = function() {\n    canvasElement = null;\n    canvas.setSize();\n    canvas.draw();\n    canvas.drawGrid();\n}\n\ncanvas.moveDelta = function(dx, dy) {\n    var zm = window.Module.getZoom();\n    var scroll = window.Module.getScroll();\n    dx = dx / zm;\n    dy = dy / zm;\n    window.Module.setScroll({x: scroll.x + dx, y: scroll.y + dy});\n    canvas.drawGrid();\n    canvas.draw();\n}\n\ncanvas.getMidPoint = () => {\n    var tp = document.getElementById('transparentPanel');\n    var rect = tp.getBoundingClientRect();\n    var x = (rect.left + rect.right) / 2;\n    var y = (rect.top + rect.bottom) / 2;\n    return {x: x, y: y};\n}\n\ncanvas.isVisible = (x, y, pad) => {\n    var tp = document.getElementById('transparentPanel');\n    var rect = tp.getBoundingClientRect();\n    return x-pad >= rect.left && x+pad <= rect.right && y-pad >= rect.top && y+pad <= rect.bottom;\n}\n\ncanvas.move = function(x, y, type) {\n    var zm = window.Module.getZoom();\n     if (type == 0) {\n         var scroll = window.Module.getScroll();\n         canvas.moving = true;\n         canvas.fromX = x;\n         canvas.fromY = y;\n         canvas.origScrollX = scroll.x;\n         canvas.origScrollY = scroll.y;\n     }\n     if (type == 1 && canvas.moving) {\n        var dx = x - canvas.fromX;\n        var dy = y - canvas.fromY;\n        var sx = canvas.origScrollX + dx / zm;\n        var sy = canvas.origScrollY + dy / zm;\n        window.Module.setScroll({x: sx, y: sy});\n     }\n\n     if (type == 2 && canvas.moving) {\n         canvas.moving = false;\n     }\n}\n\ncanvas.mapx = function(x) {\n    var zm = window.Module.getZoom();\n    var scroll = window.Module.getScroll();\n    return (x  + scroll.x) * zm;\n}\n\ncanvas.mapy = function(y) {\n    var zm = window.Module.getZoom();\n    var scroll = window.Module.getScroll();\n    return (y  + scroll.y) * zm;\n}\n\ncanvas.maprx = function(x) {\n    var zm = window.Module.getZoom();\n    var scroll = window.Module.getScroll();\n    return x / zm - scroll.x;\n}\n\ncanvas.mapry = function(y) {\n    var zm = window.Module.getZoom();\n    var scroll = window.Module.getScroll();\n    return y / zm - scroll.y;\n}\n\ncanvas.getZoom = function() {\n    return window.Module.getZoom();\n}\n\ncanvas.zoomAt = function(x, y, factor) {\n    // (x + d1) * z1 = x'\n    // (x + d2) * z2 = x'\n    // from these two equations, calculate d2\n    var z1 = window.Module.getZoom();\n    z1 = Math.round(z1 * 100) / 100;\n    var z2 = Math.round(factor * 100) / 100;\n    \n    // If new zoom and old zoom are same in scale of [1 100]\n    // then do not do anything\n    if (Math.round(z1 * 100) == Math.round(z2 * 100)) {\n        return;\n    }\n\n    var scroll = window.Module.getScroll();\n\n    var dx = (x / z2) - (x / z1) + scroll.x;\n    var dy = (y / z2) - (y / z1) + scroll.y;\n\n    window.Module.setScroll({x: dx, y: dy});\n    window.Module.setZoom(Math.round(z2 * 100));\n\n    globalState.onZoom();\n    canvas.drawGrid();\n    canvas.draw();\n }\n\ncanvas.zoom = function(factor) {\n    var vport = document.getElementById(\"viewport\");\n    var rect = vport.getBoundingClientRect();\n    canvas.zoomAt(rect.width / 2, rect.height / 2, factor);\n}\n\nconst fixCanvas = function(cnv, width, height) {\n    var dpr = window.devicePixelRatio || 1;\n    cnv.width = width * dpr;\n    cnv.height = height * dpr;\n    cnv.style.width = width + \"px\";\n    cnv.style.height = height + \"px\";\n    var ctx = cnv.getContext(\"2d\");\n    ctx.scale(dpr, dpr);\n}\ncanvas.setSize = function() {\n    var vport = document.getElementById(\"viewport\");\n    var rect = vport.getBoundingClientRect();\n    var panel = document.getElementById(\"gridCanvas\");\n    fixCanvas(panel, rect.width, rect.height);\n    var canvasElement = document.getElementById(\"drawCanvas\");\n    fixCanvas(canvasElement, rect.width, rect.height);\n    var tp = document.getElementById(\"transparentPanel\");\n    fixCanvas(tp, rect.width, rect.height);\n}\n\ncanvas.exportToImage = function(format) {\n    var padding = 10;\n    var rect = window.Module.getBoundsOfAll();\n    var sx = padding - rect.x;\n    var sy = padding - rect.y;\n    var width = rect.width + 2 * padding;\n    var height = rect.height + 2 * padding;\n\n    var cel = document.createElement(\"canvas\");\n    fixCanvas(cel, width, height);\n    var ctx = cel.getContext(\"2d\");\n\n    if (format == \"jpg\" || format == \"jpeg\") {\n        ctx.fillStyle = '#fff';\n        ctx.fillRect(0, 0, width, height);\n    }\n    window.Module.drawCanvasForExport(ctx, sx, sy);\n    return {data: cel.toDataURL(\"image/\" + format), width: width, height: height }\n}\n\ncanvas.drawGrid = function() {\n    var panel = document.getElementById(\"gridCanvas\");\n    var wd = panel.width;\n    var ht = panel.height;\n    var ctx = panel.getContext('2d');\n    ctx.clearRect(0, 0, panel.width, panel.height);\n    if (!canvas.showGrid) {\n        return;   \n    }\n    var zm = window.Module.getZoom();\n    var scroll = window.Module.getScroll();\n    var rad = 1 * zm;\n    var step = 48 * zm;\n\n    var startx = (scroll.x * zm) % step;\n    var starty = (scroll.y * zm) % step;\n\n    if (canvas.gridType == 1) {\n        if (step < 16) {\n            return;\n        }\n        ctx.beginPath();\n        ctx.fillStyle = \"#c0c0c0\";\n        ctx.strokeStyle = \"#c0c0c0\";\n        for (var i = starty; i < ht; i+= step) {\n            for (var j = startx; j < wd; j+= step) {\n                ctx.moveTo(j + rad, i);\n                ctx.arc(j, i, rad, 0, 2 * Math.PI, false);\n            }\n        }\n        ctx.fill();\n        ctx.stroke();\n    } else {\n        if (step < 8) {\n            return;\n        }\n        ctx.lineWidth = 0.1;\n        ctx.strokeStyle = \"#606060\";\n        ctx.beginPath();\n        for (var i = starty; i < ht; i+= step) {\n          ctx.moveTo(0, i);\n          ctx.lineTo(wd, i);\n        }\n        for (i = startx; i < wd; i+= step) {\n          ctx.moveTo(i, 0);\n          ctx.lineTo(i, ht);\n        }\n        ctx.stroke();\n    }\n}\n  \ncanvas.draw = function() {\n    if (canvasElement == null) {\n        canvasElement = document.getElementById(\"drawCanvas\");\n    }\n    \n    var ctx = canvasElement.getContext(\"2d\");\n    ctx.clearRect(0, 0, canvasElement.width, canvasElement.height);\n    window.Module.drawCanvas(ctx);\n}\n\ncanvas.drawCell = function(categ, num, sz, ctx) {\n    var row = num / shapes.libraryColCount;\n    var col = num % shapes.libraryColCount;\n    var padding = 8;\n    window.Module.drawCell(categ, row, col, sz - padding, sz / 2, sz / 2, ctx);\n}\n\ncanvas.drawArrow = function(type, size, ctx) {\n}\n\nwindow.drawCanvas = canvas.draw;\n\nexport default canvas;","import React, { useState } from \"react\"\nimport { AiOutlineClose } from \"react-icons/ai\"\n\nconst Feedback = ({ handleClose }) => {\n  const [feedbackForm, setFeedbackForm] = useState({})\n\n  const handleChange = e => {\n    const name = e.target.name\n    const value = e.target.value\n    const newEntry = { [name]: value }\n    setFeedbackForm({ ...feedbackForm, ...newEntry })\n  }\n\n  const submitForm = () => {\n    if (feedbackForm.message) {\n      if (window.wsmanager.send) {\n        window.wsmanager.send('', JSON.stringify({\n          'type': 'feedback',\n          'data': feedbackForm\n        }));\n      }\n      handleClose();\n    }\n  }\n\n  var submitDIsabled = !(feedbackForm.message);\n\n  return (\n    <div className=\"feedback \">\n      <div className=\"feedback-form \">\n        <AiOutlineClose\n          className=\"close-feedback\"\n          onClick={() => handleClose()}\n        />\n        <h2>Feedback</h2>\n\n        <div className=\"feedback-input\">\n          <label htmlFor=\"name\">Name</label>\n          <input\n            id=\"name\"\n            onChange={e => handleChange(e)}\n            name=\"name\"\n            required\n          />\n        </div>\n\n        <div className=\"feedback-input\">\n          <label htmlFor=\"email\">Email Address</label>\n          <input\n            id=\"email\"\n            onChange={e => handleChange(e)}\n            name=\"email\"\n            type=\"email\"\n            required\n          />\n        </div>\n\n        <div className=\"feedback-input\">\n          <label htmlFor=\"message\">Message</label>\n          <textarea\n            id=\"message\"\n            onChange={e => handleChange(e)}\n            name=\"message\"\n            type=\"email\"\n            required\n          />\n        </div>\n\n        <button className=\"submit-feedback\" onClick={submitForm} disabled={submitDIsabled}>\n          Submit\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default Feedback\n","import React, { useState } from 'react';\nimport { AppBar, Grid, Toolbar, IconButton, Menu, MenuItem } from \"@material-ui/core\";\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Style from './HeaderStyle';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport NestedMenuItem from \"material-ui-nested-menu-item\";\nimport CheckIcon from '@material-ui/icons/Check';\nimport canvas from '../Canvas'\nimport Dialog from '@material-ui/core/Dialog';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { BiCopy } from \"react-icons/bi\";\nimport { jsPDF } from \"jspdf\";\nimport Feedback from \"./Feedback\"\n\nvar FileSaver = require('file-saver');\n\nconst useStyles = makeStyles(Style);\n\n/*\nvar blobToBase64 = function(blob, callback) {\n    var reader = new FileReader();\n    reader.onload = function() {\n        var dataUrl = reader.result;\n        var base64 = dataUrl.split(',')[1];\n        callback(base64);\n    };\n    reader.readAsDataURL(blob);\n};\n\nfunction download(filename, data) {\n    var element = document.createElement('a');\n    element.setAttribute('href', 'data:application/pdf;base64,' + data);\n    element.setAttribute('download', filename);\n  \n    element.style.display = 'none';\n    document.body.appendChild(element);\n  \n    element.click();\n  \n    document.body.removeChild(element);\n  }\n  */\n\n\nconst AppMenu = (props) => {\n    const classes = useStyles();\n    const [snap, setSnap] = useState(true);\n    const [grid, setGrid] = useState(canvas.showGrid);\n\n    const [value, setValue] = useState('');\n    const [open, setOpen] = useState(false);\n\n    const subOptions = [\n        { id: \"pdf\", name: 'PDF' },\n        { id: \"png\", name: 'PNG' },\n        { id: \"jpeg\", name: 'JPEG' },\n        { id: \"svg\", name: 'SVG' },\n        { id: \"lekh\", name: 'LEKH' },\n    ]\n\n    const options = [\n        /*{ id: 1, name: 'Insert diagram' }, */\n        { id: \"share\", name: 'Share board', checkable: false },\n        { id: \"export\", name: 'Export', submenu:  subOptions},\n        { id: \"grid\", name: 'Show grid', checkable: true },\n        { id: \"snap\", name: 'Snap objects', checkable: true },\n        { id: \"contact\", name: 'Contact us', checkable: false },\n        { id: \"feedback\", name: 'Feedback', checkable: false },\n        { id: \"help\", name: 'Help', checkable: false},\n    ];\n\n    const handleClick = (e) => {\n        setValue(e.currentTarget)\n        setOpen(true)\n    }\n\n    const getChecked = function(id) {\n        if (id == 'grid') {\n            return grid;\n        } else if (id == 'snap') {\n            return snap;\n        }\n        return false;\n    }\n\n    const shareBoard = function() {\n        const handleClose = function() {\n            props.showDialog(null);\n        };\n\n        const copyLink = ()=>{\n            document.getElementById(\"share-link\").select(); \n            document.execCommand(\"copy\");\n        };\n\n        const SearchButton = () => (\n            <IconButton onClick={copyLink}>\n              <BiCopy />\n            </IconButton>\n            )\n\n        var url = window.location;\n        var dialog = (\n        <Dialog onClose={handleClose} aria-labelledby=\"simple-dialog-title\" open={true}>\n        <DialogTitle id=\"simple-dialog-title\">Get the shareable link from below</DialogTitle>\n        <TextField id=\"share-link\" variant=\"outlined\" size=\"small\" defaultValue={url} InputProps={{\n              readOnly: true,\n              endAdornment: <SearchButton/>\n            }}/>\n        <Button onClick={handleClose}>OK</Button>\n      </Dialog>\n      )\n      props.showDialog(dialog)\n    }\n    const giveFeedback = function () {\n      const handleClose = function () {\n        props.showDialog(null)\n      }\n\n      const feedback = (\n        <Dialog onClose={handleClose} aria-labelledby=\"feedback\" open={true}>\n          <Feedback handleClose={handleClose} />\n        </Dialog>\n      )\n\n      props.showDialog(feedback)\n    }\n\n    const handleMenuClick = (id) => {\n        if (id == \"grid\") {\n            setGrid(!grid);\n            canvas.showGrid = !grid;\n            canvas.drawGrid();\n        }\n        if (id == \"snap\") {\n            setSnap(!snap);\n            window.Module.setSnap(!snap);\n        }\n        if (id == \"help\") {\n            window.open(\"https://lekh.app/help.html\", '_blank').focus();\n        }\n        \n        if (id == \"contact\") {\n            window.open(\"https://lekh.app/contact.html\", '_blank').focus();\n        }\n\n        if (id == \"share\") {\n            shareBoard();\n        }\n        if (id == \"feedback\") {\n          giveFeedback()\n        }\n\n        setOpen(false)\n    }\n\n    const exportImage = (format) => {\n        var img = null;\n        try {\n            img = canvas.exportToImage(format);\n        } catch (e) { }\n\n        if (img == null || img.data == \"data:,\") {\n            const handleClose = () => props.showDialog(null);\n            var dialog = (\n                <Dialog onClose={handleClose} aria-labelledby=\"simple-dialog-title\" open={true}>\n                    <DialogTitle id=\"simple-dialog-title\">Unable to export. Canvas is probably too large. Please contact support info@lekhapp.com</DialogTitle>\n                    <Button onClick={handleClose}>OK</Button>\n                </Dialog>\n            )\n            props.showDialog(dialog)\n            return null;\n        }\n\n        return img;\n    }\n\n    const exportPdf  = () => {\n        var img = exportImage(\"jpeg\");\n        if (img == null) {\n            return;\n        }\n        var orient = \"landscape\";\n        if (img.height > img.width) {\n            orient = \"portrait\";\n        }\n        var doc = new jsPDF({\n            orientation: orient,\n            format: [img.width, img.height]\n        })\n        doc.addImage(img.data, 'JPEG', 0, 0, img.width, img.height)\n        doc.save(\"drawing.pdf\");\n\n        // The following code uses canvas2pdf which is not working\n        // Two ways to fix:\n        // 1) Fix the canvas2Pdf and use pdfkit\n        // 2) Use jsPdf which also provide html canvas like API\n        //\n        // In either case we need to change the JSPlatform code to \n        // not use Path2D class as it is marked as experimental\n        //\n        ////Create a new PDF canvas context.\n        //var ctx = new window.canvas2pdf.PdfContext(window.blobStream());\n        //\n        ////draw your canvas like you would normally\n        ////ctx.fillStyle='yellow';\n        ////ctx.fillRect(100,100,100,100);\n        //// more canvas drawing, etc...\n        //window.Module.drawCanvasForExport(ctx, 0, 0);\n\n        ////convert your PDF to a Blob and save to file\n        //ctx.stream.on('finish', function () {\n        //    var blob = ctx.stream.toBlob('application/pdf');\n        //    FileSaver.saveAs(blob, \"drawing.pdf\");\n        //});\n        //ctx.end();\n    }\n    const exportFile = (format) => {\n        console.log(\"export \", format);\n        setOpen(false)\n\n        if (format == \"pdf\") {\n            exportPdf();\n        } else if (format == \"png\" || format == \"jpeg\") {\n            var img = exportImage(format);\n            if (img != null) {\n                FileSaver.saveAs(img.data, \"drawing.\" + format);\n            }\n        } else if (format == \"svg\") {\n            var content = window.Module.getSvg();\n            var blob = new Blob([content], {type: \"text/plain;charset=utf-8\"});\n            FileSaver.saveAs(blob, \"drawing.svg\");\n        } else if (format == \"lekh\") {\n            var content = window.Module.getLekh();\n            var blob = new Blob([content], {type: \"text/plain;charset=utf-8\"});\n            FileSaver.saveAs(blob, \"drawing.lekh\");\n        }\n    }\n\n    return (\n        <Grid container>\n            <AppBar className=\"HeaderSection\" position='static' color='transparent' style={{ background: 'transparent', boxShadow: 'none' }}>\n                <Toolbar>\n                    <IconButton className=\"HeaderMenuIcon\" color=\"inherit\" aria-label=\"menu\" onClick={(e) => handleClick(e)}>\n                        <MenuIcon />\n                    </IconButton>\n                    <Menu\n                        onClose={() => setOpen(false)}\n                        open={open}\n                        classes={{\n                            paper: classes.appMenu\n                        }}\n                        value={value}\n                        PaperProps={{\n                            style: {\n                                width: 200,\n                                marginTop: 40\n                            },\n                        }}>\n                        {options?.map((option, index) => {\n                            var checked = null;\n                            if (option.checkable && getChecked(option.id)) {\n                                checked = <span className={classes.checkIcon}><CheckIcon /></span>;\n                            }\n                            if (option.submenu) {\n                                return (<NestedMenuItem\n                                    style={{ left: '15px' }}\n                                    label={option.name}\n                                    parentMenuOpen={open}\n                                    className=\"subIcon\"\n                                    key={option.id}>\n                                    {\n                                    option.submenu.map((subOption, index) => (\n                                        <MenuItem key={index} onClick={()=>exportFile(subOption.id)}>{subOption.name}</MenuItem>\n                                    ))}\n                                </NestedMenuItem>);\n                            }\n                            return (\n                                <div key={option.id}>\n                                    { checked }\n                                    <MenuItem style={{ left: '15px' }} value={option.name} \n                                        onClick={() => handleMenuClick(option.id)} key={option.id}>\n                                        {option.name}\n                                    </MenuItem>\n                                </div>\n                            )\n                        })}\n                    </Menu>\n                </Toolbar>\n            </AppBar>\n        </Grid>\n    )\n}\n\nexport default AppMenu;\n","import React from 'react';\n\nconst FooterStyle = {\n\n    footer: {\n        justifyContent: 'center',\n        display: 'flex',\n      },\n      backClass:{\n        border: '1px solid',\n        backgroundColor: '#fff',\n        borderColor: '#fff',\n        borderRadius: '4px',\n        boxShadow:'0 0 0 50px transparent',\n        filter: 'drop-shadow(0 1px 2px rgba(0, 0, 0, .3))',\n        margin: '13px 10px',\n        '&:hover':{\n          cursor:'pointer'\n      }\n      },\n      countClass:{\n        border: '1px solid',\n        margin: '13px 10px',\n        width: '173px',\n        borderColor: '#fff',\n        borderRadius: '4px',\n        backgroundColor: '#fff',\n        boxShadow:'0 0 0 50px transparent',\n        filter: 'drop-shadow(0 1px 2px rgba(0, 0, 0, .3))',\n        display:'flex',\n        '&:hover':{\n          cursor:'pointer'\n      }\n      },\n      valueClass:{\n        margin: '15px 0px',\n        width:'45px',\n        textAlign: 'center',\n      },\n      iconClass:{\n        fontSize:'22px',\n        padding: '8px 8px'\n      },\n      countBtn:{\n        minWidth:'64px',\n        padding: 0,\n      }\n}\n\nexport default FooterStyle;","import canvas from './Canvas'\n\nvar modes = {\n    selection: 1,\n    move: 2,\n    draw: 3,\n    smartDraw: 4,\n    text: 5,\n    erase: 6,\n    laser: 7\n}\n\nvar menus = {\n    selectionGroup: 0,\n    selection: 1,\n    move: 2,\n    laser: 3,\n    draw: 4,\n    smartDraw: 5,\n    text: 6,\n    shapes: 7,\n    erase: 8,\n    eraseAll: 9\n}\n\nvar menuState = {\n    menus: menus,\n    modes: modes,\n    popup: null,\n    selected: menus.smartDraw,\n    inputMode: modes.smartDraw,\n    selectionGroupVal: modes.selection\n} \n\nmenuState.handleMenuClick = function(menu) {\n    if (menu == menus.eraseAll) {\n        window.Module.eraseAll();\n        canvas.draw();\n        return;\n    }\n\n    if (menu == menus.selectionGroup) {\n        if (menuState.popup == menus.selectionGroup) {\n            menuState.popup = null;\n        } else {\n            menuState.popup = menus.selectionGroup;\n        }\n        menuState.selected = menus.selectionGroup;\n        menuState.inputMode = menuState.selectionGroupVal;\n    } else if (menu == menus.selection) {\n        menuState.popup = null;\n        menuState.selectionGroupVal = modes.selection;\n        menuState.selected = menus.selectionGroup;\n        menuState.inputMode = modes.selection;\n    } else if (menu == menus.move) {\n        menuState.popup = null;\n        menuState.selectionGroupVal = modes.move;\n        menuState.selected = menus.selectionGroup;\n        menuState.inputMode = modes.move;\n    } else if (menu == menus.laser) {\n        menuState.popup = null;\n        menuState.selected = menus.laser;\n        menuState.inputMode = modes.laser;\n    } else if (menu == menus.draw) {\n        if (menuState.popup == menus.draw) {\n            menuState.popup = null;\n        } else {\n            menuState.popup = menus.draw;\n        }\n        menuState.selected = menus.draw;\n        menuState.inputMode = modes.draw;\n    } else if (menu == menus.smartDraw) {\n        if (menuState.popup == menus.smartDraw) {\n            menuState.popup = null;\n        } else {\n            menuState.popup = menus.smartDraw;\n        }\n        menuState.selected = menus.smartDraw;\n        menuState.inputMode = modes.smartDraw;\n    } else if (menu == menus.text) {\n        if (menuState.popup == menus.text) {\n            menuState.popup = null;\n        } else {\n            menuState.popup = menus.text;\n        }\n        menuState.selected = menus.text;\n        menuState.inputMode = modes.text;\n    } else if (menu == menus.shapes) {\n        if (menuState.popup == menus.shapes) {\n            menuState.popup = null;\n        } else {\n            menuState.popup = menus.shapes;\n        }\n    } else if (menu == menus.erase) {\n        menuState.popup = null;\n        menuState.selected = menus.erase;\n        menuState.inputMode = modes.erase;\n    }\n\n    handleMode();\n}\n\nmenuState.hasPopup = function() {\n    return menuState.popup != null;\n}\n\nmenuState.removePopup = function() {\n    menuState.popup = null;\n}\n\nmenuState.inDrawMode = function() {\n    return menuState.inputMode == modes.draw || menuState.inputMode == modes.smartDraw;\n}\n\nfunction handleMode() {\n    var mode = menuState.inputMode;\n    var tpanel = document.getElementById(\"transparentPanel\");\n\n    if (mode == modes.selection) {\n        window.Module.inputReceiver().setMode(window.Module.InputMode.SELECTION);\n        tpanel.style.cursor = 'auto';\n    } else if (mode == modes.move) {\n        window.Module.inputReceiver().setMode(window.Module.InputMode.SELECTION);\n        tpanel.style.cursor = 'all-scroll';\n    } else if (mode == modes.laser) {\n        window.Module.inputReceiver().setMode(window.Module.InputMode.POINTING);\n        tpanel.style.cursor = 'url(\"/red_circle.svg\") 10 10, auto';\n    } else if (mode == modes.draw) {\n        window.Module.inputReceiver().setMode(window.Module.InputMode.DRAWING);\n        window.Module.enableRecognition(false);\n        tpanel.style.cursor = 'url(\"/pen-solid.svg\") 0 20, auto';\n        //tpanel.style.cursor = 'auto';\n    } else if (mode == modes.smartDraw) {\n        window.Module.inputReceiver().setMode(window.Module.InputMode.DRAWING);\n        window.Module.enableRecognition(true);\n        //tpanel.style.cursor = 'url(\"/pen-solid.svg\") 0 20, auto';\n        tpanel.style.cursor = 'auto';\n    } else if (mode == modes.text) {\n        window.Module.inputReceiver().setMode(window.Module.InputMode.SELECTION);\n        tpanel.style.cursor = 'url(\"/title_black.svg\") 0 20, auto';\n    } else if (mode == modes.erase) {\n        window.Module.inputReceiver().setMode(window.Module.InputMode.ERASING);\n        tpanel.style.cursor = 'url(\"/eraser-solid.svg\"), auto';\n    }\n}\n\nexport default menuState;\n","import $ from 'jquery';\nimport canvas from './Canvas'\nimport menuState from './MenuState'\n\nvar AppInput = {\n  showContextMenu:()=>{},\n  showShapeProps: null\n};\n\nvar drawPoints = [];\nvar drawing = false;\nvar transparentPanel = null;\nvar tnode = null;\nvar ignoreNextClick = false;\n\nconst TextAlignHorizontalDefault = 0;\nconst TextAlignHorizontalCenter = 1;\nconst TextAlignHorizontalLeft = 2;\nconst TextAlignHorizontalRight = 3;\n\nfunction updateCursorLoc(x, y) {\n  var docid = window.wsmanager.docid\n  if (!docid || menuState.inputMode != menuState.modes.laser) {\n    return;\n  }\n  window.Module.inputFilter().pan({x:x, y:y}, window.Module.InputType.OTHER);\n}\n\nfunction finishTextEditing() {\n  if (tnode != null) {\n    window.Module.finishTextEditing(tnode.val());\n    tnode.remove();\n    canvas.draw();\n    tnode = null;\n    ignoreNextClick = true;\n    return true;\n  }\n  return false;\n}\n\nfunction initShapeTextEditor() {\n  finishTextEditing()\n  ignoreNextClick = false;\n\n  var rect = window.Module.getTextEditRect();\n\n  var cx = rect.x + rect.width / 2;\n  var cy = rect.y + rect.height / 2;\n\n  var tid = Math.random() + \"t\";\n  tnode = $(\"<textarea id='\" + tid + \"'></textarea>\");\n  tnode.val(window.Module.getTextForEditing());\n  var style = window.Module.getTextEditStyle();\n  var fontSize = style.effectiveFontSize() * style.effectiveFontMultiplier();\n  var isFLoating = window.Module.isEditingFloatingText();\n\n  var tattrs = {\n    \"resize\": \"none\",\n    \"overflow\": \"hidden\",\n    \"position\": \"absolute\",\n    \"font\": style.effectivePlatformFontFamily(),\n    \"line-height\": fontSize + \"px\",\n    \"background-color\": \"transparent\",\n    \"left\": (rect.x)+ \"px\", \n    \"top\": (rect.y) + \"px\", \n    \"width\": rect.width + \"px\",\n    \"height\": rect.height + \"px\",\n    \"z-index\": \"1000\"\n  }\n\n  switch (style.effectiveTextAlignHorizontal().value) {\n    case TextAlignHorizontalDefault:\n    case TextAlignHorizontalCenter:\n      tattrs[\"text-align\"] = \"center\";\n      break;\n    case TextAlignHorizontalLeft:\n      tattrs[\"text-align\"] = \"left\";\n      break;\n    case TextAlignHorizontalRight:\n      tattrs[\"text-align\"] = \"right\";\n      break;\n    default:\n      break;\n  }\n  tnode.css(tattrs);\n  $(\"#drawContent\").append(tnode);\n  tnode.trigger(\"focus\");\n  tnode.on(\"blur\", function(e) {\n    finishTextEditing();\n  });\n  tnode.on(\"keyup\", function(e) {\n    if (e.code == \"Escape\" || e.key == \"Escape\") {\n      finishTextEditing();\n      ignoreNextClick = false;\n    }\n  });\n\n  function updateSize() {\n    if (!tnode) {\n      return;\n    }\n    var text = tnode.val();\n    var sz = window.Module.getTextEditSize(text, isFLoating);\n    if (sz.height == 0) {\n      sz.height = fontSize;\n    }\n    if (sz.width < 50) {\n      sz.width = 50;\n    }\n    sz.height += fontSize / 2;\n    tnode.css(\"top\", (cy - sz.height / 2) + \"px\");\n    tnode.css(\"height\", sz.height + \"px\");\n    if (isFLoating) {\n      var width = sz.width + 150;\n      tnode.css(\"width\", width + \"px\");\n      tnode.css(\"left\", (cx - width / 2) + \"px\");\n    }\n    //console.log(sz);\n  }\n \n  tnode.on('change keyup paste', updateSize);\n  updateSize();\n}\n\nconst drawLaserCircle = function(x, y) {\n  clearTransparentPanel();\n  var ctx = transparentPanel.getContext(\"2d\");\n  ctx.beginPath();\n  ctx.arc(x, y, 32, 0, 2 * Math.PI, false);\n  ctx.fillStyle = 'red';\n  ctx.fill();\n  ctx.lineWidth = 1;\n  ctx.strokeStyle = 'red';\n  ctx.stroke();\n}\n\nconst clearTransparentPanel = function() {\n  if (transparentPanel == null) {\n    transparentPanel = document.getElementById('transparentPanel')\n  }\n  var ctx = transparentPanel.getContext(\"2d\");\n  ctx.clearRect(0, 0, transparentPanel.width, transparentPanel.height);\n}\n\nconst drawTemp = function() {\n  clearTransparentPanel();\n  var ctx = transparentPanel.getContext(\"2d\");\n  ctx.lineJoin = \"round\";\n  ctx.lineCap = \"round\";\n\n  if (drawPoints.length > 0) {\n    window.Module.setCurrentStyleToCtx(ctx);\n    ctx.beginPath();\n    var dp = drawPoints[0];\n    ctx.moveTo(dp.x, dp.y);\n    \n    for (var i = 0; i < drawPoints.length; i++) {\n      ctx.lineTo(drawPoints[i].x, drawPoints[i].y);  \n    }\n    \n    ctx.stroke(); \n  }\n}\n\nAppInput.isEditingText = function() {\n  return tnode != null;\n}\n\nAppInput.onResize = function() {\n  transparentPanel = null;\n}\n\nAppInput.ignoreNextClick = function(val) {\n  ignoreNextClick = val;\n}\n\nAppInput.click = function(x, y) {\n  finishTextEditing()\n  if (ignoreNextClick) {\n    ignoreNextClick = false;\n    return true;\n  }\n  if (menuState.inputMode == menuState.modes.move) {\n    // Ignore click for move mode\n    return;\n  }\n  if (menuState.inputMode == menuState.modes.text) {\n    // Text mode. Edit text and return\n    AppInput.dbclick(x, y);\n    return;\n  }\n  if (menuState.inputMode == menuState.modes.draw) {\n    var mpt = {x: canvas.maprx(x), y: canvas.mapry(y)};\n    window.Module.addClickCircle(mpt);\n  } else {\n    var pt = {x: x, y: y }\n    window.Module.inputFilter().tap(pt, 1);\n  }\n  canvas.draw();\n\n  if (AppInput.showShapeProps) {\n    AppInput.showShapeProps();\n  }\n}\n\nAppInput.dbclick = function(x, y) {\n    finishTextEditing()\n    var pt = {x: x, y: y }\n    window.Module.inputFilter().tap(pt, 2);\n    canvas.draw();\n    if (window.Module.inputReceiver().needTextEditing()) {\n        initShapeTextEditor()\n    }\n}\n\nAppInput.drag = function(x, y, kind) {\n    //console.log(x + \", \" + y + \"  ==  \" + kind);\n    finishTextEditing();\n    ignoreNextClick = false;\n    if (menuState.inputMode == menuState.modes.move) {\n        dragMoveMode(x, y, kind);\n    } else if (menuState.inputMode == menuState.modes.text) {\n      // Text mode\n      if (kind == 2) {\n        AppInput.dbclick(x, y);\n      }\n    } else if (menuState.inputMode == menuState.modes.laser) {\n      dragLaser(x, y, kind);\n    }  else {\n      dragNative(x, y, kind);\n    }\n}\n\nfunction dragLaser(x, y, kind) {\n  if (kind == 2) {\n    clearTransparentPanel();\n  } else {\n    drawLaserCircle(x, y);\n  }\n  updateCursorLoc(x, y);\n}\n\nfunction dragNative(x, y, kind) {\n    var it = window.Module.InputType.START;\n    if (kind == 1) {\n        it = window.Module.InputType.OTHER;\n    } else if (kind == 2) {\n        it = window.Module.InputType.END\n    }\n    var pt = {x: x, y: y }\n    var mpt = {x: canvas.maprx(x), y: canvas.mapry(y)};\n\n    if (it == window.Module.InputType.START && menuState.inDrawMode()) {\n      if (window.Module.willDrawAt(mpt)) {\n        drawing = true;\n      }\n    }\n\n    if (drawing) {\n      drawPoints.push(pt);\n      drawTemp();\n    } else {\n      window.Module.inputFilter().pan(pt, it);\n      canvas.draw();\n    }\n\n    if (it == window.Module.InputType.END && drawing) {\n      drawing = false;\n      flushTempDrawing();\n    }\n}\n\nfunction flushTempDrawing() {\n  if (drawPoints.length > 2) {\n    window.Module.inputFilter().pan(drawPoints[0], window.Module.InputType.START);\n    for (var i = 1; i < drawPoints.length - 1; i++) {\n      window.Module.inputFilter().pan(drawPoints[i], window.Module.InputType.OTHER);\n    }\n    var pt = drawPoints[drawPoints.length - 1];\n    window.Module.inputFilter().pan(pt, window.Module.InputType.END);\n  }\n  canvas.draw();\n  drawPoints = [];\n  drawTemp();\n}\n\nfunction dragMoveMode(x, y, kind) {\n    canvas.move(x, y, kind);\n    canvas.drawGrid();\n    canvas.draw();\n}\n\nAppInput.contextmenu = function(x, y) {\n  if (menuState.inputMode == menuState.modes.selection ||\n    menuState.inputMode == menuState.modes.draw ||\n    menuState.inputMode == menuState.modes.smartDraw) {\n    AppInput.showContextMenu(true, x, y);\n  }\n}\n\nAppInput.enter = function(x, y) {\n}\n\nAppInput.move = function(x, y) {\n  updateCursorLoc(x, y)\n}\n\nAppInput.leave = function(x, y) {\n}\n\nexport default AppInput;\n","import AppInput from './AppInput'\nimport canvas from './Canvas'\nimport menuState from './MenuState';\n\nvar touchInput = {}\n\nconst panThreshold = 6;\nconst doublePanThreshold = 12;\nconst zoomThreshold = 25;\nconst doubleTapIntervalMS = 300;\n\nvar tap = {\n    active: false,\n    discarded: false,\n    touch: null,\n    timer: null\n}\n\nvar twoFingerTap = {\n    active: false,\n    discarded: false,\n    touches: [],\n    firstRemoved: false,\n    secondRemoved: false,\n    lastPos: [{x:0, y:0}, {x:0, y:0}, {x:0, y:0}, {x:0, y:0}]\n}\n\nvar pan = {\n    active: false,\n    discarded: false,\n    touch: null,\n    lastTouch: null,\n    buffer: []\n}\n\nvar doublePan = {\n    active: false,\n    discarded: false,\n    touches: [],\n    lastPos: [{x:0, y:0}, {x:0, y:0}, {x:0, y:0}, {x:0, y:0}]\n}\n\nvar zoom = {\n    active: false,\n    discarded: false,\n    touches: [],\n    lastPos: [{x:0, y:0}, {x:0, y:0}, {x:0, y:0}, {x:0, y:0}],\n    origZoom: 1.0\n}\n\nvar gestures = [tap, twoFingerTap, pan, doublePan, zoom];\nvar activeGesture = null;\n\nvar activeTouches = [];\n\nfunction initPos(gest) {\n    gest.lastPos[0].x = gest.touches[0].x;\n    gest.lastPos[0].y = gest.touches[0].y;\n\n    gest.lastPos[1].x = gest.touches[1].x;\n    gest.lastPos[1].y = gest.touches[1].y;\n\n    gest.lastPos[2].x = gest.touches[0].x;\n    gest.lastPos[2].y = gest.touches[0].y;\n\n    gest.lastPos[3].x = gest.touches[1].x;\n    gest.lastPos[3].y = gest.touches[1].y;\n}\n\nfunction hasZoomCond(gest) {\n    var d1 = dist(gest.lastPos[0], gest.lastPos[1]);\n    var d2 = dist(gest.lastPos[2], gest.lastPos[3]);\n    return Math.abs(d1 - d2) > zoomThreshold;\n}\n\nfunction hasPanCond(gest) {\n    if (dist(gest.lastPos[0], gest.lastPos[2]) > doublePanThreshold &&\n        dist(gest.lastPos[1], gest.lastPos[3]) > doublePanThreshold) {\n        var mid1 = {x: (gest.lastPos[0].x + gest.lastPos[1].x) / 2, y: (gest.lastPos[0].y + gest.lastPos[1].y) / 2}\n        var mid2 = {x: (gest.lastPos[2].x + gest.lastPos[3].x) / 2, y: (gest.lastPos[2].y + gest.lastPos[3].y) / 2}\n        return dist(mid1, mid2) > doublePanThreshold;\n    }\n    return false;\n}\n\nfunction findTouches(gest, touches) {\n    var t1 = null;\n    var t2 = null;\n\n    for (var i = 0; i < touches.length; i++) {\n        if (gest.touches.length > 0 && touches[i].id == gest.touches[0].id) {\n            t1 = touches[i];\n        }\n        if (gest.touches.length > 1 && touches[i].id == gest.touches[1].id) {\n            t2 = touches[i];\n        }\n    }\n\n    return {t1: t1, t2: t2};\n}\n\nfunction updatePos(gest, t1, t2, shift) {\n    if (shift) {\n        gest.lastPos[0].x = gest.lastPos[2].x;\n        gest.lastPos[0].y = gest.lastPos[2].y;\n\n        gest.lastPos[1].x = gest.lastPos[3].x;\n        gest.lastPos[1].y = gest.lastPos[3].y;\n    }\n    if (t1 == null) {\n        gest.lastPos[2].x = gest.lastPos[0].x;\n        gest.lastPos[2].y = gest.lastPos[0].y;\n    } else {\n        gest.lastPos[2].x = t1.x;\n        gest.lastPos[2].y = t1.y;\n    }\n    if (t2 == null) {\n        gest.lastPos[3].x = gest.lastPos[1].y;\n        gest.lastPos[3].y = gest.lastPos[1].y;\n    } else {\n        gest.lastPos[3].x = t2.x;\n        gest.lastPos[3].y = t2.y;\n    }\n}\n\nfunction mapTouches(touches) {\n    var ret = []\n    for (var i = 0; i < touches.length; i++) {\n        ret.push({\n            x: touches[i].pageX,\n            y: touches[i].pageY,\n            id: touches[i].identifier\n        });\n    }\n    return ret;\n}\n\nfunction dist(t1, t2) {\n    var dx = t1.x - t2.x;\n    var dy = t1.y - t2.y;\n    return Math.sqrt(dx*dx + dy*dy);\n}\n\ntouchInput.attachEvents = function(canvasElement) {\n    canvasElement.addEventListener('touchstart', function(ev) {\n      ev.preventDefault();\n      touchInput.start(ev.changedTouches);\n    });\n    canvasElement.addEventListener('touchmove', function(ev) {\n      ev.preventDefault();\n      touchInput.move(ev.targetTouches);\n    });\n    canvasElement.addEventListener('touchend', function(ev) {\n      ev.preventDefault();\n      touchInput.end(ev.changedTouches);\n    });\n    canvasElement.addEventListener('touchleave', function(ev) {\n      ev.preventDefault();\n      touchInput.cancel(ev.changedTouches);\n    });\n    canvasElement.addEventListener('touchcancel', function(ev) {\n      ev.preventDefault();\n      touchInput.cancel(ev.changedTouches);\n    });\n  }\n\ntouchInput.inProgress = function() {\n    return activeTouches.length > 0;\n}\n\ntouchInput.start = function(touches) {\n    if (activeGesture != null) {\n        return;\n    }\n    touches = mapTouches(touches);\n\n    for (var i = 0; i < touches.length; i++) {\n        activeTouches.push(touches[i]);\n    }\n    for (var i = 0; i < gestures.length; i++) {\n        if (!gestures[i].discarded) {\n            gestures[i].start(touches);\n            if (gestures[i].active) {\n                activeGesture = gestures[i];\n                break;\n            }\n        }\n    }\n}\n\ntouchInput.move = function(touches) {\n    touches = mapTouches(touches);\n    if (activeGesture != null) {\n        activeGesture.move(touches);\n    } else {\n        for (var i = 0; i < gestures.length; i++) {\n            if (!gestures[i].discarded) {\n                gestures[i].move(touches);\n                if (gestures[i].active) {\n                    activeGesture = gestures[i];\n                    break;\n                }\n            }\n        }\n    }\n}\n\ntouchInput.end = function(touches) {\n    touches = mapTouches(touches);\n    for (var i = 0; i < touches.length; i++) {\n        for (var j = 0; j < activeTouches.length; j++) {\n            if (touches[i].id == activeTouches[j].id) {\n                activeTouches.splice(j, 1);\n                break;\n            }\n        }\n    }\n    if (activeGesture != null) {\n        activeGesture.end(touches);\n    } else {\n        for (var i = 0; i < gestures.length; i++) {\n            if (!gestures[i].discarded) {\n                gestures[i].end(touches);\n                if (gestures[i].active) {\n                    activeGesture = gestures[i];\n                    break;\n                }\n            }\n        }\n    }\n    if (activeTouches.length == 0) {\n        touchInput.reset();\n    }\n}\n\ntouchInput.cancel = function(touches) {\n    touchInput.reset();\n}\n\ntouchInput.reset = function() {\n    for (var i = 0; i < gestures.length; i++) {\n        gestures[i].reset();\n        gestures[i].discarded = false;\n        gestures[i].active = false;\n    }\n    activeGesture = null;\n    activeTouches = [];\n}\n\ntap.start = function(touches) {\n    if (tap.touch != null) {\n        tap.discarded = true;\n        return;\n    }\n    if (touches.length > 1) {\n        tap.discarded = true;\n        return;\n    }\n    tap.touch = touches[0];\n}\n\ntap.move = function(touches) {\n    if (tap.touch == null) {\n        return;\n    }\n    if (touches.length != 1 || touches[0].id != tap.touch.id) {\n        tap.discarded = true;\n    } else {\n        if (dist(tap.touch, touches[0]) > panThreshold) {\n            tap.discarded = true;\n        }\n    }\n}\n\ntap.end = function(touches) {\n    if (tap.touch == null) {\n        return;\n    }\n    if (touches.length != 1 || touches[0].id != tap.touch.id) {\n        tap.discarded = true;\n    } else if (dist(tap.touch, touches[0]) > panThreshold) {\n        tap.discarded = true;\n    } else {\n        var x = tap.touch.x;\n        var y = tap.touch.y;\n        if (tap.timer != null) {\n            clearTimeout(tap.timer);\n            tap.timer = null;\n            AppInput.dbclick(x, y);\n        } else {\n            tap.timer = setTimeout(function() {\n                tap.timer = null;\n                AppInput.click(x, y);\n            }, doubleTapIntervalMS);\n        }\n    }\n    tap.active = false;\n}\n\ntap.reset = function() {\n    tap.touch = null;\n    tap.active = false;\n    if (activeGesture == tap) {\n        activeGesture = null;\n    }\n}\n\ntwoFingerTap.start = function(touches) {\n    if (twoFingerTap.touches.length + touches.length > 2) {\n        twoFingerTap.discarded = true;\n        return;\n    }\n\n    for (var i = 0; i < touches.length; i++) {\n        twoFingerTap.touches.push(touches[i]);\n    }\n\n    if (twoFingerTap.touches.length == 2) {\n        initPos(twoFingerTap);\n        twoFingerTap.firstRemoved = false;\n        twoFingerTap.secondRemoved = false;\n    }\n}\n\ntwoFingerTap.move = function(touches) {\n    if (twoFingerTap.touches.length != 2) {\n        return;\n    }\n\n    var ts = findTouches(twoFingerTap, touches);\n    if (ts.t1 == null && ts.t2 == null) {\n        return;\n    }\n\n    updatePos(twoFingerTap, ts.t1, ts.t2, false);\n}\n\ntwoFingerTap.end = function(touches) {\n    var ts = findTouches(twoFingerTap, touches);\n    if (ts.t1 != null) {\n        twoFingerTap.firstRemoved = true;\n    }\n    if (ts.t2 != null) {\n        twoFingerTap.secondRemoved = true;\n    }\n    if (twoFingerTap.firstRemoved && twoFingerTap.secondRemoved) {\n        if (dist(twoFingerTap.lastPos[0], twoFingerTap.lastPos[2]) < panThreshold &&\n        dist(twoFingerTap.lastPos[1], twoFingerTap.lastPos[3]) < panThreshold) {\n            var x = (twoFingerTap.lastPos[0].x + twoFingerTap.lastPos[1].x) / 2;\n            var y = (twoFingerTap.lastPos[0].y + twoFingerTap.lastPos[1].y) / 2;\n            AppInput.contextmenu(x, y);\n        }\n        twoFingerTap.reset();\n    }\n}\n\ntwoFingerTap.reset = function() {\n    twoFingerTap.touches = [];\n    twoFingerTap.active = false;\n    twoFingerTap.firstRemoved = false;\n    twoFingerTap.secondRemoved = false;\n}\n\npan.start = function(touches) {\n    if (pan.active) {\n        return;\n    }\n\n    if (pan.touch != null) {\n        pan.discarded = true;\n        return;\n    }\n    if (touches.length > 1) {\n        pan.discarded = true;\n        return;\n    }\n    pan.touch = touches[0];\n    pan.lastTouch = pan.touch;\n    pan.buffer.push(touches[0]);\n}\n\npan.move = function(touches) {\n    if (pan.touch == null || touches.length > 1 ||\n        touches[0].id != pan.touch.id) {\n        return;\n    }\n    var touch = touches[0];\n    pan.lastTouch = touch;\n\n    if (pan.active) {\n        AppInput.drag(touch.x, touch.y, 1);\n    } else if (dist(touch, pan.touch) > panThreshold) {\n        pan.active = true;\n        if (pan.buffer.length > 0 && menuState.inputMode == menuState.modes.smartDraw) {\n            // for intelligent mode, ignore the first touch point\n            pan.buffer.splice(0, 1);\n        }\n        if (pan.buffer.length > 0) {\n            AppInput.drag(pan.buffer[0].x, pan.buffer[0].y, 0);    \n        } else {\n            AppInput.drag(touch.x, touch.y, 0);\n        }\n        for (var i = 1; i < pan.buffer.length; i++) {\n            AppInput.drag(pan.buffer[i].x, pan.buffer[i].y, 1);    \n        }\n        AppInput.drag(touch.x, touch.y, 1);\n        pan.buffer = [];\n    } else {\n        pan.buffer.push(touch);\n    }\n}\n\npan.end = function(touches) {\n    pan.reset();\n}\n\npan.reset = function() {\n    if (pan.active) {\n        AppInput.drag(pan.lastTouch.x, pan.lastTouch.y, 2);\n    }\n    pan.active = false;\n    pan.touch = null;\n    pan.lastTouch = null;\n    pan.buffer = [];\n    if (activeGesture == pan) {\n        activeGesture = null;\n    }\n}\n\ndoublePan.start = function(touches) {\n    if (doublePan.active) {\n        return;\n    }\n\n    if (doublePan.touches.length + touches.length > 2) {\n        doublePan.discarded = true;\n        return;\n    }\n\n    for (var i = 0; i < touches.length; i++) {\n        doublePan.touches.push(touches[i]);\n    }\n\n    if (doublePan.touches.length == 2) {\n        initPos(doublePan);\n    }\n}\n\ndoublePan.move = function(touches) {\n    if (doublePan.touches.length != 2) {\n        return;\n    }\n\n    var ts = findTouches(doublePan, touches);\n    if (ts.t1 == null && ts.t2 == null) {\n        return;\n    }\n\n    if (doublePan.active) {\n        updatePos(doublePan, ts.t1, ts.t2, true);\n        var mid1x = (doublePan.lastPos[0].x + doublePan.lastPos[1].x) / 2;\n        var mid1y = (doublePan.lastPos[0].y + doublePan.lastPos[1].y) / 2;\n        var mid2x = (doublePan.lastPos[2].x + doublePan.lastPos[3].x) / 2;\n        var mid2y = (doublePan.lastPos[2].y + doublePan.lastPos[3].y) / 2;\n        canvas.moveDelta(mid2x - mid1x, mid2y - mid1y);\n    } else {\n        updatePos(doublePan, ts.t1, ts.t2, false);\n        if (hasPanCond(doublePan) && !hasZoomCond(doublePan)) {\n            doublePan.active = true;  \n        }\n    }\n}\n\ndoublePan.end = function(touches) {\n    doublePan.reset();\n}\n\ndoublePan.reset = function() {\n    doublePan.touches = [];\n    doublePan.active = false;\n    if (activeGesture == doublePan) {\n        activeGesture = null;\n    }\n}\n\nzoom.start = function(touches) {\n    if (zoom.active) {\n        return;\n    }\n\n    if (zoom.touches.length + touches.length > 2) {\n        zoom.discarded = true;\n        return;\n    }\n\n    for (var i = 0; i < touches.length; i++) {\n        zoom.touches.push(touches[i]);\n    }\n\n    if (zoom.touches.length == 2) {\n        initPos(zoom);\n    }\n}\n\nzoom.move = function(touches) {\n    if (zoom.touches.length != 2) {\n        return;\n    }\n\n    var ts = findTouches(zoom, touches);\n    if (ts.t1 == null && ts.t2 == null) {\n        return;\n    }\n\n    updatePos(zoom, ts.t1, ts.t2, false);\n    if (zoom.active) {\n        var d1 = dist(zoom.lastPos[0], zoom.lastPos[1]);\n        var d2 = dist(zoom.lastPos[2], zoom.lastPos[3]);\n        canvas.zoom((zoom.origZoom * d2) / d1);\n    } else {\n        if (hasZoomCond(zoom)) {\n            zoom.origZoom = window.Module.getZoom()\n            zoom.active = true;\n        }\n    }\n}\n\nzoom.end = function(touches) {\n    zoom.reset();\n}\n\nzoom.reset = function() {\n    zoom.touches = [];\n    zoom.active = false;\n    zoom.origZoom = 1.0;\n    if (activeGesture == zoom) {\n        activeGesture = null;\n    }\n}\n\nexport default touchInput;","import AppInput from './AppInput'\nimport canvas from './Canvas'\nimport touchInput from './TouchInput'\n\nvar mouseInput = { };\n\nconst doubleClickIntervalMS = 300;\nconst dragMinDist = 4;\n\nvar clickTimer = null;\nvar mdown = false;\nvar moved = false;\nvar initialX = null;\nvar initialY = null;\nvar savedZoom = 1.0;\n\nvar pointerLoc = {x: null, y: null};\n\nfunction dist(x1, y1, x2, y2) {\n    var dx = x1 - x2;\n    var dy = y1 - y2;\n    return Math.sqrt(dx*dx + dy*dy);\n}\n\nmouseInput.pointerLocation = () => {\n  return pointerLoc;\n}\n\nmouseInput.attachEvents = function(canvasElement) {\n    canvasElement.addEventListener('wheel', (e) => {\n        e.preventDefault();\n        if (e.ctrlKey) {\n          var zm = canvas.getZoom();\n          var newval  = Math.floor(zm * 100 - e.deltaY);\n          if (newval >= 5) {\n              canvas.zoomAt(e.pageX, e.pageY, newval / 100);\n          }        \n        } else {\n          canvas.moveDelta(-e.deltaX, -e.deltaY);\n        }\n    });\n      \n    canvasElement.addEventListener(\"gesturestart\", function (e) {\n        e.preventDefault();\n        if (touchInput.inProgress()) {\n          return;\n        }\n        savedZoom = window.Module.getZoom();\n    });\n      \n    canvasElement.addEventListener(\"gesturechange\", function (e) {\n        e.preventDefault();\n        if (touchInput.inProgress()) {\n          return;\n        }\n        var newval = Math.round(savedZoom * e.scale * 100) / 100;\n        canvas.zoomAt(e.pageX, e.pageY, newval);\n    });\n      \n    canvasElement.addEventListener(\"gestureend\", function (e) {\n        e.preventDefault();\n    });\n  \n    window.bean.on(canvasElement, 'click', function (e) {\n        e.preventDefault();\n        if (e.button == 2) {\n          AppInput.contextmenu(e);\n          return;\n        }\n        if (e.button != 0) {\n          return;\n        }\n        if (moved) {\n          moved = false;\n          return;\n        }\n  \n        if (clickTimer != null) {\n            clearTimeout(clickTimer);\n            clickTimer = null;\n            AppInput.dbclick(e.offsetX, e.offsetY);\n        } else {\n            clickTimer = setTimeout(function () {\n                clickTimer = null;\n                AppInput.click(e.offsetX, e.offsetY);\n            }, doubleClickIntervalMS);\n        }\n    });\n  \n    window.bean.on(canvasElement, 'mousedown', function (e) {\n        if (e.button != 0) {\n          return;\n        }\n        initialX = e.offsetX;\n        initialY = e.offsetY;\n        mdown = true;\n    });\n  \n    window.bean.on(canvasElement, 'mouseup', function (e) {\n        if (e.button == 0) {\n          mdown = false;\n          if (moved) {\n            AppInput.drag(e.offsetX, e.offsetY, 2);\n          }\n        }\n    });\n  \n    window.bean.on(canvasElement, 'mousemove', function (e) {\n        e.preventDefault();\n        // update pointer location\n        pointerLoc.x = e.offsetX;\n        pointerLoc.y = e.offsetY;\n        \n        if (mdown && e.button != 0) {\n          return;\n        }\n  \n        if (!mdown) {\n          AppInput.move(e.offsetX, e.offsetY);\n          return;\n        }\n        if (moved) {\n          AppInput.drag(e.offsetX, e.offsetY, 1);\n        } else {\n          if (dist(initialX, initialY, e.offsetX, e.offsetY) >= dragMinDist) {\n            moved = true;\n            AppInput.drag(initialX, initialY, 0);\n            AppInput.drag(e.offsetX, e.offsetY, 1);\n          }\n        }\n    });\n  \n    window.bean.on(canvasElement, 'mouseenter', function (e) {\n        AppInput.enter(e.offsetX, e.offsetY);\n    });\n  \n    window.bean.on(canvasElement, 'mouseleave', function (e) {\n        if (moved) {\n          AppInput.drag(e.offsetX, e.offsetY, 2);\n          moved = false;\n          mdown = false;\n        } else {\n            AppInput.leave(e.offsetX, e.offsetY);\n        }\n    });\n  \n    window.bean.on(canvasElement, 'contextmenu', function (e) {\n        e.preventDefault();\n        AppInput.contextmenu(e.offsetX, e.offsetY);\n    });\n}\n\nexport default mouseInput;\n","import canvas from './Canvas'\nimport mouseInput from './MouseInput'\nimport menuState from './MenuState'\n\nvar command = {inputModeChanged: false };\n\nfunction getShapeAddLocation() {\n    var loc = mouseInput.pointerLocation();\n    var at = null;\n    if (loc.x == null || loc.y == null || !canvas.isVisible(loc.x, loc.y, 40)) {\n        at = canvas.getMidPoint();\n    } else {\n        at = loc;\n    }\n    at = {x: canvas.maprx(at.x), y: canvas.mapry(at.y)};\n    return at;\n}\n\ncommand.del = () => {\n    window.Module.del();\n}\n\ncommand.copy = () => {\n    window.Module.copy();\n}\n\ncommand.cut = () => {\n    window.Module.cut();\n}\n\ncommand.paste = () => {\n    window.Module.paste();\n}\n\ncommand.pasteAt = (at) => {\n    window.Module.pasteAt(at);\n}\n\ncommand.selectAll = () => {\n    command.inputModeChanged = true;\n    menuState.handleMenuClick(menuState.menus.selection);\n    window.Module.selectAll();\n}\n\ncommand.addBox = (at) => {\n    if (typeof at == 'undefined') {\n        at = getShapeAddLocation();\n    }\n    window.Module.libraryStore().addObjectToCanvas(0, 2, at.x, at.y);\n}\n\ncommand.addCircle = (at) => {\n    if (typeof at == 'undefined') {\n        at = getShapeAddLocation();\n    }\n    window.Module.libraryStore().addObjectToCanvas(0, 0, at.x, at.y);\n}\n\ncommand.addUser = (at) => {\n    if (typeof at == 'undefined') {\n        at = getShapeAddLocation();\n    }\n    window.Module.libraryStore().addObjectToCanvas(3, 8, at.x, at.y);\n}\n\ncommand.addDb = (at) => {\n    if (typeof at == 'undefined') {\n        at = getShapeAddLocation();\n    }\n    window.Module.libraryStore().addObjectToCanvas(1, 6, at.x, at.y);\n}\n\ncommand.addCloud = (at) => {\n    if (typeof at == 'undefined') {\n        at = getShapeAddLocation();\n    }\n    window.Module.libraryStore().addObjectToCanvas(4, 0, at.x, at.y);\n}\n\ncommand.addNote = (at) => {\n    if (typeof at == 'undefined') {\n        at = getShapeAddLocation();\n    }\n    window.Module.libraryStore().addObjectToCanvas(3, 7, at.x, at.y);\n}\n\ncommand.escape = () => {\n    window.Module.handleEscapeKey();\n}\n\ncommand.undo = () => {\n    window.Module.inputReceiver().undo();\n}\n\ncommand.redo = () => {\n    window.Module.inputReceiver().redo();\n}\n\ncommand.moveToFront = () => {\n    window.Module.moveObjectToFront();\n}\n\ncommand.moveToBack = () => {\n    window.Module.moveObjectToBack();\n}\n\nexport default command;\n","import React, { useState } from 'react';\nimport { Button } from '@material-ui/core';\nimport Style from './FooterStyle';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport RefreshIcon from '@material-ui/icons/Refresh';\nimport ReplayIcon from '@material-ui/icons/Replay';\nimport RemoveIcon from '@material-ui/icons/Remove';\nimport AddIcon from '@material-ui/icons/Add';\nimport canvas from '../Canvas'\nimport globalState from '../GlobalState'\nimport command from '../Command'\n\nconst useStyles = makeStyles(Style);\nconst Footer = () => {\n    const classes = useStyles();\n    const [count, setCount] = useState(100);\n\n    /*\n     * Count Increase\n    */\n    const handleCount = () => {\n        var curCount = count - 10;\n        curCount = Math.round(curCount / 10) * 10;\n        if (curCount < 10) {\n            curCount = 5;\n        }\n        setCount(curCount);\n        canvas.zoom(curCount / 100);\n    }\n\n    /*\n     * Count Decrease\n    */\n    const handleAddCount = () => {\n        var curCount = 0;\n        if (count < 10) {\n            curCount = 10;\n        } else {\n            curCount = count + 10;\n            curCount = Math.round(curCount / 10) * 10;\n        }\n        setCount(curCount);\n        canvas.zoom(curCount / 100);\n    }\n\n    const handleUndo = () => {\n        command.undo();\n        canvas.draw();\n    }\n\n    const handleRedo = () => {\n        command.redo();\n        canvas.draw();\n    }\n\n    globalState.setZoomHandler(function(zoom) {\n        var val = Math.round(zoom * 100);\n        setCount(val);\n    });\n\n    return (\n        <>\n        <div className=\"undo-redo-buttons\">\n            <Button className=\"resButton\"><ReplayIcon className={classes.iconClass} onClick={() => handleUndo()}/></Button>\n            <Button className=\"resButton\"><RefreshIcon className={classes.iconClass} onClick={() => handleRedo()}/> </Button>\n        </div>\n        <div className='zoom-info'>\n            <Button className={classes.countBtn}><RemoveIcon className={classes.iconClass} onClick={() => handleCount()} /></Button>\n            <div className={classes.valueClass}> {count}% </div> \n            <Button className={classes.countBtn}><AddIcon className={classes.iconClass} onClick={() => handleAddCount()} /></Button>\n        </div>\n        </>\n    );\n}\n\nexport default Footer;","const SideBarStyle = {\n    sideBar: {\n        boxShadow:'0 0 0 50px transparent',\n        background: 'white',\n        borderRadius: '10px',\n        width: '55px',\n        display: 'inline-block',\n        margin:'0 15px',\n        filter: 'drop-shadow(0 1px 2px rgba(0, 0, 0, .3))',\n    },\n    sideBarMenu: {\n        padding: '11px 12px',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        flexDirection: 'column',\n        '&:hover':{\n            cursor:'pointer'\n        }\n    },\n    menuIcons:{\n        marginBottom:10\n    },\n    menuItem:{\n        textAlign: 'center',\n        fontSize: '13px'\n    },\n    sideMenuIcons:{\n        textAlign:'center',\n        fontSize: '14px'\n    },\n    changeColor:{\n        '&:hover':{\n            cursor:'pointer'\n        }\n    },\n    spaceBwt:{\n      height: '45px',\n    },\n    spaceBwtRound:{\n        height: '47px',\n        border: '1px solid #dfe3e8',\n    },\n    expandedMenu: {\n        display: 'flex',\n        flexDirection: 'row'\n    },\n    expandedMenuItem: {\n        padding: '11px 12px',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        flexDirection: 'column',\n        '&:hover':{\n            cursor:'pointer',\n            'background-color': '#f2f2ff'\n        }\n    },\n    expandedMenuItemActive: {\n        'background-color': '#dedefc'\n    }\n}\n\nexport default SideBarStyle","import React, { useRef, useEffect } from 'react'\nimport canvas from './Canvas'\n\nconst LibCell = props => {\n  const canvasRef = useRef(null)\n  var dpr = window.devicePixelRatio || 1;\n  var width = props.size;\n  var height = props.size;\n\n  const drawCanvas = (canvasElement) => {\n    canvasElement.width = width * dpr;\n    canvasElement.height = height * dpr;\n    canvasElement.style.width = width + \"px\";\n    canvasElement.style.height = height + \"px\";\n    const context = canvasElement.getContext('2d')  \n    context.scale(dpr, dpr);\n    context.fillStyle = \"#ffffff\";\n    context.fillRect(0, 0, canvasElement.width, canvasElement.height);\n    if (props.enabled) {\n      canvas.drawCell(props.category, props.num, props.size, context);\n    }\n  }\n\n  if (canvasRef != null && canvasRef.current != null) {\n    drawCanvas(canvasRef.current)\n  }\n  \n  useEffect(() => {\n    const canvasElement = canvasRef.current;\n    drawCanvas(canvasElement);\n  }, [])\n  \n  return <canvas ref={canvasRef} {...props} width={width+\"px\"} height={height+\"px\"}/>\n}\n\nexport default LibCell","import React from 'react'\nimport { FaShapes, FaMousePointer, FaHandRock, FaEdit, FaEraser, FaPen } from 'react-icons/fa';\nimport { RiDeleteBin5Line, RiCheckboxBlankCircleFill } from \"react-icons/ri\";\nimport { MdTitle } from \"react-icons/md\";\nimport { GiTorch } from \"react-icons/gi\";\n\nimport LibCell from './common/LibCell'\nimport menuState from './common/MenuState'\n\n\nconst CircleColors = [\n    \n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"red\" id='0' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"orange\" id='1' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"teal\" id='2' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"green\" id='3' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"yellow\" id='4' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"tan\" id='5' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"brown\" id='6' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"gray\" id='7' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"pink\" id='8' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"purple\" id='9' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"black\" id='10' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"violet\" id='11' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"plum\" id='12' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"skyblue\" id='13' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"cyan\" id='14' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"blue\" id='15' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"darkcyan\" id='16' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"darkorchid\" id='17' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"gold\" id='18' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"royalblue\" id='11' />,\n]\n\nconst ShapesList = [\n    <LibCell category={0} num={0} drag=\"true\" id=\"0\" size={45}/>,\n    <LibCell category={0} num={2} drag=\"true\" id=\"1\" size={45}/>,\n    <LibCell category={0} num={3} drag=\"true\" id=\"2\" size={45}/>,\n    <LibCell category={0} num={5} drag=\"true\" id=\"3\" size={45}/>,\n    <LibCell category={0} num={6} drag=\"true\" id=\"4\" size={45}/>,\n    <LibCell category={0} num={7} drag=\"true\" id=\"5\" size={45}/>,\n    <LibCell category={0} num={8} drag=\"true\" id=\"6\" size={45}/>,\n    <LibCell category={1} num={1} drag=\"true\" id=\"7\" size={45}/>,\n    <LibCell category={1} num={2} drag=\"true\" id=\"8\" size={45}/>,\n    <LibCell category={1} num={5} drag=\"true\" id=\"9\" size={45}/>,\n    <LibCell category={1} num={6} drag=\"true\" id=\"10\" size={45}/>,\n    <LibCell category={1} num={10} drag=\"true\" id=\"11\" size={45}/>,\n    <LibCell category={1} num={20} drag=\"true\" id=\"12\" size={45}/>,\n    <LibCell category={2} num={0} drag=\"true\" id=\"13\" size={45}/>,\n    <LibCell category={2} num={4} drag=\"true\" id=\"14\" size={45}/>,\n    <LibCell category={3} num={0} drag=\"true\" id=\"15\" size={45}/>,\n    <LibCell category={3} num={4} drag=\"true\" id=\"16\" size={45}/>,\n    <LibCell category={3} num={5} drag=\"true\" id=\"17\" size={45}/>,\n    <LibCell category={3} num={6} drag=\"true\" id=\"18\" size={45}/>,\n    <LibCell category={3} num={7} drag=\"true\" id=\"19\" size={45}/>,\n    <LibCell category={3} num={8} drag=\"true\" id=\"20\" size={45}/>,\n    <LibCell category={4} num={0} drag=\"true\" id=\"21\" size={45}/>,\n    <LibCell category={4} num={1} drag=\"true\" id=\"22\" size={45}/>,\n    <LibCell category={4} num={2} drag=\"true\" id=\"23\" size={45}/>,\n]\n\nconst SideBarMenuItems = [\n    {\n        id: menuState.menus.selectionGroup,\n        icon: <FaMousePointer size=\"1.2em\" color=\"#000000b8\"/>,\n        name: 'Select',\n    },\n    {\n        id: menuState.menus.laser,\n        icon: <GiTorch size=\"1.2em\" color=\"#000000b8\"/>,\n        name: 'Laser',\n    },\n    {\n        id: menuState.menus.draw,\n        icon: <FaPen size=\"1.2em\" color=\"#000000b8\"/>,\n        name: 'Draw',\n        subMenus:CircleColors\n    },\n    {\n        id: menuState.menus.smartDraw,\n        icon: <FaEdit size=\"1.2em\" color=\"#000000b8\"/>,\n        name: 'Smart Draw',\n        subMenus:CircleColors\n    },\n    {\n        id: menuState.menus.text,\n        icon: <MdTitle size=\"1.2em\" color=\"#000000b8\"/>,\n        name: 'Text'\n    },\n    {\n        id: menuState.menus.shapes,\n        icon: <FaShapes size=\"1.2em\" color=\"#000000b8\"/>,\n        name: 'Shapes',\n        subMenus: ShapesList\n    },\n    {\n        id: menuState.menus.erase,\n        icon: <FaEraser size=\"1.2em\" color=\"#000000b8\"/>,\n        name: 'Erase',\n    },\n    {\n        id: menuState.menus.eraseAll,\n        icon: <RiDeleteBin5Line size=\"1.2em\" color=\"#000000b8\"/>,\n        name: 'Erase All',\n    },\n]\nexport default SideBarMenuItems","var drawStyle = {\n    colorIndex: 10,\n    dashIndex: 0,\n    widthIndex: 0\n}\n\ndrawStyle.setColor = function(idx, color) {\n    drawStyle.colorIndex = idx;\n    var carr = colorNameToVal(color)\n    window.Module.setStrokeColor(carr[0], carr[1], carr[2], carr[3]);\n}\n\ndrawStyle.setDashIndex = function(idx) {\n    drawStyle.dashIndex = idx;\n    window.Module.setDashType(idx);\n}\n\ndrawStyle.setWidthIndex = function(idx) {\n    drawStyle.widthIndex = idx;\n    window.Module.inputReceiver().currentStyle().setStrokeWidth((idx + 1) * 2);\n}\n\nfunction colorNameToVal(color)\n{\n    var colors = {\"aliceblue\": [240, 248, 255, 255], \"antiquewhite\": [250, 235, 215, 255], \"aqua\": [0, 255, 255, 255], \"aquamarine\": [127, 255, 212, 255], \"azure\": [240, 255, 255, 255], \"beige\": [245, 245, 220, 255], \"bisque\": [255, 228, 196, 255], \"black\": [0, 0, 0, 255], \"blanchedalmond\": [255, 235, 205, 255], \"blue\": [0, 0, 255, 255], \"blueviolet\": [138, 43, 226, 255], \"brown\": [165, 42, 42, 255], \"burlywood\": [222, 184, 135, 255], \"cadetblue\": [95, 158, 160, 255], \"chartreuse\": [127, 255, 0, 255], \"chocolate\": [210, 105, 30, 255], \"coral\": [255, 127, 80, 255], \"cornflowerblue\": [100, 149, 237, 255], \"cornsilk\": [255, 248, 220, 255], \"crimson\": [220, 20, 60, 255], \"cyan\": [0, 255, 255, 255], \"darkblue\": [0, 0, 139, 255], \"darkcyan\": [0, 139, 139, 255], \"darkgoldenrod\": [184, 134, 11, 255], \"darkgray\": [169, 169, 169, 255], \"darkgreen\": [0, 100, 0, 255], \"darkkhaki\": [189, 183, 107, 255], \"darkmagenta\": [139, 0, 139, 255], \"darkolivegreen\": [85, 107, 47, 255], \"darkorange\": [255, 140, 0, 255], \"darkorchid\": [153, 50, 204, 255], \"darkred\": [139, 0, 0, 255], \"darksalmon\": [233, 150, 122, 255], \"darkseagreen\": [143, 188, 143, 255], \"darkslateblue\": [72, 61, 139, 255], \"darkslategray\": [47, 79, 79, 255], \"darkturquoise\": [0, 206, 209, 255], \"darkviolet\": [148, 0, 211, 255], \"deeppink\": [255, 20, 147, 255], \"deepskyblue\": [0, 191, 255, 255], \"dimgray\": [105, 105, 105, 255], \"dodgerblue\": [30, 144, 255, 255], \"firebrick\": [178, 34, 34, 255], \"floralwhite\": [255, 250, 240, 255], \"forestgreen\": [34, 139, 34, 255], \"fuchsia\": [255, 0, 255, 255], \"gainsboro\": [220, 220, 220, 255], \"ghostwhite\": [248, 248, 255, 255], \"gold\": [255, 215, 0, 255], \"goldenrod\": [218, 165, 32, 255], \"gray\": [128, 128, 128, 255], \"green\": [0, 128, 0, 255], \"greenyellow\": [173, 255, 47, 255], \"honeydew\": [240, 255, 240, 255], \"hotpink\": [255, 105, 180, 255], \"indianred \": [205, 92, 92, 255], \"indigo\": [75, 0, 130, 255], \"ivory\": [255, 255, 240, 255], \"khaki\": [240, 230, 140, 255], \"lavender\": [230, 230, 250, 255], \"lavenderblush\": [255, 240, 245, 255], \"lawngreen\": [124, 252, 0, 255], \"lemonchiffon\": [255, 250, 205, 255], \"lightblue\": [173, 216, 230, 255], \"lightcoral\": [240, 128, 128, 255], \"lightcyan\": [224, 255, 255, 255], \"lightgoldenrodyellow\": [250, 250, 210, 255], \"lightgrey\": [211, 211, 211, 255], \"lightgreen\": [144, 238, 144, 255], \"lightpink\": [255, 182, 193, 255], \"lightsalmon\": [255, 160, 122, 255], \"lightseagreen\": [32, 178, 170, 255], \"lightskyblue\": [135, 206, 250, 255], \"lightslategray\": [119, 136, 153, 255], \"lightsteelblue\": [176, 196, 222, 255], \"lightyellow\": [255, 255, 224, 255], \"lime\": [0, 255, 0, 255], \"limegreen\": [50, 205, 50, 255], \"linen\": [250, 240, 230, 255], \"magenta\": [255, 0, 255, 255], \"maroon\": [128, 0, 0, 255], \"mediumaquamarine\": [102, 205, 170, 255], \"mediumblue\": [0, 0, 205, 255], \"mediumorchid\": [186, 85, 211, 255], \"mediumpurple\": [147, 112, 216, 255], \"mediumseagreen\": [60, 179, 113, 255], \"mediumslateblue\": [123, 104, 238, 255], \"mediumspringgreen\": [0, 250, 154, 255], \"mediumturquoise\": [72, 209, 204, 255], \"mediumvioletred\": [199, 21, 133, 255], \"midnightblue\": [25, 25, 112, 255], \"mintcream\": [245, 255, 250, 255], \"mistyrose\": [255, 228, 225, 255], \"moccasin\": [255, 228, 181, 255], \"navajowhite\": [255, 222, 173, 255], \"navy\": [0, 0, 128, 255], \"oldlace\": [253, 245, 230, 255], \"olive\": [128, 128, 0, 255], \"olivedrab\": [107, 142, 35, 255], \"orange\": [255, 165, 0, 255], \"orangered\": [255, 69, 0, 255], \"orchid\": [218, 112, 214, 255], \"palegoldenrod\": [238, 232, 170, 255], \"palegreen\": [152, 251, 152, 255], \"paleturquoise\": [175, 238, 238, 255], \"palevioletred\": [216, 112, 147, 255], \"papayawhip\": [255, 239, 213, 255], \"peachpuff\": [255, 218, 185, 255], \"peru\": [205, 133, 63, 255], \"pink\": [255, 192, 203, 255], \"plum\": [221, 160, 221, 255], \"powderblue\": [176, 224, 230, 255], \"purple\": [128, 0, 128, 255], \"rebeccapurple\": [102, 51, 153, 255], \"red\": [255, 0, 0, 255], \"rosybrown\": [188, 143, 143, 255], \"royalblue\": [65, 105, 225, 255], \"saddlebrown\": [139, 69, 19, 255], \"salmon\": [250, 128, 114, 255], \"sandybrown\": [244, 164, 96, 255], \"seagreen\": [46, 139, 87, 255], \"seashell\": [255, 245, 238, 255], \"sienna\": [160, 82, 45, 255], \"silver\": [192, 192, 192, 255], \"skyblue\": [135, 206, 235, 255], \"slateblue\": [106, 90, 205, 255], \"slategray\": [112, 128, 144, 255], \"snow\": [255, 250, 250, 255], \"springgreen\": [0, 255, 127, 255], \"steelblue\": [70, 130, 180, 255], \"tan\": [210, 180, 140, 255], \"teal\": [0, 128, 128, 255], \"thistle\": [216, 191, 216, 255], \"tomato\": [255, 99, 71, 255], \"turquoise\": [64, 224, 208, 255], \"violet\": [238, 130, 238, 255], \"wheat\": [245, 222, 179, 255], \"white\": [255, 255, 255, 255], \"whitesmoke\": [245, 245, 245, 255], \"yellow\": [255, 255, 0, 255], \"yellowgreen\": [154, 205, 50, 255]};\n    if (typeof colors[color.toLowerCase()] != 'undefined')\n        return colors[color.toLowerCase()];\n    return [255, 255, 255, 255]\n}\n\nexport default drawStyle;\n","import React from 'react'\nimport { FaCheckCircle } from \"react-icons/fa\";\nimport {FaCheck} from \"react-icons/fa\";\nimport { RiCheckboxBlankCircleFill } from \"react-icons/ri\";\n\nconst ChessCircle = (props) => {\n    if (props.checked) {\n        return <div id={props.id} className=\"chess\">\n            <FaCheck strokeWidth={4}/>\n        </div>\n    }\n    return <div id={props.id} className=\"chess\"></div>\n}\n\nconst WhiteCircle = (props) => {\n    var style = {background: \"#ffffff\", border: \"1px solid #101010\"}\n    if (props.checked) {\n        return <div id={props.id} className=\"chess\" style={style}>\n            <FaCheck strokeWidth={4}/>\n        </div>\n    }\n    return <div id={props.id} className=\"chess\" style={style}></div>\n}\n\nexport const ColorNameToVal = (color) => {\n    var colors = {\"aliceblue\": [240, 248, 255, 255], \"antiquewhite\": [250, 235, 215, 255], \"aqua\": [0, 255, 255, 255], \"aquamarine\": [127, 255, 212, 255], \"azure\": [240, 255, 255, 255], \"beige\": [245, 245, 220, 255], \"bisque\": [255, 228, 196, 255], \"black\": [0, 0, 0, 255], \"blanchedalmond\": [255, 235, 205, 255], \"blue\": [0, 0, 255, 255], \"blueviolet\": [138, 43, 226, 255], \"brown\": [165, 42, 42, 255], \"burlywood\": [222, 184, 135, 255], \"cadetblue\": [95, 158, 160, 255], \"chartreuse\": [127, 255, 0, 255], \"chocolate\": [210, 105, 30, 255], \"coral\": [255, 127, 80, 255], \"cornflowerblue\": [100, 149, 237, 255], \"cornsilk\": [255, 248, 220, 255], \"crimson\": [220, 20, 60, 255], \"cyan\": [0, 255, 255, 255], \"darkblue\": [0, 0, 139, 255], \"darkcyan\": [0, 139, 139, 255], \"darkgoldenrod\": [184, 134, 11, 255], \"darkgray\": [169, 169, 169, 255], \"darkgreen\": [0, 100, 0, 255], \"darkkhaki\": [189, 183, 107, 255], \"darkmagenta\": [139, 0, 139, 255], \"darkolivegreen\": [85, 107, 47, 255], \"darkorange\": [255, 140, 0, 255], \"darkorchid\": [153, 50, 204, 255], \"darkred\": [139, 0, 0, 255], \"darksalmon\": [233, 150, 122, 255], \"darkseagreen\": [143, 188, 143, 255], \"darkslateblue\": [72, 61, 139, 255], \"darkslategray\": [47, 79, 79, 255], \"darkturquoise\": [0, 206, 209, 255], \"darkviolet\": [148, 0, 211, 255], \"deeppink\": [255, 20, 147, 255], \"deepskyblue\": [0, 191, 255, 255], \"dimgray\": [105, 105, 105, 255], \"dodgerblue\": [30, 144, 255, 255], \"firebrick\": [178, 34, 34, 255], \"floralwhite\": [255, 250, 240, 255], \"forestgreen\": [34, 139, 34, 255], \"fuchsia\": [255, 0, 255, 255], \"gainsboro\": [220, 220, 220, 255], \"ghostwhite\": [248, 248, 255, 255], \"gold\": [255, 215, 0, 255], \"goldenrod\": [218, 165, 32, 255], \"gray\": [128, 128, 128, 255], \"green\": [0, 128, 0, 255], \"greenyellow\": [173, 255, 47, 255], \"honeydew\": [240, 255, 240, 255], \"hotpink\": [255, 105, 180, 255], \"indianred \": [205, 92, 92, 255], \"indigo\": [75, 0, 130, 255], \"ivory\": [255, 255, 240, 255], \"khaki\": [240, 230, 140, 255], \"lavender\": [230, 230, 250, 255], \"lavenderblush\": [255, 240, 245, 255], \"lawngreen\": [124, 252, 0, 255], \"lemonchiffon\": [255, 250, 205, 255], \"lightblue\": [173, 216, 230, 255], \"lightcoral\": [240, 128, 128, 255], \"lightcyan\": [224, 255, 255, 255], \"lightgoldenrodyellow\": [250, 250, 210, 255], \"lightgrey\": [211, 211, 211, 255], \"lightgreen\": [144, 238, 144, 255], \"lightpink\": [255, 182, 193, 255], \"lightsalmon\": [255, 160, 122, 255], \"lightseagreen\": [32, 178, 170, 255], \"lightskyblue\": [135, 206, 250, 255], \"lightslategray\": [119, 136, 153, 255], \"lightsteelblue\": [176, 196, 222, 255], \"lightyellow\": [255, 255, 224, 255], \"lime\": [0, 255, 0, 255], \"limegreen\": [50, 205, 50, 255], \"linen\": [250, 240, 230, 255], \"magenta\": [255, 0, 255, 255], \"maroon\": [128, 0, 0, 255], \"mediumaquamarine\": [102, 205, 170, 255], \"mediumblue\": [0, 0, 205, 255], \"mediumorchid\": [186, 85, 211, 255], \"mediumpurple\": [147, 112, 216, 255], \"mediumseagreen\": [60, 179, 113, 255], \"mediumslateblue\": [123, 104, 238, 255], \"mediumspringgreen\": [0, 250, 154, 255], \"mediumturquoise\": [72, 209, 204, 255], \"mediumvioletred\": [199, 21, 133, 255], \"midnightblue\": [25, 25, 112, 255], \"mintcream\": [245, 255, 250, 255], \"mistyrose\": [255, 228, 225, 255], \"moccasin\": [255, 228, 181, 255], \"navajowhite\": [255, 222, 173, 255], \"navy\": [0, 0, 128, 255], \"oldlace\": [253, 245, 230, 255], \"olive\": [128, 128, 0, 255], \"olivedrab\": [107, 142, 35, 255], \"orange\": [255, 165, 0, 255], \"orangered\": [255, 69, 0, 255], \"orchid\": [218, 112, 214, 255], \"palegoldenrod\": [238, 232, 170, 255], \"palegreen\": [152, 251, 152, 255], \"paleturquoise\": [175, 238, 238, 255], \"palevioletred\": [216, 112, 147, 255], \"papayawhip\": [255, 239, 213, 255], \"peachpuff\": [255, 218, 185, 255], \"peru\": [205, 133, 63, 255], \"pink\": [255, 192, 203, 255], \"plum\": [221, 160, 221, 255], \"powderblue\": [176, 224, 230, 255], \"purple\": [128, 0, 128, 255], \"rebeccapurple\": [102, 51, 153, 255], \"red\": [255, 0, 0, 255], \"rosybrown\": [188, 143, 143, 255], \"royalblue\": [65, 105, 225, 255], \"saddlebrown\": [139, 69, 19, 255], \"salmon\": [250, 128, 114, 255], \"sandybrown\": [244, 164, 96, 255], \"seagreen\": [46, 139, 87, 255], \"seashell\": [255, 245, 238, 255], \"sienna\": [160, 82, 45, 255], \"silver\": [192, 192, 192, 255], \"skyblue\": [135, 206, 235, 255], \"slateblue\": [106, 90, 205, 255], \"slategray\": [112, 128, 144, 255], \"snow\": [255, 250, 250, 255], \"springgreen\": [0, 255, 127, 255], \"steelblue\": [70, 130, 180, 255], \"tan\": [210, 180, 140, 255], \"teal\": [0, 128, 128, 255], \"thistle\": [216, 191, 216, 255], \"tomato\": [255, 99, 71, 255], \"turquoise\": [64, 224, 208, 255], \"violet\": [238, 130, 238, 255], \"wheat\": [245, 222, 179, 255], \"white\": [255, 255, 255, 255], \"whitesmoke\": [245, 245, 245, 255], \"yellow\": [255, 255, 0, 255], \"yellowgreen\": [154, 205, 50, 255]};\n    if (typeof colors[color.toLowerCase()] != 'undefined')\n        return colors[color.toLowerCase()];\n    return [255, 255, 255, 255]\n}\n\nconst lineColors = [\n    <WhiteCircle size=\"2em\" color=\"white\" id='10'/>,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"black\" id='11' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"gray\" id='12' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"red\" id='13' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"orange\" id='14' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"green\" id='15' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"yellow\" id='16' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"tan\" id='17' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"brown\" id='18' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"pink\" id='19' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"purple\" id='20' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"violet\" id='21' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"plum\" id='22' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"skyblue\" id='23' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"cyan\" id='24' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"blue\" id='25' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"darkcyan\" id='26' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"darkorchid\" id='27' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"gold\" id='28' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"royalblue\" id='29' />,\n]\n\nconst extraColors = [\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"magenta\" id='50' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"olive\" id='51' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"deepskyblue\" id='52' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"chocolate\" id='53' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"azure\" id='54' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"powderblue\" id='55' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"darkgoldenrod\" id='56' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"greenyellow\" id='57' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"thistle\" id='58' />,\n]\n\nvar fillColors = [\n    <ChessCircle id={0}/>\n]\n\nfillColors = fillColors.concat(lineColors);\nfillColors = fillColors.concat(extraColors);\n\nconst getSelectedIndex = (colors, curColor, type) => {\n    if (curColor.alpha == 0 && type == 'fill') {\n        return 0;\n    }\n    let idx = 0;\n    let dist = 9999999999; //some big number\n    colors.map((component, index) => {\n        if (type == 'fill' && index == 0) {\n            return;\n        }\n        var color = ColorNameToVal(component.props.color);\n        let dr = color[0] - curColor.red;\n        let dg = color[1] - curColor.green;\n        let db = color[2] - curColor.blue;\n        var tmp = Math.sqrt(dr * dr + dg * dg + db * db);\n        if (tmp < dist) {\n            dist = tmp;\n            idx = index;\n        }\n    });\n    return idx;\n}\n\nconst ColorList = (props) => {\n    let colors = [];\n    if (props.type == 'fill') {\n        colors = fillColors;\n    } else {\n        colors = lineColors;\n    }\n\n    var selectedIndex = getSelectedIndex(colors, props.curColor, props.type);\n\n    const onColorChange = (index, color) => {\n        var val = {red: 0, green:0, blue:0, alpha: 0};\n        if (props.type == 'fill' && index == 0) {\n            val = {red: 0, green:0, blue:0, alpha: 0};\n        } else {\n            var cl = ColorNameToVal(color);\n            val = {red: cl[0], green: cl[1], blue: cl[2], alpha: cl[3]};\n        }\n        props.onColorChange(val);\n    }\n\n    return colors?.map((color, index)=>{\n        var item = null;\n        if (index == selectedIndex) {\n            if (props.type == 'fill' && index == 0) {\n                item = <ChessCircle checked={true}/>\n            } else if (color.props.color == 'white') {\n                item = <WhiteCircle checked={true} size=\"2em\" color={color.props.color}/>;\n            } else {\n                item = <FaCheckCircle size=\"2em\" color={color.props.color}/>;\n            }\n        } else {\n            item = color;\n        }\n        return (\n            <span key={color.props.id} onClick={() => onColorChange(index, color.props.color)}>\n              {item}\n            </span>\n        )\n    })\n}\nexport const ColorListOld = (props) => {\n    const {colors} = props;\n    return colors?.map((color, index)=>{\n        var item = null;\n        if (index == props.selectedIndex) {\n            item = <FaCheckCircle size=\"2em\" color={color.props.color}/>;\n        } else {\n            item = color;\n        }\n        return (\n            <span onClick={() => props.onColorChange(index, color.props.color)}>\n              {item}\n            </span>\n        )\n    })\n}\n\nexport default ColorList;\n","var Config = {\n    mediaQuery: \"only screen and (max-width: 640px)\"\n}\n\nexport default Config;","import React, { useState } from 'react'\nimport Popper from '@material-ui/core/Popper';\nimport Fade from '@material-ui/core/Fade';\nimport Paper from '@material-ui/core/Paper';\nimport Style from './SideBarMenu/SideBarStyle';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { AiOutlineMinus, AiOutlineDash, AiOutlineSmallDash } from \"react-icons/ai\";\nimport { RiCheckboxBlankCircleFill } from \"react-icons/ri\";\nimport drawStyle from './DrawStyle'\nimport {ColorListOld as ColorList } from './ColorList'\nimport Config from './Config'\n\nconst useStyles = makeStyles(Style);\n\nconst StrokeStyle = (props) => {\n    const classes = useStyles();\n\n    const [colorIndex, setColorIndex] = useState(drawStyle.colorIndex)\n    const [dashIndex, setDashIndex] = useState(drawStyle.dashIndex)\n    const [widthIndex, setWidthIndex] = useState(drawStyle.widthIndex)\n\n    const widthCircles = [\n        {icon: <RiCheckboxBlankCircleFill size=\"1em\" id=\"0\" />},\n        {icon: <RiCheckboxBlankCircleFill size=\"1.2em\" id=\"1\" />},\n        {icon: <RiCheckboxBlankCircleFill size=\"1.4em\" id=\"2\" />},\n        {icon: <RiCheckboxBlankCircleFill size=\"1.6em\" id=\"3\" />},\n        {icon: <RiCheckboxBlankCircleFill size=\"1.8em\" id=\"4\" />},\n    ]\n\n    const dashLines = [\n        {icon: <AiOutlineMinus size=\"2.2em\" id=\"0\" />},\n        {icon:<AiOutlineSmallDash size=\"2em\" style={{marginBottom:'3px'}}  id=\"1\"  />},\n        {icon: <AiOutlineDash size=\"2em\" style={{marginBottom:'3px'}}   id=\"2\" />},\n        {icon: <AiOutlineDash size=\"2em\" style={{marginBottom:'3px'}}  id=\"3\" />},\n    ]\n    \n    const onColorChange = (index, color) =>{\n        setColorIndex(index)\n        drawStyle.setColor(index,color);\n    }\n\n    const onDashChange = (index, iconsId) => {\n        setDashIndex(iconsId)\n        drawStyle.setDashIndex(index);\n    }\n\n    const onWidthChange = (index, iconsId) => {\n        setWidthIndex(iconsId)\n        drawStyle.setWidthIndex(index);\n    }\n\n    const getDashLines = () => {\n                      return ( \n                          <div className={classes.spaceBwtRound}>\n                        {\n                           dashLines.map((dashLine, index) =>{\n                                return(\n                                    <span key={index} className={`${dashLine.icon.props.id == dashIndex ? \"changeBorder\" : \"\"} `} \n                                        onClick={() => onDashChange(index, dashLine.icon.props.id) }>\n                                        {dashLine.icon}\n                                    </span>\n                                )\n                            })\n                        }\n                        </div>\n                      )\n    }\n\n    const getWidthCircles = () => {\n        return ( \n            <div className={classes.spaceBwt} >\n          {\n             widthCircles.map((wcircle, index) =>{\n                  return(\n                      <span key={index} className={`${wcircle.icon.props.id == widthIndex ? \"changeBorderRound\" : \"defaultBorder\"} `} \n                        onClick={() => onWidthChange(index, wcircle.icon.props.id) }>\n                          {wcircle.icon}\n                      </span>\n                  )\n              })\n          }\n          </div>\n        )\n    }\n    var {open, anchorEl, placement, subMenuIcons} = props;\n    if (window.matchMedia(Config.mediaQuery).matches) {\n        placement = \"top\";\n    }\n\n    return (\n        <div>\n            <Popper open={open} anchorEl={anchorEl} placement={placement} transition\n            >\n                {({ TransitionProps }) => (\n                    <Fade {...TransitionProps} timeout={350}>\n                        <Paper className=\"smart_draw_paper smart_draw_res\">\n                            {getWidthCircles()}\n                            {getDashLines()}\n                            <ColorList colors={subMenuIcons} selectedIndex={colorIndex} \n                                onColorChange={onColorChange}/>\n                         </Paper>\n                    </Fade>\n                )}\n            </Popper>\n        </div>\n    )\n}\n\nexport default StrokeStyle;\n","import React from 'react'\nimport Popper from '@material-ui/core/Popper';\nimport Fade from '@material-ui/core/Fade';\nimport Paper from '@material-ui/core/Paper';\nimport Config from './Config'\nimport Style from './SideBarMenu/SideBarStyle';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { FaMousePointer, FaHandRock } from 'react-icons/fa';\nimport menuState from './MenuState'\n\nconst useStyles = makeStyles(Style);\n\nconst SelectionGroupPopup = (props) => {\n    const classes = useStyles();\n\n    var {open, anchorEl, placement} = props;\n    if (window.matchMedia(Config.mediaQuery).matches) {\n        placement = \"top\";\n    }\n\n    var chooseSelectMode = () => {\n        props.setSelectionMode(menuState.menus.selection);\n    }\n\n    var chooseMoveMode = () => {\n        props.setSelectionMode(menuState.menus.move);\n    }\n\n    var itemClass = classes.expandedMenuItem;\n    var itemClassActive = classes.expandedMenuItem + ' ' + classes.expandedMenuItemActive\n    var selectStyle = itemClass;\n    var moveStyle = itemClass;\n    if (menuState.selectionGroupVal == menuState.menus.selection) {\n        selectStyle = itemClassActive;\n    } else {\n        moveStyle = itemClassActive;\n    }\n    var menuClass = classes.expandedMenu;\n    const {menuItem} = classes;\n    return (\n        <div>\n            <Popper open={open} anchorEl={anchorEl} placement={placement} transition\n            >\n                {({ TransitionProps }) => (\n                    <Fade {...TransitionProps} timeout={350}>\n                        <Paper className=\"selection_menu_expanded_paper\">\n                            <div className={menuClass}>\n                                <div className={selectStyle} onClick={chooseSelectMode}>\n                                    <div className={menuItem + ' ' + 'sideMenuIcons'}>\n                                        <FaMousePointer size=\"1.2em\" color=\"#000000b8\"/>\n                                    </div>\n                                    <div className={menuItem +' '+ 'menuItems'}>Select</div>\n                                </div>\n                                <div className={moveStyle} onClick={chooseMoveMode}>\n                                    <div className={menuItem + ' ' + 'sideMenuIcons'}>\n                                        <FaHandRock size=\"1.2em\" color=\"#000000b8\"/>\n                                    </div>\n                                    <div className={menuItem +' '+ 'menuItems'}>Move</div>\n                                </div>\n                            </div>\n                         </Paper>\n                    </Fade>\n                )}\n            </Popper>\n        </div>\n    )\n}\n\nexport default SelectionGroupPopup;\n","var util = { };\n\n// Adding into window as this is being used by c++ code\nwindow.generateUUID = function() {\n    var d = new Date().getTime();//Timestamp\n    var d2 = (window.performance && window.performance.now && (window.performance.now()*1000)) || 0;//Time in microseconds since page-load or 0 if unsupported\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n        var r = Math.random() * 16;//random number between 0 and 16\n        if(d > 0){//Use timestamp until depleted\n            r = (d + r)%16 | 0;\n            d = Math.floor(d/16);\n        } else {//Use microseconds since page-load if supported\n            r = (d2 + r)%16 | 0;\n            d2 = Math.floor(d2/16);\n        }\n        return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);\n    });\n}\n\nutil.mouseLocation = (event) => {\n  var x = event.pageX;\n    var y = event.pageY;\n    if (x == null || y == null || typeof x == \"undefined\" || typeof y == \"undefined\") {\n        if (event.changedTouches && event.changedTouches.length > 0) {\n            var touch = event.changedTouches[0];\n            x = touch.pageX;\n            y = touch.pageY;\n        }\n    }\n    if (x == null || y == null || typeof x == \"undefined\" || typeof y == \"undefined\") {\n        return null;\n    }\n    return {x: x, y: y};\n}\n  \nexport default util;\n  ","import * as React from 'react';\n\nvar panel = {\n    dragging: false,\n    update: null,\n    children: null,\n    x: 0,\n    y: 0,\n}\n\nconst useRefState = initialValue => {\n    const [state, setState] = React.useState(initialValue)\n    const stateRef = React.useRef(state)\n    React.useEffect(\n      () => { stateRef.current = state },\n      [state]\n    )\n    return [state, stateRef, setState];\n}\n\nconst DragPanel = (props) => {\n    const [counter, counterRef, setCounter] = useRefState(0);\n\n    React.useEffect(() => {\n        panel.update = () => {\n            setCounter(counterRef.current + 1);\n        }\n        return () => {\n            panel.update = null;\n        };\n    }, []);\n\n    if (!panel.dragging) {\n        return null;\n    }\n\n    var style = {top: panel.y, left: panel.x, position: 'absolute'};\n\n    return <div className=\"dragPanel\"><div style={style}>{panel.children}</div></div>\n}\n\nexport {panel, DragPanel}","import React from 'react'\nimport {DraggableCore} from 'react-draggable';\nimport {panel} from './Panel'\nimport util from '../common/Util'\n\nvar dx = 0;\nvar dy = 0;\n\nconst LekhDraggable = (props) => {\n    const [enabled, setEnabled] = React.useState(true);\n\n    const updatePanel = () => {\n        if (panel.update) {\n            panel.update();\n        }\n    }\n\n    const onDragStart = (e) => {\n        var canvas = document.getElementById(props.id);\n        var rect = canvas.getBoundingClientRect();\n        panel.x = rect.x;\n        panel.y = rect.y;\n       \n        panel.dragging = true;\n        panel.children = React.cloneElement(props.children, {enabled: true});\n\n        var loc = util.mouseLocation(e);\n        if (loc != null) {\n            dx = rect.x - loc.x;\n            dy = rect.y - loc.y;\n        }\n\n        updatePanel();\n        setEnabled(false);\n    }\n\n    const onDrag = (e) => {\n        var loc = util.mouseLocation(e);\n        if (loc != null) {\n            panel.x = loc.x + dx;\n            panel.y = loc.y + dy;\n        }\n        updatePanel();\n    }\n\n    const onDragStop = (e) => {\n        props.onStop(e);\n        window.setTimeout(function() {\n            panel.dragging = false;\n            updatePanel();\n            setEnabled(true);\n        }, 10);\n    }\n\n    var children = React.cloneElement(props.children, {enabled: enabled});\n\n    return (\n        <DraggableCore onStart={onDragStart} onDrag={onDrag} onStop={onDragStop}>\n            {children}\n        </DraggableCore>\n      );\n}\n\nexport {LekhDraggable as default};\n","import React from 'react'\nimport Popper from '@material-ui/core/Popper';\nimport Fade from '@material-ui/core/Fade';\nimport Paper from '@material-ui/core/Paper';\nimport Config from '../common/Config'\nimport LekhDraggable from '../draggable/LekhDraggable';\nimport shapes from './Shapes'\nimport LibCell from '../common/LibCell';\nimport {\n    AiOutlineCaretDown,\n    AiOutlineCaretUp,\n  } from \"react-icons/ai\"\n\nconst MiniLib = (props) => {\n    shapes.search('');\n    const getShapeIcons = () => {\n        return shapes.getMiniGroup().shapes.map((shape, index) => {\n            return (\n                <LekhDraggable id={index} key={index} onStop={(e, data) => {props.onDragStop(e, data, shape.category, shape.num, popperRef)}}>\n                    <LibCell category={shape.category} num={shape.num} id={index} size={45}/>\n                </LekhDraggable>\n            )\n        })\n    }\n\n    var {anchorEl, placement} = props;\n    if (window.matchMedia(Config.mediaQuery).matches) {\n        placement = \"top\";\n    }\n    var popperRef = React.createRef();\n    return (\n        <div>\n            <Popper ref={popperRef} open={true} anchorEl={anchorEl} placement={placement} transition>\n                {({ TransitionProps }) => (\n                    <Fade {...TransitionProps} timeout={350}>\n                        <Paper className=\"popper_paper poper_paper_res\">\n                            {window.matchMedia(Config.mediaQuery).matches && (\n                            <div className=\"shape-count\">\n                                <AiOutlineCaretUp onClick={() => props.expand(true)}/>\n                            </div>)}\n                            {getShapeIcons()}\n                            {!window.matchMedia(Config.mediaQuery).matches && (\n                            <div className=\"shape-count\">\n                                <AiOutlineCaretDown onClick={() => props.expand(true)}/>\n                            </div>)}\n                         </Paper>\n                     </Fade>\n                )}\n            </Popper>\n        </div>\n    )\n}\n\nexport default MiniLib;\n","import React, { useState } from \"react\"\nimport { AiOutlineCaretDown, AiOutlineCaretRight } from \"react-icons/ai\"\nimport LekhDraggable from '../draggable/LekhDraggable';\nimport shapes from './Shapes'\nimport LibCell from '../common/LibCell';\n\nconst useRefState = initialValue => {\n  const [state, setState] = React.useState(initialValue)\n  const stateRef = React.useRef(state)\n  React.useEffect(\n    () => { stateRef.current = state },\n    [state]\n  )\n  return [state, stateRef, setState];\n}\n\nconst ShapesGroup = ({idx, onDragStop}) => {\n  var group = shapes.getGroup(idx);\n  const [counter, counterRef, setCounter] = useRefState(0);\n\n  if (group == null) {\n    return <div></div>;\n  }\n\n  if (group.shapes.length == 0 && group.contentUrl && group.expanded) {\n    shapes.getShapes(idx, function() {\n      setCounter(counterRef.current + 1);\n    });\n  }\n  const handleCaretClick = () => {\n    shapes.expandGroup(idx, !group.expanded)\n    setCounter(counterRef.current + 1);\n  }\n\n  const getShapeIcons = () => {  \n    return group.shapes.map((shape, index) => {\n      var canvasId = idx + '_' + index;\n      return (\n        <div className=\"libCell\">\n        <LekhDraggable id={canvasId} key={index} onStop={(e, data) => {onDragStop(e, data, shape.category, shape.num)}}>\n          <LibCell category={shape.category} num={shape.num} id={canvasId} size={40}/>\n        </LekhDraggable>\n        <span>{shape.name}</span>\n        </div>\n      )\n    })\n  }\n\n  return (\n    <div className=\"\">\n      <div onClick={handleCaretClick} className=\"shapes-group-inner\">\n        <span className=\"caret\">\n          {!group.expanded && <AiOutlineCaretRight />}\n          {group.expanded && <AiOutlineCaretDown />}\n        </span>\n        <h4 className=\"group-shapes-name\">{group.name}</h4>\n      </div>\n      {group.shapes.length == 0 && group.expanded && <span className=\"libCellLoadingSpan\">Loading..</span>}\n      {group.shapes.length > 0 && group.expanded && <div className=\"group-shapes\">{getShapeIcons()}</div>}\n    </div>\n  )\n}\n\nexport default ShapesGroup\n","import canvas from './Canvas';\nimport command from './Command'\nimport AppInput from './AppInput'\n\nvar keyboardInput = { \n    showingDialog: false\n};\n\nvar listeners = [];\nvar postListeners = [];\n\nconst isMac = navigator.userAgent.indexOf(\"OS X\") > 0;\n\nvar handlers = {\n    'a': command.selectAll,\n    'c': command.copy,\n    'x': command.cut,\n    'v': command.paste,\n    'b': command.addBox,\n    'e': command.addCircle,\n    'u': command.addUser,\n    'z': command.undo,\n}\n\nkeyboardInput.addListener = function(cb) {\n    listeners.push(cb);\n}\n\nkeyboardInput.removeListener = function(cb) {\n    for (var i = 0; i < listeners.length; i++) {\n        if (listeners[i] == cb) {\n            listeners.splice(i, 1);\n            return;\n        }\n    }\n}\n\nkeyboardInput.addPostListener = function(cb) {\n    postListeners.push(cb);\n}\n\nkeyboardInput.removePostListener = function(cb) {\n    for (var i = 0; i < postListeners.length; i++) {\n        if (postListeners[i] == cb) {\n            postListeners.splice(i, 1);\n            return;\n        }\n    }\n}\n\nkeyboardInput.handleKeyDown = function(event) {\n    if (AppInput.isEditingText() || keyboardInput.showingDialog) {\n        // do not handle keyboard while showing a dialog or editing shape text\n        return;\n    }\n\n    for (let cb of listeners) {\n        if (cb(event)) {\n            return;\n        }\n    }\n\n    let key = event.key.toLowerCase();\n    var handled = false;\n    if (key == 'backspace' || key == 'delete') {\n        command.del();\n        handled = true;\n    } else if (key == 'escape') {\n        command.escape();\n        handled = true;\n    } else {\n        var handler = handlers[key];\n        if (!event.shiftKey && !event.altKey) {\n            if (handler && ((isMac && event.metaKey) || (!isMac && event.ctrlKey))) {\n                handler();\n                handled = true;\n            }\n        }\n        if (isMac && key == 'z' && event.shiftKey && event.metaKey) {\n            command.redo();\n            handled = true;\n        }\n        if (!isMac && key == 'z' && event.shiftKey && event.ctrlKey) {\n            command.redo();\n            handled = true;\n        }\n        if (!isMac && key == 'y' && event.ctrlKey && !event.shiftKey && !event.altKey) {\n            command.redo();\n            handled = true;\n        }\n    }\n    if (handled) {\n        event.preventDefault();\n        canvas.draw();\n    }\n\n    for (let cb of postListeners) {\n        cb(event);\n    }\n}\n\nkeyboardInput.attachEvents = function(canvasElement) {\n    document.addEventListener(\"keydown\", function(event) {\n        keyboardInput.handleKeyDown(event);\n    });\n}\n\nexport default keyboardInput;\n","import React, { useState } from \"react\"\nimport Popper from '@material-ui/core/Popper';\nimport Fade from '@material-ui/core/Fade';\nimport Paper from '@material-ui/core/Paper';\nimport Config from '../common/Config'\nimport shapes from './Shapes'\nimport ShapesGroup from './ShapesGroup';\nimport Dialog from \"@material-ui/core/Dialog\"\nimport Switch from \"@material-ui/core/Switch\"\nimport keyboard from '../common/KeyboardInput'\n\nimport {\n    AiOutlineCaretDown,\n    AiOutlineCaretUp,\n    AiOutlineCaretRight,\n    AiTwotoneSetting,\n    AiOutlineClose\n} from \"react-icons/ai\"\n\nconst useRefState = initialValue => {\n    const [state, setState] = React.useState(initialValue)\n    const stateRef = React.useRef(state)\n    React.useEffect(\n        () => { stateRef.current = state },\n        [state]\n    )\n    return [state, stateRef, setState];\n}\n\nvar searchTimer = null;\n\nconst SearchBox = (props) => {\n    const [counter, counterRef, setCounter] = useRefState(0);\n    const reload = function () {\n        setCounter(counterRef.current + 1);\n    }\n    const handleSearch = (e) => {\n        var val = e.target.value;\n        if (!val) {\n            val = '';\n        }\n        shapes.searchText = val;\n        if (searchTimer == null) {\n            searchTimer = window.setTimeout(function() {\n                shapes.search(shapes.searchText);\n                reload();\n                searchTimer = null;\n                props.searchCompleted();\n            }, 500);\n        }\n        reload();\n    }\n    return <input placeholder=\"Search\"\n        id=\"shapeLibSearchBox\"\n        value={shapes.searchText}\n        onChange={handleSearch}\n    />\n}\n\nconst FullLib = (props) => {\n    const [showMoreSettings, showMoreSettingsRef, setShowMoreSttings] = useRefState(false)\n    const [counter, counterRef, setCounter] = useRefState(0);\n\n    var { anchorEl, placement } = props;\n\n    const handleKeyDown = (event) => {\n        var textBox = document.getElementById(\"shapeLibSearchBox\");\n        if (document.activeElement == textBox) {\n            return true;\n        }\n        if (showMoreSettingsRef.current) {\n            let key = event.key.toLowerCase();\n            if (key == 'escape') {\n                setShowMoreSttings(false);\n            }\n            return true;\n        }\n        return false;\n    }\n\n    React.useEffect(() => {\n        keyboard.addListener(handleKeyDown);\n        window.setTimeout(function () {\n            if (shapesGroupRef.current) {\n                shapesGroupRef.current.scrollTop = shapes.scroll;\n                shapesGroupRef.current.addEventListener('scroll', (event) => {\n                    if (shapesGroupRef.current) {\n                        shapes.scroll = shapesGroupRef.current.scrollTop;\n                    }\n                });\n            }\n        }, 5);\n        return () => {\n            keyboard.removeListener(handleKeyDown);\n        }\n    }, [])\n\n    const reload = function () {\n        setCounter(counterRef.current + 1);\n    }\n\n    if (window.matchMedia(Config.mediaQuery).matches) {\n        placement = \"top\";\n    }\n    var popperRef = React.createRef();\n    var shapesGroupRef = React.createRef();\n\n    const onDragStop = (e, data, categ, num) => {\n        props.onDragStop(e, data, categ, num, popperRef);\n    }\n\n    var icons = [];\n    for (let i = 0; i < shapes.groupCount(); i++) {\n        icons.push(<ShapesGroup idx={i} onDragStop={onDragStop} />);\n    }\n    var displaySettings = [];\n    if (showMoreSettings) {\n        displaySettings = shapes.getDisplaySettings();\n    }\n\n    return (\n        <div>\n            <Popper ref={popperRef} open={true} anchorEl={anchorEl} placement={placement} transition>\n                {({ TransitionProps }) => (\n                    <Fade {...TransitionProps} timeout={0}>\n                        <Paper className=\"popper_paper poper_paper_res\">\n                            <div className=\"shapes-settings\">\n                                <SearchBox searchCompleted={reload} />\n                                <AiTwotoneSetting\n                                    className=\"shapes-settings-icon\"\n                                    onClick={() => setShowMoreSttings(true)}\n                                />\n                                <AiOutlineClose className=\"shapes-settings-close\" onClick={() => props.expand(false)}/>\n                            </div>\n                            <div ref={shapesGroupRef} className=\"shapes-group-div\">\n                                {icons}\n                            </div>\n                            {!window.matchMedia(Config.mediaQuery).matches && (\n                                <div className=\"shape-count\">\n                                    <AiOutlineCaretUp onClick={() => props.expand(false)} />\n                                </div>\n                            )}\n                        </Paper>\n                    </Fade>\n                )}\n            </Popper>\n            {showMoreSettings && (\n                <Dialog open={showMoreSettings}>\n                    <div className=\"show-more-settings\">\n                        <div className=\"show-more-settings-title\">\n                            <h2>Manage Shapes</h2>\n\n                            <AiOutlineClose\n                                onClick={() => setShowMoreSttings(false)}\n                                className=\"show-more-close\"\n                            />\n                        </div>\n\n                        <div className=\"show-more-settings-inner\">\n                            {displaySettings.map(c => (\n                                <div>\n                                    <h4>{c.name}</h4>\n                                    <Switch color=\"primary\" checked={c.enabled} onChange={(event) => { shapes.setDisplaySetting(c.name, event.target.checked); reload(); }} />\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n                </Dialog>\n            )}\n        </div>\n    )\n}\n\nexport default FullLib;\n","import './ShapeLib.css'\nimport React from 'react'\nimport canvas from '../common/Canvas'\nimport Config from '../common/Config'\nimport util from '../common/Util'\nimport MiniLib from './MiniLib';\nimport FullLib from './FullLib';\nimport shapes from './Shapes'\n\nconst ShapeLibrary = (props) => {\n    const [expanded, setExpanded] = React.useState(shapes.expanded);\n\n    const onDragStop = (event, data, categ, num, containerRef) => {\n        var loc = util.mouseLocation(event);\n        if (loc == null) {\n            return;\n        }\n        var x = loc.x;\n        var y = loc.y;\n        \n        var popUpRect = containerRef.current.getBoundingClientRect()\n        if (y>= popUpRect.top && y<= popUpRect.bottom && x >= popUpRect.left && x <= popUpRect.right) {\n            var mid = canvas.getMidPoint();\n            x = mid.x;\n            y = mid.y;\n        }\n        x = canvas.maprx(x);\n        y = canvas.mapry(y);\n        window.Module.libraryStore().addObjectToCanvas(categ, num, x, y);\n        canvas.draw();\n    }\n\n    const onExpand = (val) => {\n        setExpanded(val);\n        shapes.expanded = val;\n    }\n\n    var {anchorEl, placement} = props;\n    if (window.matchMedia(Config.mediaQuery).matches) {\n        placement = \"top\";\n    }\n\n    if (expanded) {\n        return <FullLib anchorEl={anchorEl} placement={placement} onDragStop={onDragStop} expand={onExpand} />\n    }\n    return (\n        <MiniLib anchorEl={anchorEl} placement={placement} onDragStop={onDragStop} expand={onExpand}/>\n    )\n}\n\nexport default ShapeLibrary;\n","import React from 'react'\nimport Popper from '@material-ui/core/Popper';\nimport Fade from '@material-ui/core/Fade';\nimport Paper from '@material-ui/core/Paper';\nimport Config from './Config'\n\nconst TextModePopup = (props) => {\n    \n    var {open, anchorEl, placement} = props;\n    if (window.matchMedia(Config.mediaQuery).matches) {\n        placement = \"top\";\n    }\n    return (\n        <div>\n            <Popper open={open} anchorEl={anchorEl} placement={placement} transition>\n                {({ TransitionProps }) => (\n                    <Fade {...TransitionProps} timeout={350}>\n                        <Paper className=\"popper_paper poper_paper_res\">\n                            <span>Text can also be added by double clicking on the board</span>\n                         </Paper>\n                     </Fade>\n                )}\n            </Popper>\n        </div>\n    )\n}\n\nexport default TextModePopup;\n","var propsUtil = { \n    connectionEditMaxHeight: 100,\n    showHelpMaxHeight: 150,\n    propertyEditMaxHeight: 200,\n    styleEditMaxHeight: 300\n}\n\nconst getTopPlacement = (rect) => {\n    const getBoundingClientRect = () =>  {\n        return {\n            x: rect.x,\n            y: rect.y,\n            width:rect.width,\n            height: rect.height,\n            top: rect.y,\n            left: rect.x,\n            bottom: rect.y + rect.height,\n            right: rect.x + rect.width\n        }\n    }\n\n    var anchorEl = {\n        clientWidth: rect.width,\n        clientHeight: rect.height,\n        getBoundingClientRect,\n    }\n\n    return {anchorEl: anchorEl, placement: 'top'}\n}\n\nconst getCenterPlacenemt = (rect) => {\n    return {style: { position: 'fixed', top: '50%', left: '50%', transform: 'translate(-50%, -50%)' }}\n}\n\npropsUtil.getPlacement = (rect, maxHeight) => {\n    rect.y -= 8;\n    rect.height += 16;\n\n    var tp = document.getElementById(\"transparentPanel\");\n    if (tp == null) {\n        return getCenterPlacenemt(rect);\n    }\n    var tpRect = tp.getBoundingClientRect();\n    if (rect.y < maxHeight && tpRect.height - (rect.y + rect.width) < maxHeight) {\n        return getCenterPlacenemt(rect);\n\n    }\n    return getTopPlacement(rect);\n}\n\nexport default propsUtil;","import React from \"react\"\nimport Popper from '@material-ui/core/Popper';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener'\nimport propsUtil from \"./PropsUtil\";\n\nconst Help = (props) => {\n    if (!window.Module.inputReceiver().needToShowShapeHelp()) {\n        props.reload();\n        return null;\n    }\n\n    var editor = window.Module.startPropertyEditing();\n    if (!editor.isValid()) {\n        window.Module.inputReceiver().setNeedToShowShapeHelp(false);\n        props.reload();\n        return null;\n    }\n    var helpText = editor.getHelpText();\n    helpText = helpText.replace(\" tap \", \" click \");\n    var rect = editor.getBound();\n\n    var pos = propsUtil.getPlacement(rect, propsUtil.showHelpMaxHeight);\n\n    const handleClickAway = () => {\n        window.Module.inputReceiver().setNeedToShowShapeHelp(false);\n        props.reload();\n    }\n\n    return (\n        <ClickAwayListener onClickAway={handleClickAway}>\n            <Popper open={true} {...pos}>\n                <div className=\"shape_help_paper\">\n                    {<div dangerouslySetInnerHTML={{ __html: helpText }} />}\n                </div>\n            </Popper>\n        </ClickAwayListener>\n    );\n}\n\nexport default Help;","import React from \"react\"\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport {AiOutlineCheck, AiOutlineLeft} from \"react-icons/ai\";\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport IconButton from '@material-ui/core/IconButton';\n\nimport canvas from '../common/Canvas'\n\nconst EnumPicker = (props) => {\n    const [selectedVal, setSelectedVal] = React.useState('')\n    var properties = props.editor.getProperties();\n    var idx = props.idx;\n    var name = properties[idx].name;\n    var value = properties[idx].value;\n    var items = properties[idx].editor.enumItems;\n\n    const selectItem = (item) => {\n        props.editor.setVal(idx, item);\n        setSelectedVal(item);\n        canvas.draw();\n    }\n\n    return (\n        <div className=\"enum_picker\">\n            <div className=\"enum_picker_header\">\n                <IconButton onClick={props.done}> \n                    <AiOutlineLeft size={18}/>\n                </IconButton>\n                <div>{name}</div>\n            </div>\n            <List component=\"nav\" aria-label=\"contacts\">\n                {items.map((item, index) => {\n                    return (\n                        <ListItem key={item} button onClick={()=>selectItem(item)}>\n                            <ListItemText primary={item} />\n                            {item == value &&\n                                <ListItemSecondaryAction>\n                                    <AiOutlineCheck />\n                                </ListItemSecondaryAction>}\n                        </ListItem>)\n                })}\n            </List>\n        </div>\n    );\n}\n\nexport default EnumPicker;\n","import React from \"react\"\nimport Popper from '@material-ui/core/Popper';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener'\nimport Switch from \"@material-ui/core/Switch\"\nimport { AiOutlinePlus, AiOutlineMinus, AiOutlineRight } from \"react-icons/ai\";\nimport IconButton from '@material-ui/core/IconButton';\nimport Slider from '@material-ui/core/Slider';\nimport EnumPicker from \"./EnumPicker\"\nimport canvas from '../common/Canvas'\nimport propsUtil from \"./PropsUtil\";\n\nconst useRefState = initialValue => {\n    const [state, setState] = React.useState(initialValue)\n    const stateRef = React.useRef(state)\n    React.useEffect(\n        () => { stateRef.current = state },\n        [state]\n    )\n    return [state, stateRef, setState];\n}\n\nconst Property = (props) => {\n    const [counter, counterRef, setCounter] = useRefState(0);\n    \n    const [showingEnum, setShowingEnum] = React.useState(false);\n    const [enumPropIdx, setEnumPropIdx] = React.useState(-1);\n\n    const reload = () => {\n        setCounter(counterRef.current + 1);\n    }\n\n    if (!window.Module.inputReceiver().needPropertyEditing()) {\n        props.reload();\n        return null;\n    }\n\n    var editor = window.Module.startPropertyEditing();\n    if (!editor.isValid()) {\n        window.Module.inputReceiver().setNeedPropertyEditing(false);\n        props.reload();\n        return null;\n    }\n\n    var properties = editor.getProperties();\n    var rect = editor.getBound();\n    var pos = propsUtil.getPlacement(rect, props.propertyEditMaxHeight);\n\n    const handleClickAway = (event) => {\n        event.preventDefault();\n        window.Module.inputReceiver().setNeedPropertyEditing(false);\n        editor.finalize();\n        props.reload();\n    }\n\n    const handleEnumSelect = (idx) => {\n        setEnumPropIdx(idx);\n        setShowingEnum(true);\n    }\n\n    const changeBoolVal = (idx) => {\n        editor.setVal(idx, !properties[idx].value);\n        canvas.draw();\n        reload();\n    }\n\n    const changeNumberVal = (idx, plus) => {\n        var factor = plus? 1 : -1;\n        var prop = properties[idx];\n        if (prop.editor.type == \"IntMinMax\" || prop.editor.type == \"FloatMinMaxStep\") {\n            var step = prop.editor.step;\n            if (step <= 0) {\n                step = 1;\n            }\n            var val = prop.value + (factor * step);\n            if (val < prop.editor.minVal) {\n                val = prop.editor.minVal;\n            }\n            if (val > prop.editor.maxVal) {\n                val = prop.editor.maxVal;\n            }\n            editor.setVal(idx, val);\n        } else if (prop.editor.type == \"Default\") {\n            var val = prop.value + factor;\n            editor.setVal(idx, val);\n        }\n        canvas.draw();\n        reload();\n    }\n\n    const changeSliderVal = (idx, newVal) => {\n        var prop = properties[idx];\n        var min = prop.editor.minVal;\n        var max = prop.editor.maxVal;\n        var range = max - min;\n        if (range > 0) {\n            var propVal = (newVal * range) / 100 + min;\n            editor.setVal(idx, propVal);\n        }\n        canvas.draw();\n        reload();\n    }\n\n    const getSliderVal = (idx) => {\n        var prop = properties[idx];\n        var min = prop.editor.minVal;\n        var max = prop.editor.maxVal;\n        var val = prop.value;\n        var range = max - min;\n        if (range > 0) {\n            return (100 * (val - min)) / range ;\n        } else {\n            return 0;\n        }\n    }\n\n    var items = [];\n    if (showingEnum) {\n        items.push(<EnumPicker editor={editor} idx={enumPropIdx} done={()=>setShowingEnum(false)}></EnumPicker>);\n    } else {\n        items.push(<div key=\"header\" className=\"shape_property_header\">Properties</div>)\n        for (var i = 0; i < properties.length; i++) {\n            let prop = properties[i];\n            if (prop.editor.type != \"Hidden\") {\n                var name = (<div className=\"shape_property_col_1\">\n                    <span>{prop.name}</span>\n                </div>);\n                var val = null;\n                if (prop.valueType == \"bool\") {\n                    let idx = i;\n                    val = (<div className=\"shape_property_col_2\">\n                        <Switch checked={prop.value} color=\"primary\" onChange={()=>{changeBoolVal(idx)}}></Switch>\n                    </div>)\n\n                } else if (prop.valueType == \"int\" || \n                    (prop.valueType == \"float\" && prop.editor.type == \"FloatMinMaxStep\")) {\n                    let idx = i;\n                    val = (<div className=\"shape_property_col_2\">\n                        <IconButton aria-label=\"plus\" onClick={()=>changeNumberVal(idx, true)}>\n                            <AiOutlinePlus />\n                        </IconButton>\n                        <div className=\"shape_property_col_2_val\">{prop.value}</div>\n                        <IconButton aria-label=\"minus\">\n                            <AiOutlineMinus onClick={()=>changeNumberVal(idx, false)}/>\n                        </IconButton>\n                    </div>)\n                } else if (prop.valueType == \"string\") {\n                    if (prop.editor.type == \"EnumString\") {\n                        let idx = i;\n                        val = (<div className=\"shape_property_col_2\">\n                            <IconButton aria-label=\"choose\" onClick={() => { handleEnumSelect(idx) }}>\n                                <AiOutlineRight />\n                            </IconButton>\n                            <div className=\"shape_property_col_2_val\">{prop.value}</div>\n                        </div>)\n                    }\n                } else if (prop.valueType == \"float\" && prop.editor.type == \"FloatMinMax\") {\n                    let idx = i;\n                    var item = (<div key={idx} className=\"shape_property_row_slider\">\n                        <div className=\"shape_property_row\">\n                            {name}\n                            <div className=\"shape_property_col_separator\"></div>\n                            <div className=\"shape_property_col_2\">\n                                <span>{prop.value.toFixed(2)}</span>\n                            </div>\n                        </div>\n                        <Slider className=\"value_slider\" value={getSliderVal(idx)} onChange={(event, val)=>changeSliderVal(idx, val)}></Slider>\n                    </div>);\n                    items.push(item);\n                    name = null;\n                }\n                if (name != null) {\n                    let idx = i;\n                    items.push(\n                        <div key={idx} className=\"shape_property_row\">\n                            {name}\n                            <div className=\"shape_property_col_separator\"></div>\n                            {val}\n                        </div>\n                    )\n                }\n            }\n        }\n    }\n    return (\n        <ClickAwayListener onClickAway={handleClickAway}>\n            <Popper open={true} {...pos}>\n                <div className=\"shape_property_paper\">\n                    {items}\n                </div>\n            </Popper>\n        </ClickAwayListener>\n    );\n}\n\nexport default Property;","import React from 'react'\nimport { AiOutlinePlus, AiOutlineMinus, AiOutlineDash, AiOutlineSmallDash } from \"react-icons/ai\";\nimport IconButton from '@material-ui/core/IconButton';\nimport ColorList from '../common/ColorList';\nimport canvas from '../common/Canvas'\n\nconst dashLines = [\n    {icon: <AiOutlineMinus size=\"2.2em\" id=\"0\" />},\n    {icon:<AiOutlineSmallDash size=\"2em\" style={{marginBottom:'3px'}}  id=\"1\"  />},\n    {icon: <AiOutlineDash size=\"2em\" style={{marginBottom:'3px'}}   id=\"2\" />},\n    {icon: <AiOutlineDash size=\"2em\" style={{marginBottom:'3px'}}  id=\"3\" />},\n]\n\nconst useRefState = initialValue => {\n    const [state, setState] = React.useState(initialValue)\n    const stateRef = React.useRef(state)\n    React.useEffect(\n      () => { stateRef.current = state },\n      [state]\n    )\n    return [state, stateRef, setState];\n}\n\nconst LineStyle = (props) => {\n    const [counter, counterRef, setCounter] = useRefState(0);\n    const reload = () => {\n        setCounter(counterRef.current + 1);\n    }\n    let strokeWidth = props.editor.style().effectiveStrokeWidth();\n    let curColor = props.editor.style().effectiveStrokePaint().solidColor;\n    let dashType = props.editor.getDashType();\n\n    const onDashChange = (val) => {\n        props.editor.setDashType(val);\n        canvas.draw();\n        reload();\n    }\n\n    const onColorChange = (color) => {\n        props.editor.setLineColor(color);\n        canvas.draw();\n        reload();\n    }\n\n    const onStrokeWidthPlus = () => {\n        props.editor.setStrokeWidth(strokeWidth + 0.5);\n        canvas.draw();\n        reload();\n    }\n\n    const onStrokeWidthMinus = () => {\n        const val = strokeWidth - 0.5;\n        if (val <= 0) {\n            return;\n        }\n        props.editor.setStrokeWidth(val);\n        canvas.draw();\n        reload();\n    }\n\n    return (<div className=\"shape_style_line\">\n        <div className=\"shape_style_line_width\">\n            <IconButton aria-label=\"minus\" onClick={onStrokeWidthMinus}>\n                <AiOutlineMinus />\n            </IconButton>\n            <div className=\"shape_style_line_width_text\">{strokeWidth.toFixed(2)}</div>\n            <IconButton aria-label=\"plus\" onClick={onStrokeWidthPlus}>\n                <AiOutlinePlus />\n            </IconButton>\n        </div>\n        <div className=\"shape_style_line_dash\">\n            {dashLines.map((dashLine, index) => {\n                var cls = \"shape_style_line_dash_cell\";\n                if (index == dashType) {\n                    cls = \"shape_style_line_dash_cell changeBorder\"\n                }\n                return (\n                    <div key={index} className={cls} onClick={()=>onDashChange(index)}>\n                        {dashLine.icon}\n                    </div>\n                )\n            })}\n        </div>\n        <div className=\"shape_style_line_colors\">\n            <ColorList curColor={curColor} type='line' onColorChange={onColorChange} />\n        </div>\n    </div>)\n}\n\nexport default LineStyle;\n","import React from \"react\"\nimport ColorList from '../common/ColorList';\nimport canvas from '../common/Canvas'\n\nconst useRefState = initialValue => {\n    const [state, setState] = React.useState(initialValue)\n    const stateRef = React.useRef(state)\n    React.useEffect(\n        () => { stateRef.current = state },\n        [state]\n    )\n    return [state, stateRef, setState];\n}\n\nconst FillColor = (props) => {\n    const [counter, counterRef, setCounter] = useRefState(0);\n    const reload = () => {\n        setCounter(counterRef.current + 1);\n    }\n\n    let curColor = {red:0, green:0, blue:0, alpha: 0};\n    if (props.editor.style().effectiveFillPaint().type.value == 2) {\n        curColor = props.editor.style().effectiveFillPaint().solidColor;\n    }\n    const onColorChange = (color) => {\n        props.editor.setFillColor(color);\n        canvas.draw();\n        reload();\n    }\n\n    return (<div className=\"shape_style_line_colors\" style={{marginTop: 10}}>\n        <ColorList curColor={curColor} type='fill'\n            onColorChange={onColorChange} />\n    </div>);\n}\n\nexport default FillColor;","import React from \"react\"\nimport { AiOutlinePlus, AiOutlineMinus, AiOutlineAlignCenter, \n    AiOutlineAlignLeft, AiOutlineAlignRight, AiOutlineVerticalAlignBottom,\n    AiOutlineVerticalAlignMiddle, AiOutlineVerticalAlignTop } from \"react-icons/ai\";\nimport IconButton from '@material-ui/core/IconButton';\nimport ColorList from '../common/ColorList';\nimport canvas from '../common/Canvas'\n\nconst useRefState = initialValue => {\n    const [state, setState] = React.useState(initialValue)\n    const stateRef = React.useRef(state)\n    React.useEffect(\n        () => { stateRef.current = state },\n        [state]\n    )\n    return [state, stateRef, setState];\n}\n\nconst FontEditor = (props) => {\n    const [counter, counterRef, setCounter] = useRefState(0);\n    const reload = () => {\n        setCounter(counterRef.current + 1);\n    }\n    let curColor = props.editor.style().effectiveTextFill().solidColor;\n    let fontSz = props.editor.style().effectiveFontSize();\n    var alignV = props.editor.style().effectiveTextAlignVertical().value;\n    var alignHz = props.editor.style().effectiveTextAlignHorizontal().value;\n\n    const onColorChange = (color) => {\n        props.editor.setTextColor(color);\n        canvas.draw();\n        reload();\n    }\n\n    const onFontPlus = () => {\n        props.editor.setFontSize(fontSz + 0.5);\n        canvas.draw();\n        reload();\n    }\n\n    const onFontMinus = () => {\n        const val = fontSz - 0.5;\n        if (val <= 0) {\n            return;\n        }\n        props.editor.setFontSize(val);\n        canvas.draw();\n        reload();\n    }\n\n    const changeHzAlign = (val) => {\n        props.editor.setHorizontalAlignment({value:val});\n        canvas.draw();\n        reload();\n    }\n\n    const changeVAlign = (val) => {\n        props.editor.setVerticalAlignment({value:val});\n        canvas.draw();\n        reload();\n    }\n\n    return (<div className=\"shape_style_line\">\n        <div className=\"shape_style_line_width\">\n            <IconButton aria-label=\"plus\" onClick={onFontMinus}>\n                <AiOutlineMinus />\n            </IconButton>\n            <div className=\"shape_style_line_width_text\">{fontSz.toFixed(2)}</div>\n            <IconButton aria-label=\"minus\" onClick={onFontPlus}>\n            <AiOutlinePlus />\n            </IconButton>\n        </div>\n        <div className=\"shape_style_font_align\" style={{paddingTop:5, borderTop: \"1px solid #bebebe\"}}>\n            <div className={alignHz == 2 ? \"shape_style_font_align_left changeBorder\": \"shape_style_font_align_left\"}>\n                <AiOutlineAlignLeft onClick={()=>changeHzAlign(2)}/>\n            </div>\n            <div className={alignHz == 1 ? \"shape_style_font_align_center changeBorder\": \"shape_style_font_align_center\"}>\n                <AiOutlineAlignCenter onClick={()=>changeHzAlign(1)}/>\n            </div>\n            <div className={alignHz == 3 ? \"shape_style_font_align_right changeBorder\": \"shape_style_font_align_right\"}>\n                <AiOutlineAlignRight onClick={()=>changeHzAlign(3)}/>\n            </div>\n        </div>\n        <div className=\"shape_style_font_align\" style={{paddingTop:5, marginTop: 6, borderBottom: \"1px solid #bebebe\"}}>\n            <div className={alignV == 2 ? \"shape_style_font_align_left changeBorder\": \"shape_style_font_align_left\"}>\n                <AiOutlineVerticalAlignTop onClick={()=>changeVAlign(2)}/>\n            </div>\n            <div className={alignV == 1 ? \"shape_style_font_align_center changeBorder\": \"shape_style_font_align_center\"}>\n                <AiOutlineVerticalAlignMiddle onClick={()=>changeVAlign(1)}/>\n            </div>\n            <div className={alignV == 3 ? \"shape_style_font_align_right changeBorder\": \"shape_style_font_align_right\"}>\n                <AiOutlineVerticalAlignBottom onClick={()=>changeVAlign(3)}/>\n            </div>\n        </div>\n        <div className=\"shape_style_line_colors\">\n            <ColorList curColor={curColor} type='text' onColorChange={onColorChange} />\n        </div>\n    </div>)\n}\n\nexport default FontEditor;","import React from \"react\"\nimport Popper from '@material-ui/core/Popper';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener'\nimport LineStyle from \"./LineStyle\";\nimport FillColor from \"./FillColor\";\nimport FontEditor from \"./FontEditor\"\nimport propsUtil from \"./PropsUtil\";\n\nconst useRefState = initialValue => {\n    const [state, setState] = React.useState(initialValue)\n    const stateRef = React.useRef(state)\n    React.useEffect(\n        () => { stateRef.current = state },\n        [state]\n    )\n    return [state, stateRef, setState];\n}\n\nconst StyleEditor = (props) => {\n    const [counter, counterRef, setCounter] = useRefState(0);\n    const [selectedTab, setSelectedTab] = React.useState(0);\n    if (!window.Module.inputReceiver().needStyleEditing()) {\n        props.reload();\n        return null;\n    }\n\n    const reload = () => {\n        setCounter(counterRef.current + 1);\n    }\n\n    var editor = window.Module.startStyleEditing();\n\n    var rect = editor.getObjectBound();\n    var pos = propsUtil.getPlacement(rect, propsUtil.styleEditMaxHeight);\n\n    var tabs = [\"LINE\", \"FILL\", \"TEXT\"];\n    const handleClickAway = () => {\n        window.Module.inputReceiver().setNeedStyleEditing(false);\n        props.reload();\n    }\n\n    return <ClickAwayListener onClickAway={handleClickAway}>\n        <Popper open={true} {...pos}>\n            <div className=\"shape_style_paper\">\n                <div className=\"shape_style_tabs\">\n                    {tabs.map((tab, index)=> {\n                        if (selectedTab == index) {\n                            return <div key={index} className=\"shape_style_tab shape_style_tab_active\"><span onClick={()=>setSelectedTab(index)} className=\"shape_style_tab_span_active\">{tab}</span></div>\n                        } else {\n                            return <div key={index} className=\"shape_style_tab\"><span className=\"shape_style_tab_span\" onClick={()=>setSelectedTab(index)}>{tab}</span></div>        \n                        }\n                    })}\n                </div>\n                {selectedTab == 0 && <LineStyle editor={editor}/>}\n                {selectedTab == 1 && <FillColor editor={editor}/>}\n                {selectedTab == 2 && <FontEditor editor={editor}/>}\n            </div>\n        </Popper>\n    </ClickAwayListener>\n}\n\nexport default StyleEditor;","import React, { useRef, useEffect } from 'react'\n\nconst ArrowCell = props => {\n  const canvasRef = useRef(null)\n  var dpr = window.devicePixelRatio || 1;\n  var width = props.width;\n  var height = props.height;\n\n  const drawCanvas = (canvasElement) => {\n    canvasElement.width = width * dpr;\n    canvasElement.height = height * dpr;\n    canvasElement.style.width = width + \"px\";\n    canvasElement.style.height = height + \"px\";\n    const context = canvasElement.getContext('2d')  \n    context.scale(dpr, dpr);\n    context.fillStyle = \"#ffffff00\";\n    context.fillRect(0, 0, canvasElement.width, canvasElement.height);\n    window.Module.drawArrowCell(props.side, props.type, width, height, context);\n  }\n\n  if (canvasRef != null && canvasRef.current != null) {\n    drawCanvas(canvasRef.current)\n  }\n  \n  useEffect(() => {\n    const canvasElement = canvasRef.current;\n    drawCanvas(canvasElement);\n  }, [])\n  \n  return <canvas ref={canvasRef} {...props} width={width+\"px\"} height={height+\"px\"}/>\n}\n\nexport default ArrowCell","import React from \"react\"\nimport Popper from '@material-ui/core/Popper';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener'\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ArrowCell from \"./ArrowCell\";\nimport canvas from '../common/Canvas'\nimport propsUtil from \"./PropsUtil\";\n\nconst useRefState = initialValue => {\n    const [state, setState] = React.useState(initialValue)\n    const stateRef = React.useRef(state)\n    React.useEffect(\n        () => { stateRef.current = state },\n        [state]\n    )\n    return [state, stateRef, setState];\n}\n\nconst ConnectionEditor = (props) => {\n    const [counter, counterRef, setCounter] = useRefState(0);\n    \n    if (!window.Module.inputReceiver().needConnectionEditing()) {\n        props.reload();\n        return null;\n    }\n\n    const reload = () => {\n        setCounter(counterRef.current + 1);\n    }\n\n    var editor = window.Module.startConnectionEditing();\n\n    var rect = editor.getObjectBound();\n    var pos = propsUtil.getPlacement(rect, propsUtil.connectionEditMaxHeight);\n\n    const handleClickAway = (event) => {\n        var paper = document.getElementById(\"connection_edit_paper\");\n        if (paper == null) {\n            return;\n        }\n        var rect = paper.getBoundingClientRect();\n        if (event.clientX >= rect.left && event.clientX <= rect.right &&\n            event.clientY >= rect.top && event.clientY <= rect.bottom) {\n            return;\n        }\n        window.Module.inputReceiver().setNeedConnectionEditing(false);\n        props.reload();\n    }\n\n    const onChange = (side, event) => {\n        event.preventDefault();\n        if (side == 0) {\n            editor.setStartArrow(event.target.value);\n        } else {\n            editor.setEndArrow(event.target.value);\n        }\n        reload();\n        canvas.draw();\n    }\n\n    var arrowCount = editor.arrowCount();\n    var start = editor.startArrowType();\n    var end = editor.endArrowType();\n\n    var arrowsLeft = []\n    var arrowsRight = []\n    for (var idx = 0; idx < arrowCount; idx++) {\n        var i = idx;\n        arrowsLeft.push(<MenuItem value={i}><ArrowCell side={1} type={i} width={50} height={15}></ArrowCell></MenuItem>);\n        arrowsRight.push(<MenuItem value={i}><ArrowCell side={0} type={i} width={50} height={15}></ArrowCell></MenuItem>);\n    }\n    return (<ClickAwayListener onClickAway={handleClickAway}>\n        <Popper open={true} {...pos}>\n            <div id=\"connection_edit_paper\" className=\"connection_edit_paper\">\n                <div className=\"connection_edit_header\">\n                    <span>Arrows</span>\n                </div>\n                <div className=\"connection_edit_options\">\n                    <Select\n                        disableUnderline\n                        className=\"connection_edit_options_cell\"\n                        id=\"demo-simple-select\"\n                        value={start}\n                        onChange={(event)=>onChange(0, event)}\n                    >\n                        {arrowsLeft}\n                    </Select>\n                    <div className=\"connection_edit_options_cell_space\"></div>\n                    <Select\n                        disableUnderline\n                        className=\"connection_edit_options_cell\"\n                        id=\"demo-simple-select\"\n                        value={end}\n                        onChange={(event)=>onChange(1, event)}\n                    >\n                        {arrowsRight}\n                    </Select>\n                </div>\n            </div>\n        </Popper>\n    </ClickAwayListener>)\n}\n\nexport default ConnectionEditor;","import './ShapeProps.css'\n\nimport React from \"react\"\nimport Help  from \"./Help\"\nimport Property  from \"./Property\"\nimport StyleEditor from './StyleEditor'\nimport AppInput from \"../common/AppInput\"\nimport keyboardInput from '../common/KeyboardInput'\nimport ConnectionEditor from './ConnectionEditor'\n\nvar shapePropsUtil = { }\n\nconst useRefState = initialValue => {\n    const [state, setState] = React.useState(initialValue)\n    const stateRef = React.useRef(state)\n    React.useEffect(\n        () => { stateRef.current = state },\n        [state]\n    )\n    return [state, stateRef, setState];\n}\n\nconst ShapeProps = (props) => {\n    const [counter, counterRef, setCounter] = useRefState(0);\n    const reload = () => {\n        setCounter(counterRef.current + 1);\n    }\n\n    const handleKey = (event) => {\n        let key = event.key.toLowerCase();\n        if (key == 'escape') {\n            if (shapePropsUtil.isPropertyWindowOpen()) {\n                shapePropsUtil.dismissWindow();\n                event.preventDefault();\n                reload();\n                return true\n            }\n        }\n        return false;\n    }\n\n    React.useEffect(() => {\n        keyboardInput.addListener(handleKey);\n        AppInput.showShapeProps = () => {reload()}\n        return () => {\n            keyboardInput.removeListener(handleKey);\n            AppInput.showShapeProps = () => {}\n        }\n      }, [])\n\n    if (!window.Module.inputReceiver) {\n        return null;\n    }\n    var propsEdit = false;\n    var showHelp = false;\n    var styleEdit = false;\n    var connectionEdit = false;\n    if (window.Module.inputReceiver().needPropertyEditing()) {\n        propsEdit = true;\n    } else if (window.Module.inputReceiver().needToShowShapeHelp()) {\n        showHelp = true;\n    } else if (window.Module.inputReceiver().needStyleEditing()) {\n        styleEdit = true;\n    } else if (window.Module.inputReceiver().needConnectionEditing()) {\n        connectionEdit = true;\n    }\n\n    if (propsEdit == false && showHelp == false && styleEdit == false && connectionEdit == false) {\n        return null;\n    }\n\n    if (propsEdit) {\n        return <Property reload={reload} />;\n    } else if (showHelp) {\n        return <Help reload={reload} />;\n    } else if (styleEdit) {\n        return <StyleEditor reload={reload} />\n    } else if (connectionEdit) {\n        return <ConnectionEditor reload={reload} />\n    }\n    return null;\n}\n\nshapePropsUtil.isPropertyWindowOpen = function() {\n    return window.Module.inputReceiver().needPropertyEditing() ||\n        window.Module.inputReceiver().needToShowShapeHelp() ||\n        window.Module.inputReceiver().needStyleEditing() ||\n        window.Module.inputReceiver().needConnectionEditing();\n}\n\nshapePropsUtil.dismissWindow = function() {\n    window.Module.inputReceiver().setNeedPropertyEditing(false);\n    window.Module.inputReceiver().setNeedToShowShapeHelp(false);\n    window.Module.inputReceiver().setNeedStyleEditing(false);\n    window.Module.inputReceiver().setNeedConnectionEditing(false);\n}\n\nexport {shapePropsUtil, ShapeProps};","import React from 'react'\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Style from './SideBarStyle';\nimport SideBarMenuItems from \"../../Constant\"\nimport StrokeStyle from '../StrokeStyle'\nimport SelectionGroupPopup from '../SelectionGroupPopup'\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener'\nimport menuState from '../MenuState'\nimport ShapeLibrary from '../../shapelib/ShapeLibrary'\nimport TextModePopup from '../TextModePopup'\nimport AppInput from '../AppInput'\nimport { FaMousePointer, FaHandRock } from 'react-icons/fa';\nimport keyboardInput from '../KeyboardInput'\nimport command from '../Command'\nimport { shapePropsUtil } from '../../shapeprops/ShapeProps';\n\nconst useStyles = makeStyles(Style);\n\nconst useRefState = initialValue => {\n    const [state, setState] = React.useState(initialValue)\n    const stateRef = React.useRef(state)\n    React.useEffect(\n      () => { stateRef.current = state },\n      [state]\n    )\n    return [state, stateRef, setState];\n}\n\nconst SideBarMenu = () => {\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const [placement, setPlacement] = React.useState();\n    const [subMenuIcons, setSubMenuIcons] = React.useState();\n    const [counter, counterRef, setCounter] = useRefState(0);\n    const classes = useStyles();\n\n    const reload = () => {\n        setCounter(counterRef.current + 1);\n    }\n\n    const handleKeyDown = (event) => {\n        let key = event.key.toLowerCase();\n        var handled = false;\n        if (key == 'escape' && !shapePropsUtil.isPropertyWindowOpen()) {\n            if (menuState.hasPopup()) {\n                menuState.removePopup();\n                handled = true;\n            } else if (menuState.selected == menuState.menus.laser ||\n                menuState.selected == menuState.menus.erase ||\n                menuState.selected == menuState.menus.text) {\n                menuState.handleMenuClick(menuState.menus.selection);\n                handled = true;\n            }\n\n            if (handled) {\n                event.preventDefault();\n                AppInput.ignoreNextClick(false);\n                reload();\n            }\n        }\n        return handled;\n    };\n\n    const afterKeyHandling = (event) => {\n        if (command.inputModeChanged) {\n            command.inputModeChanged = false;\n            reload();\n        }\n    }\n    \n    React.useEffect(() => {\n        keyboardInput.addListener(handleKeyDown);\n        keyboardInput.addPostListener(afterKeyHandling);\n    \n        // cleanup this component\n        return () => {\n            keyboardInput.removeListener(handleKeyDown);\n            keyboardInput.removePostListener(afterKeyHandling);\n        };\n    }, []);\n    \n    const handleClick = (event, subMenus, newPlacement,id) => {\n        if (id == menuState.menus.eraseAll) {\n            menuState.handleMenuClick(id);\n            return;\n        }\n        menuState.handleMenuClick(id);\n        setAnchorEl(event.currentTarget);\n\n        setPlacement(newPlacement);\n        setSubMenuIcons(subMenus)\n        reload();\n    };\n\n    const handleClickAway = (e) => {\n        if (menuState.popup == menuState.menus.selectionGroup ||\n            menuState.popup == menuState.menus.text) {\n            menuState.removePopup();\n            reload();\n        }\n    }\n\n    const setSelectionMode = (val) => {\n        menuState.handleMenuClick(val);\n        reload();\n    };\n    \n    const getIconAndName = (sidebar, classes) => {\n        var {icon, name} = sidebar;\n        const {menuItem} = classes;\n        if (sidebar.id == menuState.menus.selectionGroup) {\n            if (menuState.selectionGroupVal == menuState.menus.selection) {\n                icon = <FaMousePointer size=\"1.2em\" color=\"#000000b8\"/>;\n                name = \"Select\";\n            } else {\n                icon = <FaHandRock size=\"1.2em\" color=\"#000000b8\"/>;\n                name = \"Move\";\n            }\n        }\n        return (\n            <div>\n                <div className={menuItem + ' ' + 'sideMenuIcons'}>\n                    {icon}\n                </div>\n                <div className={menuItem +' '+ 'menuItems'}>{name}</div>\n            </div>\n        )\n    }\n    return (\n        <ClickAwayListener onClickAway={handleClickAway}>\n        <div>\n           { (menuState.popup === menuState.menus.selectionGroup) && <SelectionGroupPopup\n                open={true}\n                anchorEl={anchorEl}\n                placement={placement}\n                setSelectionMode={setSelectionMode}\n            /> }\n           { (menuState.popup === menuState.menus.draw || menuState.popup === menuState.menus.smartDraw) && <StrokeStyle\n                open={true}\n                anchorEl={anchorEl}\n                placement={placement}\n                subMenuIcons ={subMenuIcons}\n            /> }\n            { menuState.popup === menuState.menus.text && <TextModePopup\n                open={true}\n                anchorEl={anchorEl}\n                placement=\"right-end\"\n            /> }\n            { menuState.popup === menuState.menus.shapes && <ShapeLibrary\n                open={true}\n                anchorEl={anchorEl}\n                placement=\"right-end\"\n                subMenuIcons ={subMenuIcons}\n            /> }\n            \n            <div className={`${classes.sideBar} side_menus`}>\n                {SideBarMenuItems.map((sidebar, index) => {\n                    var itemClass = classes.sideBarMenu +' '+ 'sideBarMenu';\n                    if (sidebar.id === menuState.menus.shapes && menuState.popup === menuState.menus.shapes) {\n                        itemClass = classes.sideBarMenu +' '+ 'sideBarMenu selected';\n                    }\n                    if (sidebar.id === menuState.selected) {\n                        itemClass = classes.sideBarMenu +' '+ 'sideBarMenu active';\n                    }\n                    return (\n                        <div className={itemClass} key={index} onClick={(event)=>handleClick(event, sidebar.subMenus,'right',sidebar.id)} >\n                            {getIconAndName(sidebar, classes)}\n                        </div>\n                    )\n                })}\n\n            </div>\n        </div>\n        </ClickAwayListener>\n        \n    )\n}\nexport default SideBarMenu","import React from 'react'\n\nconst  Content = () =>  {\n    return (\n        <div className=\"canvasContainer\" id=\"drawContent\">\n            <div id=\"viewport\" className=\"viewport\">\n                <canvas id=\"gridCanvas\" className=\"canvasGridClass\" />\n                <canvas id=\"drawCanvas\" className=\"canvasClass\" />\n            </div>\n          <canvas id=\"transparentPanel\" className=\"viewport\" />\n        </div>\n    )\n}\n\nexport default Content;\n","function reload() {\n    window.location.reload();\n}\n\nconst Layover = (props) => {\n    // init, disconnected, notfound, prompt\n    var item = null;\n    if (props.state == \"init\") {\n        item = <div className=\"layover-box\">Loading..</div>;\n    } else if (props.state == \"disconnected\") {\n        item = <div className=\"layover-box\">\n            <p><span>Disconnected from server </span><a href=\"#\" onClick={reload}>Reconnect</a></p>\n            </div>;\n    } else if (props.state == \"notfound\") {\n        item = <div className=\"layover-box\">\n            <span>Requested board does not exist</span>\n            <a href=\"/?_new=true\">Start a collaborative board</a>\n            <a href=\"/?offline=true\">Start an offline board</a>\n            </div>;\n    } else if (props.state == \"prompt\") {\n        item = <div className=\"layover-box\">\n            <a href=\"/?_new=true\">Start a collaborative board</a>\n            <a href=\"/?offline=true\">Start an offline board</a>\n            </div>;\n    } else {\n        item = <div className=\"layover-box\">\n            <span>Something went wrong</span>\n            <a href=\"#\" onClick={reload}>Reload</a>\n            <a href=\"/?offline=true\">Start an offline board</a>\n            </div>;\n    }\n\n    return (\n        <div className=\"layover-col\">\n            {item}\n        </div>\n    )\n}\n\nexport default Layover\n","import $ from 'jquery';\nimport canvas from './Canvas'\nimport AppInput from './AppInput'\nimport touchInput from './TouchInput'\nimport mouseInput from './MouseInput'\nimport keyboardInput from './KeyboardInput'\n\nvar appEvent = { };\n\nfunction attachResizeHandler() {\n  $(window).on(\"resize\", function() {\n    canvas.onResize();\n    AppInput.onResize();\n  });\n}\n\nappEvent.attachEventHandlers = function() {\n  attachResizeHandler();\n\n  var canvasElement = document.getElementById(\"transparentPanel\");\n  mouseInput.attachEvents(canvasElement);\n  touchInput.attachEvents(canvasElement);\n  keyboardInput.attachEvents(canvasElement);\n}\n\nexport default appEvent;\n","import util from './Util'\nimport canvas from './Canvas'\n\nimport appEvent from './AppEvent'\nimport shapes from '../shapelib/Shapes'\n\nimport luaScripts from '../data/lua_script.json'\n\nvar initializer = { };\n\n// Adding into window as this is being used by c++ code\nwindow.wsmanager = {\n    // state values: init, ready, disconnected, notfound, offline, prompt\n    state: \"init\",\n    cb: null,\n    docid: null,\n    setState: function(state) {\n        window.wsmanager.state = state;\n        if (window.wsmanager.cb != null) { window.wsmanager.cb(state); } \n    }\n}\n\nwindow.toggleDebug = function() {\n    window.Module.toggleDebug();\n}\n\nwindow.getLekhResource = function(name) {\n    var sc = luaScripts[name];\n    if (sc) {\n        return sc;\n    }\n    return \"\";\n}\n\nvar apiBasePath = 'https://api.lekh.app/v1';\n//var apiBasePath = 'http://localhost:3000/v1';\n//var apiBasePath = 'http://192.168.1.5:3000/v1';\n\nvar runtimeInitialized = false;\nvar initialInitDone = false;\nvar docReady = false;\n\nconst hasTouch = () => {\n    var hasTouchScreen = false;\n    if (\"maxTouchPoints\" in navigator) {\n        hasTouchScreen = navigator.maxTouchPoints > 0;\n    } else if (\"msMaxTouchPoints\" in navigator) {\n        hasTouchScreen = navigator.msMaxTouchPoints > 0;\n    } else {\n        var mQ = window.matchMedia && matchMedia(\"(pointer:coarse)\");\n        if (mQ && mQ.media === \"(pointer:coarse)\") {\n            hasTouchScreen = !!mQ.matches;\n        } else if ('orientation' in window) {\n            hasTouchScreen = true; // deprecated, but good fallback\n        } else {\n            // Only as a last resort, fall back to user agent sniffing\n            var UA = navigator.userAgent;\n            hasTouchScreen = (\n                /\\b(BlackBerry|webOS|iPhone|IEMobile)\\b/i.test(UA) ||\n                /\\b(Android|Windows Phone|iPad|iPod)\\b/i.test(UA)\n            );\n        }\n    }\n    return hasTouchScreen;\n}\n\nconst appendScript = (scriptToAppend) => {\n    const script = document.createElement(\"script\");\n    script.src = scriptToAppend;\n    script.async = false;\n    document.body.appendChild(script);\n}\n\nconst setStyleAfterDocLoad = () => {\n    //window.Module.inputReceiver().currentStyle().setStrokeWidth(4);\n    window.Module.inputReceiver().currentStyle().setFontSize(18);\n}\n\nwindow.Module = {\n    onRuntimeInitialized: function () {\n        runtimeInitialized = true;\n        initializer.initInternal();\n    }\n};\n\ninitializer.init = function(cb) {\n    docReady = true;\n    window.wsmanager.cb = cb;\n    appendScript(\"a1/bean.min.js\");\n    appendScript(\"a1/lekhapp.js\");\n    initializer.initInternal();\n}\n\ninitializer.initInternal = function() {\n    if (initialInitDone || !docReady || !runtimeInitialized) {\n        return;\n    }\n    initialInitDone = true;\n    var panel = document.getElementById(\"gridCanvas\");\n    if (!panel) {\n        return;\n    }\n    var canvasElement = document.getElementById(\"drawCanvas\");\n    initialInitDone = true;\n\n    window.Module.init(canvasElement);\n    //window.Module.setZoom(70)\n    canvas.setSize();\n    canvas.drawGrid();\n    \n    shapes.initialize().then(function() {\n        appEvent.attachEventHandlers();\n        startDoc();\n    });\n}\n\nfunction startDoc() {\n    var url = new URL(window.location);\n    var docid = url.searchParams.get('docid');\n    var np = url.searchParams.get('_new');\n    var ref = url.searchParams.get('ref');\n    var offline = url.searchParams.get('offline');\n    if (docid) {\n        var xhttp = new XMLHttpRequest();\n        xhttp.onreadystatechange = function() {\n          if (this.readyState == 4) {\n            if (this.status == 200) {\n              var touch = 'false';\n              try {\n                if (hasTouch()) {\n                    touch = 'true';\n                }\n              } catch(e) {\n              }\n              var obj = JSON.parse(xhttp.responseText);\n              window.wsmanager.start(docid, obj.location+'?_touch=' + touch);\n            } else {\n                if (this.status == 404) {\n                    window.wsmanager.setState('notfound');\n                } else {\n                  window.wsmanager.setState('error');\n                }\n            }\n          }\n        };\n        var url = apiBasePath + \"/docs/\" + docid;\n        xhttp.open(\"POST\", url);\n        xhttp.withCredentials = true;\n        xhttp.send();\n    } else if (np == 'true') {\n      var xhttp = new XMLHttpRequest();\n      xhttp.onreadystatechange = function() {\n          if (this.readyState == 4) {\n            if (this.status == 200) {\n              var obj = JSON.parse(xhttp.responseText);\n              var url = new URL(window.location);\n              var newUrl = url.origin + \"/?docid=\" + obj.docid;\n              window.location = newUrl;\n            } else {\n                window.wsmanager.setState('error');\n            }\n          }\n      };\n      var url = apiBasePath + \"/docs\"\n      if (ref) {\n        url += \"?ref=\" + ref;\n      }\n      xhttp.open(\"POST\", url);\n      xhttp.withCredentials = true;\n      xhttp.send();\n    } else if (offline == 'true') {\n        window.wsmanager.setState('offline');\n    } else {\n        window.wsmanager.setState('prompt');\n    }\n}\n\nwindow.wsmanager.start = function (docid, location) {\n    var timer;\n  \n    const ws = new window.WebSocket(location);\n    window.Module.startDoc(docid);\n  \n    window.wsmanager.send = function(docid, data) {\n      ws.send(data);\n      return true;\n    }\n  \n    ws.onopen = function(event) {\n        console.log('connection opened: ', event);\n        timer = window.setInterval(function() {\n            ws.send('{}');\n        }, 15000);\n    };\n  \n    ws.onmessage = function(event) {\n        window.Module.updateDoc(event.data);\n        canvas.draw();\n        if (window.wsmanager.state == 'init') {\n            // The first update is supposed to load update\n            // after loading the doc, we can change the default style\n            setStyleAfterDocLoad();\n            window.wsmanager.docid = docid;\n            window.wsmanager.setState('ready');\n        }\n    };\n  \n    ws.onclose = function(event) {\n        console.log('connection closed:', event);\n        window.wsmanager.setState('disconnected');\n        window.clearInterval(timer);\n    };\n  \n    ws.onerror = function(event) {\n        console.log('connection error: ', event);\n        window.wsmanager.setState('disconnected');\n        window.clearInterval(timer);\n    };\n}\n\nexport default initializer;\n","import React from 'react';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport NestedMenuItem from \"material-ui-nested-menu-item\";\nimport ListItemText from '@material-ui/core/ListItemText';\nimport canvas from './Canvas'\nimport command from './Command'\nimport ArrowRight from '@material-ui/icons/ArrowRight'\n\nconst shapesMenus = [\n    {id:'box', name: 'Box', key1:'Ctrl + B', key2: ' B', disabled: false},\n    {id:'ellipse', name: 'Circle', key1:' Ctrl + E', key2: ' E', disabled: false},\n    /*{id:'table', name: 'Table', key1:'ctrl l', key2: ' L', disabled: false},*/\n    {id:'user', name: 'User', key1:'Ctrl + U', key2: ' U', disabled: false},\n    {id:'note', name: 'Note', key1:'', key2: '', disabled: false},\n    {id:'db', name: 'Database', key1:'', key2: '', disabled: false},\n    {id:'cloud', name: 'Cloud', key1:'', key2: '', disabled: false},\n    /*{id:'more', name: 'More', key1:'', key2: '', disabled: false},*/\n]\n\nconst arrangeMenus = [\n  {id:'moveToFront', name: 'Move To Front', key1:'', key2: '', disabled: false},\n  {id:'moveToBack', name: 'Move To Back', key1:' ', key2: '', disabled: false},\n]\n\nvar menus = [\n    {id:'add', name: 'Add Shapes', key1: '', key2: '', div: false, disabled: false, submenu: shapesMenus},\n    {id:'arrange', name: 'Arrange', key1: '', key2: '', div: true, disabled: false, submenu: arrangeMenus},\n    {id:'select', name: 'Select All', key1: 'Ctrl + A', key2: ' A', div: true, disabled: false},\n    {id:'cut', name: 'Cut', key1: 'Ctrl + X', key2: ' X', div: false, disabled: false},\n    {id:'copy', name: 'Copy', key1: 'Ctrl + C', key2: ' C', div: false, disabled: false},\n    {id:'paste', name: 'Paste', key1: 'Ctrl + V', key2: ' V', div: false, disabled: false},\n    {id:'del', name: 'Delete', key1: 'Del', key2: 'Delete', div: false, disabled: false},\n    //{id:'line', name: 'Line Style', key1: '', key2: '', div: false, disabled: false},\n    //{id:'fill', name: 'Fill Color', key1: '', key2: '', div: false, disabled: false},\n    //{id:'font', name: 'Font', key1: '', key2: '', div: false, disabled: false},\n]\n\nexport default function ContextMenu(props) {\n  const handleClose = () => {\n    props.showHandler(false);\n  };\n\n  var mappedPt = {y: canvas.mapry(props.pos.y), x: canvas.maprx(props.pos.x)};\n\n  const handleMenu = (id) => {\n      if (id == \"copy\") {\n        command.copy();\n      } else if (id == \"paste\") {\n        command.pasteAt(mappedPt);\n      } else if (id == \"cut\") {\n        command.cut();\n      } else if (id == \"del\") {\n        command.del();\n      } else if (id == \"select\") {\n        command.selectAll();\n      } else if (id == \"box\") {\n        command.addBox({x:mappedPt.x, y:mappedPt.y});\n      } else if (id == \"ellipse\") {\n        command.addCircle({x:mappedPt.x, y:mappedPt.y});\n      } else if (id == \"table\") {        \n      } else if (id == \"user\") {\n        command.addUser({x:mappedPt.x, y:mappedPt.y});\n      } else if (id == \"db\") {\n        command.addDb({x:mappedPt.x, y:mappedPt.y});\n      } else if (id == \"cloud\") {\n        command.addCloud({x:mappedPt.x, y:mappedPt.y});\n      } else if (id == \"note\") {\n        command.addNote({x:mappedPt.x, y:mappedPt.y});\n      } else if (id == \"moveToFront\") {\n        command.moveToFront();\n      } else if (id == \"moveToBack\") {\n        command.moveToBack();\n      }\n\n      canvas.draw();\n      props.showHandler(false);\n  };\n\n  var cmStatus = window.Module.getContextMenuStatus(mappedPt);\n  menus[1].disabled = !cmStatus.canArrage;\n  menus[2].disabled = !cmStatus.canSelectAll;\n  menus[3].disabled = !cmStatus.canCut;\n  menus[4].disabled = !cmStatus.canCopy;\n  menus[5].disabled = !cmStatus.canPaste;\n  menus[6].disabled = !cmStatus.canDelete;\n  canvas.draw();\n\n  var keyName = 'key1';\n  if (navigator.userAgent.indexOf(\"OS X\") > 0) {\n      // This is MAC\n      keyName = \"key2\";\n  }\n  return (\n      <Menu\n        keepMounted\n        open={true}\n        onClose={handleClose}\n        anchorReference=\"anchorPosition\"\n        anchorPosition={{top: props.pos.y, left: props.pos.x}}\n        PaperProps={{\n            style: {\n                border: '2px solid #d3d4d5'\n            },\n        }}>\n      {menus?.map((option, index) => {\n          var subMenus = option.submenu;\n          var rightIcon =  <ArrowRight />;\n          if (index == 1) {\n            rightIcon =  <ArrowRight style={{marginLeft: '126px'}}/>;\n            if (option.disabled) {\n              subMenus = null;\n            }\n          }\n          if (subMenus) {\n            return (<NestedMenuItem\n                label={option.name}\n                style={{ left: '4px' }}\n                parentMenuOpen={true}\n                divider={option.div}\n                rightIcon={rightIcon}\n                className=\"subIcon\"\n                disabled={option.disabled}\n                key={option.id}>\n                {\n                option.submenu.map((subOption, index) => (\n                    <MenuItem onClick={()=>{handleMenu(subOption.id)}} key={subOption.id} divider={subOption.div} disabled={subOption.disabled}>\n                        <ListItemText primary={subOption.name} />\n                        <ListItemSecondaryAction className=\"shortcutKeys\">{subOption[keyName]}</ListItemSecondaryAction>\n                    </MenuItem>\n                    \n                ))}\n            </NestedMenuItem>);\n          }\n          return (\n            <MenuItem onClick={()=>{handleMenu(option.id)}} key={option.id} divider={option.div} disabled={option.disabled} style={{ left: '4px' }}>\n                <ListItemText primary={option.name} />\n                <ListItemSecondaryAction className=\"shortcutKeys\">{option[keyName]}</ListItemSecondaryAction>\n            </MenuItem>\n          )\n       })\n       }\n      </Menu>\n  );\n}\n\n/*\n  &#x2318;  &#8984;  the Command Key symbol\n  &#x2325;  &#8997;  the Option Key symbol\n  &#x21E7;  &#8679;  the Shift Key symbol\n  &#x2303;  &#8963;  the Control Key symbol\n  &#x238B;  &#9099;  the ESC Key symbol\n  &#x21ea;  &#8682;  the Capslock symbol\n  &#x23ce;  &#9166;  the Return symbol\n  &#x232b;  &#9003;  the Delete / Backspace symbol\n  &#x21E5;  &#8677;  the Tab Key symbol\n*/\n\n","import './App.css';\nimport AppMenu from './common/Header/Menu';\nimport Footer from './common/Footer/Footer';\nimport SideBarMenu from './common/SideBarMenu/SideBarMenu';\nimport Content from './common/SideBarMenu/Content';\nimport Layover from './common/Layover';\nimport React from \"react\";\nimport initializer from './common/AppInit'\nimport ContextMenu from './common/ContextMenu'\nimport AppInput from './common/AppInput'\nimport menuState from './common/MenuState'\nimport keyboardInput from './common/KeyboardInput'\nimport {DragPanel} from './draggable/Panel'\nimport {ShapeProps} from './shapeprops/ShapeProps';\n\nclass AppComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      wsState: \"init\",\n      dialog: null, \n      ctxMenu: false,\n      ctxMenuPos:{x:0, y:0}, \n      sideMenuSelectedItem: menuState.selected\n    };\n    this.wsCallback = this.handleWSState.bind(this);\n    this.showDialog = this.showDialog.bind(this);\n    this.showContextMenu = this.showContextMenu.bind(this);\n  }\n\n  handleWSState(state) {\n    this.setState({wsState: state});\n  }\n\n  showDialog(dialog) {\n    this.setState({dialog:dialog});\n  }\n\n  showContextMenu(show, x, y) {\n    if (show) {\n      this.setState({ctxMenu: true, ctxMenuPos:{x:x, y:y}});  \n    } else {\n      this.setState({ctxMenu: false});\n    }\n  }\n\n  render() {\n    var layover = null;\n    if (this.state.wsState != \"ready\" && this.state.wsState != \"offline\") {\n      layover = <div className=\"layover\"><Layover state={this.state.wsState}/></div>;\n    }\n    keyboardInput.showingDialog = this.state.dialog != null || layover != null || this.state.ctxMenu;\n    \n    return (\n      <div className=\"container\">\n        <Content />\n        <div className=\"top-right\">\n          <a target=\"_blank\" href=\"https://lekh.app/help.html\" className=\"help-link\">Help</a>\n        </div>\n        <div className=\"top-left-menu\">\n          <AppMenu showDialog={this.showDialog}/>\n        </div>\n        <div className=\"side-bar\">\n           <SideBarMenu />\n          </div>\n        <div className=\"footer-area\">\n          <Footer/>\n        </div>\n        {layover}\n        {this.state.dialog}\n        {this.state.ctxMenu && <ContextMenu showHandler={this.showContextMenu} pos={this.state.ctxMenuPos}/>}\n        <DragPanel></DragPanel>\n        <ShapeProps></ShapeProps>\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    initializer.init(this.wsCallback);\n    AppInput.showContextMenu = this.showContextMenu;\n  }\n}\n\nexport default AppComponent;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}