{"version":3,"sources":["assests/icons/google.svg","assests/icons/avatar.svg","components/ViewPort/Content.js","integ/integ.js","common/UIConfig.js","utils/EventListener.js","utils/ApiConstants.jsx","common/Messaging.js","common/Util.js","components/ViewPort/TextEditor.js","utils/ApiUtils.jsx","utils/ApiRequests.jsx","utils/UserInfo.js","utils/HttpUtil.js","common/WSManager.js","common/Exporter.js","common/Platform.js","components/ImageUploader/ImageUploader.jsx","common/KeyboardInput.js","components/ViewPort/ShapeHelp.js","components/InputField/InputField.jsx","components/Loaders/MiniLoader.jsx","hooks/useFetch.jsx","utils/DocsManager.js","components/DashboardItems/ShareModal.jsx","components/ContextHelp/Captions.js","components/ContextHelp/ContextHelp.js","components/ViewPort/ViewPort.js","common/MouseInput.js","common/TouchInput.js","common/Initializer.js","gestures/Frame.js","gestures/Geometry.js","gestures/Dragger.js","gestures/Gestures.js","gestures/LandmarksFeatures.js","gestures/GestureRecognizer.js","gestures/LandmarkHandler.js","gestures/GesturePanel.jsx","App.js","reportWebVitals.js","components/AuthLayout/AuthLayout.jsx","components/ModalContainer/ModalContainer.jsx","components/Loaders/FullLoader.jsx","hooks/useQuery.jsx","pages/auth/Confirm.jsx","pages/auth/ConfirmLogin.jsx","pages/auth/EmailLogin.jsx","pages/auth/Forgot.jsx","pages/auth/Login.jsx","pages/auth/OTPLogin.jsx","pages/auth/AuthUtil.jsx","pages/auth/Reset.jsx","pages/auth/SignUp.jsx","routes/PublicRoute.jsx","routes/AuthRoutes.jsx","hooks/useOnClickOutside.jsx","components/DashLayout/DashSidebar.jsx","components/DashLayout/DashboardTop.jsx","components/DashLayout/DashLayout.jsx","components/DashboardItems/DetailsModal.jsx","components/DashboardItems/RenameModal.jsx","components/DashboardItems/MoveModal.jsx","components/DashboardItems/DocumentListItem.jsx","pages/Dashboard/Dashboard.jsx","pages/Dashboard/Settings.jsx","routes/DashRoutes.jsx","components/DocsLog/OfflineList.jsx","components/DocsLog/OfflineViewer.jsx","components/DocsLog/DocsLogUtil.js","components/DocsLog/SessionList.jsx","components/DocsLog/DocsLogRoutes.jsx","routes/Routes.jsx","utils/DocInfo.js","index.js","assests/icons/Logo.svg","assests/icons/Logo-grey.png"],"names":["Content","props","className","id","cameraActive","width","height","tabIndex","integ","integImpl","isIntegration","params","atlassian","init","getIntegMode","getUser","cb","getDocInfo","loadDoc","a","handleClickOnViewer","evt","closeEditor","publishEditorChanges","customizeSidebar","sidebarMenu","customizeAppMenu","appMenu","setShowDialogHandler","showDialog","setAppState","handleLogoClick","shouldShowQuickTip","uiConfig","integMode","useLekhBackend","editor","showOptions","fileNameEditable","readOnly","viewer","full","makeLink","showEditOption","offline","initForIntegMode","initForLekhBackendMode","initForOfflineMode","isIntegMode","isIntegViewer","isViewerLink","isFullViewer","window","wsmanager","shouldLoadShapes","shouldAttachMouseEventHandler","shouldAttachKeyboardEventHandler","shouldShowFooter","isZoomOnlyFooter","shouldShowPagesInFooter","shouldShowUndoRedoInFooter","isUsingLekhBackend","shouldShowPublishCancelButton","EventListener","this","listeners","addListener","indexOf","push","removeListener","idx","splice","trigger","data","e","console","log","constant","messaging","event","addEventListener","onMessage","origin","util","dataUrlRegex","coreUtil","generateUUID","d","Date","getTime","d2","performance","now","replace","c","r","Math","random","floor","toString","getBase64FromImage","img","format","src","startsWith","test","canvas","document","createElement","ctx","getContext","drawImage","toDataURL","substring","mouseLocation","x","pageX","y","pageY","changedTouches","length","touch","hasTouch","hasTouchScreen","navigator","maxTouchPoints","msMaxTouchPoints","mQ","matchMedia","media","matches","UA","userAgent","loadScript","path","Promise","resolve","reject","script","async","onload","onerror","err","body","appendChild","getModifiersFromEvent","value","shiftKey","ctrlKey","altKey","metaKey","setModifiersFromEvent","pe","modifiers","Module","avabodh_lekh_event_Modifiers","setModifiers","fontStr","style","str","effectiveFontStyle","avabodh_lekh_Style_FontStyle","FontStyleItalic","effectiveFontWeight","avabodh_lekh_Style_FontWeight","FontWeightBold","fz","effectiveFontSize","mult","effectiveFontMultiplier","ff","effectiveFontFamily","colorStr","cl","disabled","avabodh_lekh_app_CoreUtil_instance","disabledColor","red","green","blue","alpha","listFont","fontCheck","Set","sort","fontAvailable","values","font","fonts","check","add","readFile","rootType","resp","errorCode","content","avabodh_lekh_FileInfo_RootType","Document","localStorage","getItem","writeFile","setItem","resizeImage","imgToResize","size","context","Image","textEditor","textArea","textInput","lekhCore","param","css","inRect","avabodh_lekh_app_LekhCore_instance","finishSingleLine","isUpdate","updateMultiline","finishMultiLine","tid","$","val","text","fontSize","tattrs","border","padding","ha","avabodh_lekh_Style_TextAlignHorizontal","effectiveTextAlignHorizontal","TextAlignHorizontalDefault","TextAlignHorizontalCenter","TextAlignHorizontalLeft","TextAlignHorizontalRight","defaultAlignAlways","append","self","on","finishTextEditing","code","key","platformTextEditorTextChanged","updateSingleLine","multiLine","editMultiline","editSingleLine","platformTextEditorFinished","remove","setRefreshTokenToStorage","token","setExpiryTimeToStorage","date","getRefreshTokenFromStorage","removeRefreshTokenFromStorage","removeItem","ApiRequestWithToken","config","baseURL","headers","userInfo","axios","create","ApiRequestWithoutToken","withCredentials","fetcher","url","get","then","res","login","post","refreshToken","refresh_token","loginWithApple","getCurrentUser","getDocs","qstr","getDoc","docid","available","loading","error","getCalled","state","handleStorageChange","fetchInfo","info","onChange","getAccessTokenOnDemand","refreshTokenStr","access_token","canUseGestures","isLoggedIn","features","gesture","loggedIn","onStoreChange","setErr","wasLoggedin","tryToRefreshToken","new_refresh_token","do_retry","retry","response","renewTokenBeforeExpiry","setTimeout","httpUtil","b64toBlob","base64","type","fetch","blob","blobToBase64","resole","reader","FileReader","onloadend","result","readAsDataURL","blobToStr","readAsText","toStr","Blob","JSON","stringify","requestHttp","request","keys","i","hk","hv","method","timeout","timeoutSec","responseType","encodeResponseBase64","multiPart","dataArray","FormData","mp","decodeValueBase64","mime","name","toLowerCase","decodeRequestBase64","httpResp","status","Map_std_string_std_string","item","set","ws","timer","startTimer","stopTimer","setInterval","send","ping","clearInterval","connect","location","WebSocket","onopen","coreIO","onWebSocketConnect","onmessage","onWebSocketMessage","onclose","onWebSocketDisconnect","disconnect","close","readyState","wsocket","FileSaver","require","Exporter","input","avabodh_lekh_ExportInput_ExportFormat","PDF","exportPdf","PNG","exportImage","JPG","SVG","exportSvg","LEKH","exportLekh","handleClose","viewPort","dialog","Dialog","onClose","aria-labelledby","open","DialogTitle","Button","onClick","pdfDoc","pages","getImage","checkError","orient","jsPDF","unit","orientation","addPage","addImage","save","fileName","pageInfo","imageScale","saveAs","pageIdx","scale","cel","fixCanvas","fillStyle","includeBackground","back","getPageBackground","pageIndex","avabodh_lekh_LekhBackground_Type","TypeColor","getColor","fillRect","jsp","JSDrawingPlatform","drawForExporting","cppObj","translateX","translateY","delete","JSPlatform","PlatformImpl","avabodh_lekh_app_HostEnv_instance","initForWeb","constr","getTextSize","measureText","lines","drawCanvas","avabodh_lekh_CanvasType","Drawing","output","img2","dp","drawingDp","jsObj","restore","sc","luaScripts","out","milli","callback","clone","exec","clearTimeout","msg","href","left","top","setCanvasSize","editText","from","to","file","openDialog","openView","export","pickImage","List_std_string","fontSet","push_back","reactTo","setPointerIconType","DrawingPlatformImpl","effectiveStrokePaint","solidColor","strokeStyle","effectiveDisabled","mod","isJoinStyleDefined","js","effectiveJoinStyle","avabodh_lekh_Style_JoinStyle","JoinStyleBevelJoin","lineJoin","JoinStyleMiterJoin","JoinStyleRoundJoin","dashArray","effectiveDashArray","isCapStyleDefined","lc","effectiveCapStyle","avabodh_lekh_Style_CapStyle","CapStyleButtCap","lineCap","CapStyleSquareCap","CapStyleRoundCap","dc","arr","setLineDash","lineDashOffset","background","point","Path2D","moveTo","fill","effectiveFillPaint","effectiveStrokeWidth","shadow","effectiveShadow","hasShadow","radius","avabodh_lekh_Style_Paint_Type","PaintTypeNoPaint","setStrokeStyle","color","lineWidth","shadowOffsetX","dx","shadowOffsetY","dy","shadowBlur","shadowColor","stroke","closePath","lineTo","center","ellipse","startAngle","endAngle","arc","angle","curve","numPoints","quadraticCurveTo","point2","point3","bezierCurveTo","point4","rect","floating","at","splits","cx","cy","ahz","atx","align","lineHeight","aty","textBaseline","textAlign","effectiveTextFill","translate","rotate","underline","isUnderlineText","strikeThrough","isStrikeThroughText","delta","fillText","tw","x1","x2","pathSteps","cp","tp","avabodh_geometry_PathStep_Type","p","Move","p1","Line","Quad","p2","Cubic","p3","Close","Arc","clip","platform","MaxSize","selectedImage","ImageUploader","useState","setFile","setWidth","setHeight","errMsg","setErrMsg","uploading","btnText","btnEnabled","handleSubmit","preventDefault","dialogHandler","action","onSubmit","accept","changedFile","target","files","objectUrl","URL","createObjectURL","revokeObjectURL","variant","keyboardInput","showingDialog","postListeners","isMac","addPostListener","removePostListener","handleKeyDown","cmd","avabodh_lekh_app_Command_instance","CmdKey","avabodh_lekh_event_CmdKey","Modifiers","executeKeys2","Delete","None","Escape","Enter","RightArrow","LeftArrow","UpArrow","DownArrow","modVal","executeKeys","attachEvents","canvasElement","Help","handleClickAway","showShapeHelp","handleKey","React","useEffect","fromRect","pos","anchorEl","clientWidth","clientHeight","getBoundingClientRect","bottom","right","placement","getTopPlacement","helpText","ClickAwayListener","onClickAway","Popper","dangerouslySetInnerHTML","__html","InputField","label","handleChange","placeholder","pattern","required","errorText","htmlFor","MiniLoader","useFetch","useSWR","docsManager","parent","search","order","orderBy","docs","mode","split","obj","encodeURIComponent","route","qparam","reset","qpath","qs","parse","ignoreQueryPrefix","setPath","qsearch","serializePath","join","searchTerm","pop","deleteDoc","reload","canCreateNewDoc","createDoc","getADoc","getFullPath","root","doc","unshift","duplicate","getChildFolders","folderId","getChildItems","folders","ShareModal","email","setEmail","setType","access","setAccess","setLoading","viewShares","setViewShares","copied","setCopied","success","setSuccess","setError","docUrl","privateForm","shareDoc","mutate","catch","finally","options","defaultValue","onCopy","shares","map","m","deleteShare","toast","message","titles","start","end","startCaption","vid","spanElement","curTitles","showingIndex","removeCaption","innerHTML","updateForIndex","index","paused","play","currentTime","updateCaption","checkAndStartCaption","getElementById","span","setAttribute","ContextHelp","title","autoPlay","muted","playsInline","InputDialog","cancel","setValue","okDisabled","allowEmpty","trim","zIndex","DialogContent","TextField","autoFocus","margin","fullWidth","DialogActions","cancelText","okText","resizeListener","grid","draw","middle","ui","gridDp","drawDp","middleDp","uiDp","gridNeedsUpdate","drawNeedsUpdate","middleNeedsUpdate","uiNeedsUpdate","hostEnv","canvasTypeEnum","showAirGesture","onResize","avabodh_lekh_ReactParam","ConfigChange","setScreenSize","Middle","UI","cnv","dpr","devicePixelRatio","sz","metrics","attachResizerHandler","attachScreenModeHandler","initial","initUI","Grid","requestAnimationFrame","clearRect","pointers","avabodh_lekh_PointerIconType","Action","cursor","Draw","Scroll","Text","Laser","Erase","types","avabodh_lekh_DialogInput_Type","OkCancel","avabodh_lekh_DialogResponse_Type","Cancelled","Accepted","showOkCancel","TextInput","showInputDialog","showMsg","avabodh_lekh_OpenViewInput_Type","avabodh_lekh_OpenViewInput_PopuDir","Popup","arg","focus","currentlyOpenedRemoteDoc","modal","HTMLContent","popup","AirGesture","PageReload","isDark","getBrightnessConfig","setBrightnessMode","avabodh_lekh_app_HostEnv_BrightnessMode","Dark","Light","mouseInput","downCount","eventPointsFromEvent","list","List_avabodh_lekh_event_EventPoint","btn","avabodh_lekh_event_MouseButton","Left","button","Right","Back","avabodh_lekh_event_EventPointState","pt","offsetX","offsetY","pointerId","pressure","altitude","azimuth","timestamp","pointerType","avabodh_lekh_event_PointerType","Mouse","flag","avabodh_lekh_event_EventPoint_Flag","se","avabodh_lekh_event_ScrollEvent","setDelta","deltaX","deltaY","avabodh_lekh_event_ScrollEvent_Type","Generic","setLocation","setHasValidLocation","onScrollEvent","bean","avabodh_lekh_event_PointerEvent","pts","Down","setPoints","onPointerEvent","Up","resetPointerInputState","touchInput","eventPointFromTouch","ts","identifier","Finger","handleEvent","ev","timeStamp","initializer","runtimeInitialized","initialInitDone","reactAppReady","shapesInitDone","uiInitDone","docStarted","userInfoFetched","onRuntimeInitialized","initInternal","initShapes","ready","library","initNames","libnames","shapeManager","initGroupsAndSetDisplaySettings","startDoc","searchParams","openRemoteDocById","scriptToAppend","appendScript","backendFlow","setAccessToken","rtoken","uiCanvas","initEventHandlers","blockView","canvasCtx","cameraCtx","canvasWidth","canvasHeight","landmarkLines","mirrorPoint","npt","clearCameraCanvas","drawCenterText","strokeText","mkpt","z","pt2d","dist","sqrt","inOrder","inord","eq","LineEq","perp","crosses","A","B","C","abs","eq2","D","Dx","Dy","atan2","LineSegment","d1","len","near","solve","contains","distFrom","min","seg","eq1","got","Dragger","MOVE_DIST_REF","MOVE_DIST_SMALL_REF","MOVE_DIST_SMALL","last","lastRef","moving","points","ptref","addPoint","dx1","dx2","dy1","dy2","handleMove","checkMove","lastDrawMode","toolMenu","InputModeEnum","EventPointState","sendPoint","captureDrawMode","inputMode","SmartDraw","setSelectionMode","Select","setInputMode","Gesture","dragger","ptidx","landmarks","setMode","mpt","lastpt","Drag1Gesture","track","sendPoints","checkClick","sendLastPoint","Drag2Gesture","ThumbGesture","PinchGesture","Features","backSide","indexBent","middleBent","ringBent","indexInOrder","middleInOrder","ringInOrder","indexCurved","middleCurved","ringCurved","getSide","pval","isCurved","p4","deg","ta","theta","acos","v1x","v1y","v2x","crossProduct","turn","turnAngle","PI","drag1Active","drag2Active","undo","RepeatedGesture","noop","gap","times","handler","lastGesture","lastAt","count","GestureRecognizer","model","drag1Gesture","drag2Gesture","thumbGesture","pinchGesture","noopGesture","undoGesture","hand","getGesture","handleRepeated","getFeatures","isPinch","isThumb","isDrag2","dPinch","pinchLike","factor","isDrag1","gestureRecognizer","prevGesture","pendingGesture","initStartTime","flashDuration","showingVideo","flashing","handle","line","beginPath","drawLandmarks","curGesture","done","handleLast","move","activeptIdx","activePoint","drawActivePoint","showVideo","results","image","handleLandmarkResults","multiHandLandmarks","lms","multiHandedness","initLandmarkHandler","cameraCanvas","cameraElement","devices","GesturePanel","showList","setShowList","showCamera","setShowCamera","initialized","setInitialized","startMediapipe","devId","frames","startCamera","outCanvas","iframe","avabodh_lekh_app_ToolMenu_instance","avabodh_lekh_app_ToolMenu_InputMode","mediaDevices","enumerateDevices","deviceInfos","deviceInfo","kind","dev","deviceId","AppComponent","shapeHelp","airGestureShowing","bind","help","setState","Component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","AuthLayout","children","ModalContainer","parentOnClick","FullLoader","useLocation","useQuery","URLSearchParams","ConfirmUser","query","history","useHistory","ConfirmLogin","expires_at","EmailLogin","loginForm","setloginForm","successText","showSuccessText","proceed","newEntry","Forgot","password","passwordForm","setpasswordForm","attemptedLoadingAppleScript","appleAuthInitialized","loadAppleScript","Login","formType","appleScriptLoaded","setAppleScriptLoaded","AppleID","auth","clientId","scope","redirectURI","usePopup","handleGoogleLoginFailure","googleData","handleGoogleLogin","tokenId","handleAppleLogin","signIn","firstName","lastName","authorization","id_token","user","first_name","last_name","render","renderProps","default","alt","onSuccess","onFailure","cookiePolicy","OTPLogin","code_type","passwordCheck","Reset","cPassword","apiError","setApiError","SignUp","signUpForm","setSignUpForm","submitSuccess","setSubmitSuccess","PublicRoute","component","rest","AuthRouteList","exact","AuthRoutes","useClickOutside","ref","handleClick","current","removeEventListener","NewBoard","setName","userid","DashSidebar","openNew","setOpenNew","setDocsState","docsManagerCb","activeClassName","MobileMenu","DashboardTop","settingsRef","useRef","openSettings","setOpenSettings","openMenu","setOpenMenu","setText","setSearchMode","getRoute","logout","DashLayout","DetailsModal","setData","inScope","in_my_scope","created_at","toDateString","updated_at","owner","RenameModal","newName","MoveModal","setParent","parentDoc","setParentDoc","Map","cache","childCache","has","getChildren","MoveDoc","DocumentListItem","setOpen","share","setShare","showDetails","setShowDetails","rename","setRename","setMove","deleting","setDeleting","handleOpen","pushParent","shared","Dashboard","setRoute","pathname","popParentTo","getRootName","Settings","current_password","updateForm","setupdateForm","new_password","DashRouteList","DashRoutes","setUserState","onUserInfoChange","PrivateRoute","OfflineList","OfflineViewer","dateStr","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","SessionList","defKey","setKey","sessions","setSessions","setToken","nextToken","setNextToken","items","sess","ds","num_updates","elm","parts","getDocsLogSessions","next_token","overflow","DocsLogRoutes","SessionViewer","RouteList","Routes","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","pauseOnHover","docInfo","openDoc","_new","hash","replaceState","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.88f6ec50.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/google.97c84023.svg\";","export default __webpack_public_path__ + \"static/media/avatar.75fdf75c.svg\";","import React from 'react'\n\nconst Content = (props) => {\n    return (\n        <div className=\"canvasContainer\" id=\"drawContent\">\n            <canvas id=\"gridCanvas\" className=\"viewport\" />\n            {props.cameraActive && <canvas id=\"cameraCanvas\" className=\"cameraCanvas\" width=\"1280px\" height=\"720px\"/>}\n            <canvas id=\"drawCanvas\" className=\"viewport\" />\n            <canvas id=\"middleCanvas\" className=\"viewport\" />\n            <canvas id=\"uiCanvas\" tabIndex=\"0\" className=\"viewport\" />\n        </div>\n    )\n}\n\nexport default Content;\n","import atlassian from './atlassian';\n\nconst integ = { }\nvar integImpl = null;\n\ninteg.isIntegration = (params) => {\n    if (params.atlassian == 'true') {\n        integImpl = atlassian;\n        integImpl.init(params);\n        return true;\n    }\n    return false;\n}\n\ninteg.getIntegMode = (params) => {\n    if (params.atlassian == 'true') {\n        return atlassian.getIntegMode(params);\n    }\n    return null;\n}\n\ninteg.getUser = (cb) => {\n    integImpl.getUser(cb);\n}\n\ninteg.getDocInfo = (cb) => {\n    integImpl.getDocInfo(cb);\n}\n\ninteg.loadDoc = async () => {\n    integImpl.loadDoc();\n}\n\ninteg.handleClickOnViewer = (evt) => {\n    integImpl.handleClickOnViewer();\n}\n\ninteg.closeEditor = () => {\n    integImpl.closeEditor();\n}\n\ninteg.publishEditorChanges = async () => {\n    await integImpl.publishEditorChanges();\n}\n\ninteg.customizeSidebar = (sidebarMenu) => {\n    return integImpl.customizeSidebar(sidebarMenu);\n}\n\ninteg.customizeAppMenu = (appMenu) => {\n    return integImpl.customizeAppMenu(appMenu);\n}\n\ninteg.setShowDialogHandler = (showDialog, setAppState) => {\n    integImpl.setShowDialogHandler(showDialog, setAppState);\n}\n\ninteg.handleLogoClick = () => {\n    integImpl.handleLogoClick();\n}\n\ninteg.shouldShowQuickTip = () => {\n    return integImpl.shouldShowQuickTip();\n}\n\nexport default integ;","import integ from \"../integ/integ\";\n\nconst uiConfig = {\n}\n\nvar integMode = {\n    useLekhBackend: false,\n    editor: {\n        showOptions: false,\n        fileNameEditable: false,\n        readOnly: false\n    },\n    viewer: {\n        full: false,\n        makeLink: false,\n        showEditOption: false,\n        showOptions: false\n    },\n};\n\nvar offline = false;\n\nuiConfig.initForIntegMode = (params) => {\n    integMode = integ.getIntegMode(params);\n}\n\nuiConfig.initForLekhBackendMode = () => {\n    integMode = null;\n    offline = false;\n}\n\nuiConfig.initForOfflineMode = () => {\n    integMode = null;\n    offline = true;\n}\n\nuiConfig.isIntegMode = () => {\n    return integMode != null;\n}\n\nuiConfig.isIntegViewer = () => {\n    return integMode != null && integMode.editor == null;\n}\n\nuiConfig.isViewerLink = () => {\n    if (integ != null && integMode != null && integMode.viewer != null) {\n        return integMode.viewer.makeLink;\n    }\n    return false;\n}\n\nuiConfig.isFullViewer = () => {\n    if (integ != null && integMode != null && integMode.viewer != null) {\n        return integMode.viewer.full;\n    }\n    return false;\n}\n\nuiConfig.readOnly = () => { \n    if (integMode != null) {\n        if (integMode.editor != null) {\n            return integMode.editor.readOnly;\n        }\n        return true;\n    }\n    return window.wsmanager && window.wsmanager.readOnly();\n}\n\nuiConfig.offline = () => {\n    return offline;\n}\n\nuiConfig.shouldLoadShapes = () => {\n    if (integMode != null) {\n        return integMode.editor != null;\n    }\n    return true;\n}\n\nuiConfig.shouldAttachMouseEventHandler = () => {\n    if (integMode != null) {\n        if (integMode.viewer != null) {\n            return integMode.viewer.full;\n        } else {\n            return true;\n        }\n    }\n    return true;\n}\n\nuiConfig.shouldAttachKeyboardEventHandler = () => {\n    if (integMode != null) {\n        return integMode.editor != null;\n    }\n    return true;\n}\n\n\nuiConfig.shouldShowFooter = () => {\n    if (integMode != null) {\n        if (integMode.viewer != null) {\n            return integMode.viewer.full;\n        }\n        return true;\n    }\n    return true;\n}\n\nuiConfig.isZoomOnlyFooter = () => {\n    if (integMode != null) {\n        if (integMode.viewer != null) {\n            return integMode.viewer.full;\n        }\n        return false;\n    }\n    return false;\n}\n\nuiConfig.shouldShowPagesInFooter = () => {\n    return integMode == null;\n}\n\nuiConfig.shouldShowUndoRedoInFooter = () => {\n    if (integMode != null) {\n        if (integMode.viewer != null) {\n            return integMode.viewer.full;\n        }\n        return false;\n    }\n    return true;\n}\n\nuiConfig.isUsingLekhBackend = () => {\n    if (integMode != null) {\n        return integMode.useLekhBackend;\n    }\n    return true;\n}\n\nuiConfig.shouldShowPublishCancelButton = () => {\n    return integMode != null && integMode.editor != null\n}\n\nuiConfig.shouldShowQuickTip = () => {\n    if (integMode != null && integMode.editor != null) {\n        return integ.shouldShowQuickTip();\n    }\n    return true;\n}\n\nexport default uiConfig;","class EventListener {\n    constructor() {\n        this.listeners = [];\n\n        this.addListener = (cb) => {\n            var idx = this.listeners.indexOf(cb);\n            if (idx < 0) {\n                this.listeners.push(cb);\n            }\n        };\n\n        this.removeListener = (cb) => {\n            var idx = this.listeners.indexOf(cb);\n            if (idx >= 0) {\n                this.listeners.splice(idx, 1);\n            }\n        };\n\n        this.trigger = (data) => {\n            for (let cb of this.listeners) {\n                try {\n                    cb(data);\n                } catch (e) {\n                    console.log(e);\n                }\n            }\n        };\n    }\n}\n\nexport default EventListener;\n","export const constant = {\n  tokenName: \"LKH-TKN\",\n  expiryName: \"LKH-EXP\",\n  refreshToken: \"LKH-RFR\",\n  baseUrl: \"https://api.lekh.app\",\n  appUrl: \"https://docs.lekh.app\",\n  backendVersion: \"v1.1\",\n  userInfoLoading: 'loading',\n  userInfoError: 'error',\n  userInfoAvailable: 'available'\n}\n","import EventListener from \"../utils/EventListener\";\nimport { constant } from \"../utils/ApiConstants\";\n\nconst messaging  = {\n    event: new EventListener(),\n    data: null,\n    init: () => { window.addEventListener(\"message\", onMessage, false); }\n}\n\nconst onMessage = (event) => {\n    if (event.origin !== constant.appUrl) {\n        return;\n    }\n    messaging.data = event.data;\n    messaging.event.trigger(event);\n}\n\nexport default messaging;","var util = { };\n\nconst dataUrlRegex =  /^data:([a-z]+\\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\\-._~:@\\/?%\\s<>]*?)$/i;\n\nlet coreUtil = null;\n\nutil.generateUUID = function() {\n    var d = new Date().getTime();//Timestamp\n    var d2 = (window.performance && window.performance.now && (window.performance.now()*1000)) || 0;//Time in microseconds since page-load or 0 if unsupported\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n        var r = Math.random() * 16;//random number between 0 and 16\n        if(d > 0){//Use timestamp until depleted\n            r = (d + r)%16 | 0;\n            d = Math.floor(d/16);\n        } else {//Use microseconds since page-load if supported\n            r = (d2 + r)%16 | 0;\n            d2 = Math.floor(d2/16);\n        }\n        return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);\n    });\n}\n\nutil.getBase64FromImage = (img, format) => {\n    let data = null;\n    if (!!img.src && img.src.startsWith('data:')) {\n        if (dataUrlRegex.test(img.src)) {\n            data = img.src;\n        }\n    }\n    if (data == null) {\n        const canvas = document.createElement('canvas');\n        const ctx = canvas.getContext('2d');\n        canvas.width = img.width;\n        canvas.height = img.height;\n        ctx.drawImage(img, 0, 0);\n        data = canvas.toDataURL();\n    }\n    if (data.indexOf('base64,') >= 0) {\n        data = data.substring(data.indexOf('base64,') + 7)\n    }\n    return data;\n}\n\nutil.mouseLocation = (event) => {\n  var x = event.pageX;\n    var y = event.pageY;\n    if (x == null || y == null || typeof x == \"undefined\" || typeof y == \"undefined\") {\n        if (event.changedTouches && event.changedTouches.length > 0) {\n            var touch = event.changedTouches[0];\n            x = touch.pageX;\n            y = touch.pageY;\n        }\n    }\n    if (x == null || y == null || typeof x == \"undefined\" || typeof y == \"undefined\") {\n        return null;\n    }\n    return {x: x, y: y};\n}\n\nutil.hasTouch = () => {\n    var hasTouchScreen = false;\n    if (\"maxTouchPoints\" in navigator) {\n        hasTouchScreen = navigator.maxTouchPoints > 0;\n    } else if (\"msMaxTouchPoints\" in navigator) {\n        hasTouchScreen = navigator.msMaxTouchPoints > 0;\n    } else {\n        var mQ = window.matchMedia && matchMedia(\"(pointer:coarse)\");\n        if (mQ && mQ.media === \"(pointer:coarse)\") {\n            hasTouchScreen = !!mQ.matches;\n        } else if ('orientation' in window) {\n            hasTouchScreen = true; // deprecated, but good fallback\n        } else {\n            // Only as a last resort, fall back to user agent sniffing\n            var UA = navigator.userAgent;\n            hasTouchScreen = (\n                /\\b(BlackBerry|webOS|iPhone|IEMobile)\\b/i.test(UA) ||\n                /\\b(Android|Windows Phone|iPad|iPod)\\b/i.test(UA)\n            );\n        }\n    }\n    return hasTouchScreen;\n}\n\nutil.loadScript = async (path) => {\n    return new Promise((resolve, reject) => {\n        const script = document.createElement(\"script\");\n        script.src = path;\n        script.async = true;\n        script.onload = () => {\n            resolve();\n        }\n        script.onerror = (err) => {\n            console.log(err)\n            reject(err);\n        }\n        document.body.appendChild(script);\n    });\n}\n\nutil.getModifiersFromEvent = (e) => {\n    let value = 0;\n    if (e.shiftKey) {\n        value = value | 1;\n    }\n    if (e.ctrlKey) {\n        value = value | 2;\n    }\n    if (e.altKey) {\n        value = value | 4;\n    }\n    if (e.metaKey) {\n        value = value | 16;\n    }\n    return value;\n}\n\nutil.setModifiersFromEvent = (e, pe) => {\n    let value = util.getModifiersFromEvent(e);\n    if (value != 0) {\n        let modifiers = new window.Module.avabodh_lekh_event_Modifiers()\n        modifiers.value = value;\n        pe.setModifiers(modifiers)\n    }\n}\n\nutil.fontStr = (style) => {\n    let str = '';\n    if (style.effectiveFontStyle() == window.Module.avabodh_lekh_Style_FontStyle.FontStyleItalic) {\n        str += 'italic ';\n    }\n    if (style.effectiveFontWeight() == window.Module.avabodh_lekh_Style_FontWeight.FontWeightBold) {\n        str += 'bold ';\n    }\n\n    let fz = style.effectiveFontSize();\n    let mult = style.effectiveFontMultiplier();\n    if (mult >= 0 && mult != 1.0) {\n        fz = fz * mult;\n    }\n    str += fz + 'px'\n    let ff = style.effectiveFontFamily();\n    if (ff != '') {\n        str += ' ' + ff + ',';\n    }\n    str +=  \" sans-serif\";\n    return str;\n}\n \nutil.colorStr = (cl, disabled) => {\n    if (disabled) {\n        if (coreUtil == null) {\n            coreUtil = window.Module.avabodh_lekh_app_CoreUtil_instance();\n        }\n        cl = coreUtil.disabledColor(cl);\n    }\n    return`rgba(${cl.red}, ${cl.green}, ${cl.blue}, ${cl.alpha / 255})`;\n}\n\nutil.listFont = () => {\n    const fontCheck = new Set([\n        // Windows 10\n        'Arial', 'Arial Black', 'Bahnschrift', 'Calibri', 'Cambria', 'Cambria Math', 'Candara', 'Comic Sans MS', 'Consolas', 'Constantia', 'Corbel', 'Courier New', 'Ebrima', 'Franklin Gothic Medium', 'Gabriola', 'Gadugi', 'Georgia', 'HoloLens MDL2 Assets', 'Impact', 'Ink Free', 'Javanese Text', 'Leelawadee UI', 'Lucida Console', 'Lucida Sans Unicode', 'Malgun Gothic', 'Marlett', 'Microsoft Himalaya', 'Microsoft JhengHei', 'Microsoft New Tai Lue', 'Microsoft PhagsPa', 'Microsoft Sans Serif', 'Microsoft Tai Le', 'Microsoft YaHei', 'Microsoft Yi Baiti', 'MingLiU-ExtB', 'Mongolian Baiti', 'MS Gothic', 'MV Boli', 'Myanmar Text', 'Nirmala UI', 'Palatino Linotype', 'Segoe MDL2 Assets', 'Segoe Print', 'Segoe Script', 'Segoe UI', 'Segoe UI Historic', 'Segoe UI Emoji', 'Segoe UI Symbol', 'SimSun', 'Sitka', 'Sylfaen', 'Symbol', 'Tahoma', 'Times New Roman', 'Trebuchet MS', 'Verdana', 'Webdings', 'Wingdings', 'Yu Gothic',\n        // macOS\n        'American Typewriter', 'Andale Mono', 'Arial', 'Arial Black', 'Arial Narrow', 'Arial Rounded MT Bold', 'Arial Unicode MS', 'Avenir', 'Avenir Next', 'Avenir Next Condensed', 'Baskerville', 'Big Caslon', 'Bodoni 72', 'Bodoni 72 Oldstyle', 'Bodoni 72 Smallcaps', 'Bradley Hand', 'Brush Script MT', 'Chalkboard', 'Chalkboard SE', 'Chalkduster', 'Charter', 'Cochin', 'Comic Sans MS', 'Copperplate', 'Courier', 'Courier New', 'Didot', 'DIN Alternate', 'DIN Condensed', 'Futura', 'Geneva', 'Georgia', 'Gill Sans', 'Helvetica', 'Helvetica Neue', 'Herculanum', 'Hoefler Text', 'Impact', 'Lucida Grande', 'Luminari', 'Marker Felt', 'Menlo', 'Microsoft Sans Serif', 'Monaco', 'Noteworthy', 'Optima', 'Palatino', 'Papyrus', 'Phosphate', 'Rockwell', 'Savoye LET', 'SignPainter', 'Skia', 'Snell Roundhand', 'Tahoma', 'Times', 'Times New Roman', 'Trattatello', 'Trebuchet MS', 'Verdana', 'Zapfino',\n        // Ubuntu\n        'C059', 'Century Schoolbook L', 'D050000L', 'DejaVu Sans', 'DejaVu Sans Mono', 'DejaVu Serif', 'Dingbats', 'Droid Sans Fallback', 'Nimbus Mono L', 'Nimbus Mono L', 'Nimbus Mono PS', 'Nimbus Roman', 'Nimbus Roman No9 L', 'Nimbus Sans', 'Nimbus Sans L', 'Nimbus Sans Narrow', 'Noto Mono', 'P052', 'Standard Symbols L', 'Standard Symbols PS', 'URW Bookman', 'URW Bookman L', 'URW Chancery L', 'URW Gothic', 'URW Gothic L', 'URW Palladio L', 'Z003',\n    ].sort());\n    const fontAvailable = new Set();\n    for (const font of fontCheck.values()) {\n        if (document.fonts.check(`12px \"${font}\"`)) {\n            fontAvailable.add(font);\n        }\n    }\n    return fontAvailable;\n}\n\nutil.readFile = (rootType, path) => {\n    let resp = {errorCode: -1, content: ''};\n    if (rootType != window.Module.avabodh_lekh_FileInfo_RootType.Document) {\n        return resp;\n    }\n    if (!path.startsWith('settings/')) {\n        return resp;\n    }\n\n    let content = localStorage.getItem('files:' + path)\n    if (!!content) {\n        resp.content = content;\n        resp.errorCode = 0;\n    }\n    \n    return resp;\n}\n\nutil.writeFile = (rootType, path, content) => {\n    if (rootType != window.Module.avabodh_lekh_FileInfo_RootType.Document) {\n        return -1;\n    }\n    if (!path.startsWith('settings/')) {\n        return -1;\n    }\n\n    localStorage.setItem('files:' + path, content);\n    return 0;\n}\n\nutil.resizeImage = (imgToResize, size) => {\n    const canvas = document.createElement(\"canvas\");\n    const context = canvas.getContext(\"2d\");\n\n    canvas.width = size.width;\n    canvas.height = size.height;\n\n    context.drawImage(\n        imgToResize,\n        0,\n        0,\n        size.width,\n        size.height\n    );\n    let img = new Image();\n    img.src = canvas.toDataURL();\n    return img;\n}\n\nexport default util;\n  ","import util from \"../../common/Util\";\nimport $ from 'jquery';\n\nconst border = 1;\nconst padding = 2;\n\nclass TextEditor {\n    constructor() {\n        this.textArea = null;\n        this.textInput = null;\n        this.lekhCore = null;\n    }\n\n    updateMultiline(param, style) {\n        if (this.textArea == null) {\n            return;\n        }\n\n        this.textArea.css(\"left\", (param.inRect.x - border - padding)+ \"px\");\n        this.textArea.css(\"top\", (param.inRect.y - border - padding) + \"px\");\n        this.textArea.css(\"width\", (param.inRect.width) + \"px\");\n        this.textArea.css(\"height\", (param.inRect.height) + \"px\");\n    }\n\n    editMultiline(param, style) {\n        if (this.lekhCore == null) {\n            this.lekhCore = window.Module.avabodh_lekh_app_LekhCore_instance();\n        }\n\n        // In case the single edit is still around\n        this.finishSingleLine();\n\n        if (param.isUpdate) {\n            if (this.textArea == null) {\n                return;\n            }\n            this.updateMultiline(param, style);\n            return;\n        }\n\n        // starting new edit. Make sure older is gone\n        this.finishMultiLine();\n\n        var tid = Math.random() + \"t\";\n        this.textArea = $(\"<textarea id='\" + tid + \"'></textarea>\");\n        this.textArea.val(param.text)\n        var fontSize = style.effectiveFontSize() * style.effectiveFontMultiplier();\n        var tattrs = {\n            \"outline\": \"none\",\n            \"resize\": \"none\",\n            \"overflow\": \"hidden\",\n            \"position\": \"absolute\",\n            \"font\": util.fontStr(style),\n            \"line-height\": fontSize + \"px\",\n            \"background-color\": \"transparent\",\n            \"left\": (param.inRect.x - border - padding)+ \"px\",\n            \"top\": (param.inRect.y - border - padding) + \"px\",\n            \"width\": param.inRect.width + \"px\",\n            \"height\": param.inRect.height + \"px\",\n            \"border\": border + 'px solid gray',\n            \"margin\": 0,\n            \"padding\": padding + \"px\",\n            \"z-index\": \"1000\"\n        }\n        let ha = window.Module.avabodh_lekh_Style_TextAlignHorizontal;\n        switch (style.effectiveTextAlignHorizontal()) {\n            case ha.TextAlignHorizontalDefault:\n            case ha.TextAlignHorizontalCenter:\n              tattrs[\"text-align\"] = \"center\";\n              break;\n            case ha.TextAlignHorizontalLeft:\n              tattrs[\"text-align\"] = \"left\";\n              break;\n            case ha.TextAlignHorizontalRight:\n              tattrs[\"text-align\"] = \"right\";\n              break;\n            default:\n              break;\n        }\n\n        // For interpreted text\n        if (param.defaultAlignAlways) {\n            tattrs[\"text-align\"] = \"left\";\n        }\n\n        this.textArea.css(tattrs);\n        $(\"#drawContent\").append(this.textArea);\n        this.textArea.trigger(\"focus\");\n\n        let self = this;\n        this.textArea.on(\"blur\", function(e) {\n            self.finishTextEditing();\n        });\n        this.textArea.on(\"keyup\", function(e) {\n            if (e.code == \"Escape\" || e.key == \"Escape\") {\n                self.finishTextEditing();\n            }\n        });\n        this.textArea.on('input propertychange', function(e) {\n            self.lekhCore.platformTextEditorTextChanged(self.textArea.val());\n        });\n    }\n\n    updateSingleLine(param, style) {\n\n    }\n\n    editSingleLine(param, style) {\n        if (this.lekhCore == null) {\n            this.lekhCore = window.Module.avabodh_lekh_app_LekhCore_instance();\n        }\n\n        // In case the multi line edit is still around\n        this.finishMultiLine();\n\n        if (param.isUpdate) {\n            if (this.textInput == null) {\n                return;\n            }\n            this.updateSingleLine(param, style);\n            return;\n        }\n\n        // starting new edit. Make sure older is gone\n        this.finishSingleLine();\n\n        var tid = Math.random() + \"t\";\n        this.textInput = $(\"<input type='text' id='\" + tid + \"' />\");\n        this.textInput.val(param.text)\n        var fontSize = style.effectiveFontSize() * style.effectiveFontMultiplier();\n        var tattrs = {\n            \"outline\": \"none\",\n            \"resize\": \"none\",\n            \"overflow\": \"hidden\",\n            \"position\": \"absolute\",\n            \"font\": util.fontStr(style),\n            \"line-height\": fontSize + \"px\",\n            \"background-color\": \"transparent\",\n            \"left\": (param.inRect.x - padding)+ \"px\",\n            \"top\": (param.inRect.y - padding) + \"px\",\n            \"width\": param.inRect.width + \"px\",\n            \"height\": param.inRect.height + \"px\",\n            \"border\": '0px',\n            \"margin\": 0,\n            \"padding\": padding + \"px\",\n            \"z-index\": \"1000\"\n        }\n        let ha = window.Module.avabodh_lekh_Style_TextAlignHorizontal;\n        switch (style.effectiveTextAlignHorizontal()) {\n            case ha.TextAlignHorizontalDefault:\n            case ha.TextAlignHorizontalCenter:\n              tattrs[\"text-align\"] = \"center\";\n              break;\n            case ha.TextAlignHorizontalLeft:\n              tattrs[\"text-align\"] = \"left\";\n              break;\n            case ha.TextAlignHorizontalRight:\n              tattrs[\"text-align\"] = \"right\";\n              break;\n            default:\n              break;\n        }\n        this.textInput.css(tattrs);\n        $(\"#drawContent\").append(this.textInput);\n        this.textInput.trigger(\"focus\");\n\n        let self = this;\n        this.textInput.on(\"blur\", function(e) {\n            self.finishTextEditing();\n        });\n        this.textInput.on(\"keyup\", function(e) {\n            if (e.code == \"Escape\" || e.key == \"Escape\" || e.code == \"Enter\" || e.key == \"Enter\") {\n                self.finishTextEditing();\n            }\n        });\n        this.textInput.on('input propertychange', function(e) {\n            self.lekhCore.platformTextEditorTextChanged(self.textInput.val());\n        });\n    }\n\n    editText(param, style) {\n        if (param.multiLine) {\n            this.editMultiline(param, style);\n        } else {\n            this.editSingleLine(param, style);\n        }\n    }\n\n    finishTextEditing() {\n        this.finishMultiLine();\n        this.finishSingleLine();\n    }\n\n    finishSingleLine() {\n        if (this.textInput != null) {\n            this.lekhCore.platformTextEditorFinished();\n            this.textInput.remove();\n            this.textInput = null;\n        }\n    }\n\n    finishMultiLine() {\n        if (this.textArea != null) {\n            this.lekhCore.platformTextEditorFinished();\n            this.textArea.remove();\n            this.textArea = null;\n        }\n    }\n}\n\nconst textEditor = new TextEditor();\n\nexport default textEditor;","import { constant } from \"./ApiConstants\";\n\nexport const setTokenToStorage = token => {\n  return localStorage.setItem(constant.tokenName, token);\n};\n\nexport const setRefreshTokenToStorage = token => {\n  return localStorage.setItem(constant.refreshToken, token);\n};\n\nexport const setExpiryTimeToStorage = date => {\n  return localStorage.setItem(constant.expiryName, date);\n};\n\nexport const storageContainsToken = () => {\n  return !!localStorage.getItem(constant.tokenName);\n};\n\nexport const storageContainsRefreshToken = () => {\n  return !!localStorage.getItem(constant.tokenName);\n};\n\nexport const getTokenFromStorage = () => {\n  return localStorage.getItem(constant.tokenName);\n};\n\nexport const getRefreshTokenFromStorage = () => {\n  return localStorage.getItem(constant.refreshToken);\n};\n\nexport const getExpiryTimeFromStorage = () => {\n  return localStorage.getItem(constant.expiryName);\n};\n\nexport const tokenStillValid = () => {\n  return (\n    new Date().getTime() <\n    new Date(parseInt(getExpiryTimeFromStorage()) * 1000).getTime()\n  );\n};\n\nexport const checkLogin = () => {\n  if (getRefreshTokenFromStorage()) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nexport const removeTokenFromStorage = () => {\n  localStorage.removeItem(constant.tokenName);\n};\n\nexport const removeRefreshTokenFromStorage = () => {\n  localStorage.removeItem(constant.refreshToken);\n};\n\nexport const removeExpiryDateFromStorage = () => {\n  localStorage.removeItem(constant.expiryName);\n};\n\nexport const logout = () => {\n  return (\n    removeExpiryDateFromStorage() &&\n    removeRefreshTokenFromStorage() &&\n    removeTokenFromStorage()\n  );\n};\n","import axios from \"axios\";\n// import { getTokenFromStorage } from \"./ApiUtils\";\nimport { constant } from \"./ApiConstants\";\nimport userInfo from \"./UserInfo\";\n\nexport const ApiRequestWithToken = () => {\n  const config = { baseURL: constant.baseUrl };\n  config.headers = { \"X-Auth-Token\": userInfo.token };\n  const instance = axios.create(config);\n  return instance;\n};\n\nexport const ApiRequestWithoutToken = () => {\n  const config = { baseURL: constant.baseUrl, withCredentials: true };\n  const instance = axios.create(config);\n  return instance;\n};\n\nexport const fetcher = url =>\n  ApiRequestWithToken()\n    .get(url)\n    .then(res => res.data);\n\nexport const signUp = data =>\n  ApiRequestWithoutToken().post(\"/v1.1/users\", data);\n\nexport const login = data => ApiRequestWithoutToken().post(\"/v1.1/auth\", data);\n\nexport const confirmAccount = data =>\n  ApiRequestWithoutToken().post(\"/v1.1/auth/confirm\", data);\n\nexport const forgotPassword = data =>\n  ApiRequestWithoutToken().post(\"/v1.1/auth/forgot\", data);\n\nexport const resetPassword = data =>\n  ApiRequestWithoutToken().post(\"/v1.1/auth/reset\", data);\n\nexport const refreshToken = data =>\n  ApiRequestWithToken().post(\"/v1.1/auth/refresh\", { refresh_token: data });\n\nexport const loginWithGoogle = data =>\nApiRequestWithoutToken().post(\"/v1.1/auth/googlelogin\", data);\n\nexport const loginWithApple = data =>\nApiRequestWithoutToken().post(\"/v1.1/auth/applelogin\", data);\n\nexport const getCurrentUser = () =>\n  ApiRequestWithToken().get(\"/v1.1/users/current\");\n\nexport const getDocs = qstr => ApiRequestWithToken().get(\"/v1.1/docs\" + qstr);\n\nexport const getDoc = docid => ApiRequestWithToken().get(\"/v1.1/docs/\" + docid);\n\nexport const updateCurrentUser = data =>\n  ApiRequestWithToken().post(\"/v1.1/users/current\", data);\n\nexport const createNew = data => ApiRequestWithToken().post(\"/v1.1/docs\", data);\n\nexport const openDoc = id => ApiRequestWithToken().post(`/v1.1/docs/${id}`, {});\n\nexport const deleteDoc = id => ApiRequestWithToken().delete(`/v1.1/docs/${id}`);\n\nexport const claimDoc = id => ApiRequestWithToken().post(`/v1.1/docs/${id}`, {'operation': {'type': 'claim'}});\n\nexport const duplicateDoc = id => ApiRequestWithToken().post(`/v1.1/docs/${id}`, {'operation': {'type': 'duplicate'}});\n\nexport const shareDoc = (id, data) =>\n  ApiRequestWithToken().post(`/v1.1/docs/${id}/share`, data);\n\nexport const RenameDoc = (id, data) =>\n  ApiRequestWithToken().post(`/v1.1/docs/${id}`, data);\n\nexport const MoveDoc = (id, data) =>\n  ApiRequestWithToken().post(`/v1.1/docs/${id}`, data);\n\nexport const deleteShare = (id, email) =>\n  ApiRequestWithToken().delete(`/v1.1/docs/${id}/share?email=${email}\n`);\n\nexport const getResource = (id) => ApiRequestWithToken().get(`/v1.1/resources/${id}`, {responseType: 'blob'});\n\nexport const hello = (ref) => ApiRequestWithoutToken().get('/hello?ref=' + ref, {withCredentials: true});\n\nexport const getDocsLogSessions = (qstr) => ApiRequestWithToken().get('/v1.1/docslog/logs/sessions?' + qstr);\nexport const getADocsLogSession = (sessionid) => ApiRequestWithToken().get('/v1.1/docslog/logs/sessions/' + sessionid);\nexport const getDocsLogUpdate = (docid, version) => ApiRequestWithToken().get('/v1.1/docslog/logs/updates/' + docid + '/' + version);","import {\n  getRefreshTokenFromStorage,\n  setRefreshTokenToStorage,\n  removeRefreshTokenFromStorage,\n} from \"./ApiUtils\";\nimport { refreshToken, getCurrentUser } from \"./ApiRequests\";\nimport { constant } from \"./ApiConstants\";\nimport integ from \"../integ/integ\";\nimport uiConfig from \"../common/UIConfig\";\nimport EventListener from \"./EventListener\";\n\n/*\nThe user info can be used in react functional component like this\n\n  const onUserLoginStateChange = () => {\n    // handler for user login state change\n  }\n\n  useEffect(() => {\n    userInfo.addListener(onUserLoginStateChange);\n    userInfo.get();\n    return () => {\n      userInfo.removeListener(onUserLoginStateChange);\n    }\n  }, []);\n\n  // use this check while rendering\n  // userInfo.state == 'available' ==> user is logged in\n  // userInfo.state == 'loading' ==> the user info is being fetched\n  // userInfo.state == 'error' ==> unable to fetch the user info. redirect to login page\n\n*/\n\nconst available = constant.userInfoAvailable;\nconst loading = constant.userInfoLoading;\nconst error = constant.userInfoError;\n\nvar getCalled = false;\n\n// state can be one one of: loading, available, error\nvar userInfo = {\n  state: loading,\n  data: {},\n  token: \"\",\n  event: new EventListener()\n};\n\nuserInfo.isLoggedIn = () => {\n  return userInfo.state == available && !!userInfo.token;\n}\n\nuserInfo.logout = () => {\n  userInfo.token = \"\";\n  userInfo.data = { };\n  userInfo.state = \"loading\";\n  getCalled = false;\n  removeRefreshTokenFromStorage();\n}\n\nuserInfo.get = () => {\n  if (getCalled && userInfo.state != error) {\n    return\n  }\n  getCalled = true;\n\n  if (!uiConfig.isUsingLekhBackend()) {\n    integ.getUser((state, token, info) => {\n      userInfo.token = token;\n      userInfo.data = info;\n      userInfo.state = state;\n      onChange();\n    });\n    return;\n  }\n\n  window.addEventListener('storage', handleStorageChange);\n  userInfo.state = loading;\n  fetchInfo(false);\n};\n\nuserInfo.getAccessTokenOnDemand = async (refreshTokenStr) => {\n  if (!refreshTokenStr) {\n    return false;\n  }\n  var resp = null;\n  try {\n    resp = await refreshToken(refreshTokenStr);\n  } catch(err) {\n    console.log(err);\n    return false;\n  }\n  userInfo.token = resp.data.access_token;\n  try {\n    resp = await getCurrentUser(resp.data.access_token);\n  } catch (err) {\n    console.log(err);\n    return false;\n  }\n  userInfo.data = resp.data;\n  return true;\n}\n\nuserInfo.canUseGestures = () => {\n  if (!userInfo.isLoggedIn()) {\n    return false;\n  }\n  return userInfo.data.features && userInfo.data.features.gesture;\n}\n\nconst handleStorageChange = () => {\n  var loggedIn = userInfo.isLoggedIn();\n  let refreshTokenStr = getRefreshTokenFromStorage();\n  if (loggedIn && !!refreshTokenStr) {\n    console.log(\"Not responding to storage change\");\n    return;\n  }\n  console.log(\"Responding to storage change\");\n  fetchInfo(true)\n}\n\nconst onChange = () => {\n  try {\n    userInfo.event.trigger();\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nconst fetchInfo = async (onStoreChange) => {\n  let refreshTokenStr = getRefreshTokenFromStorage();\n  if (!refreshTokenStr) {\n    if (userInfo.state != error) {\n      setErr();\n    }\n    return;\n  }\n  var wasLoggedin = userInfo.isLoggedIn()\n  var resp = await tryToRefreshToken(refreshTokenStr);\n  if (resp.new_refresh_token) {\n    if (!onStoreChange) {\n      setRefreshTokenToStorage(resp.new_refresh_token);\n    }\n    if (!wasLoggedin) {\n      onChange();\n    }\n  } else {\n    if (resp.do_retry) {\n      retry(onStoreChange);\n    } else {\n      removeRefreshTokenFromStorage();\n      setErr();\n    }\n  }\n}\n\nconst setErr = () => {\n  userInfo.state = error;\n  userInfo.data = {};\n  userInfo.token = '';\n  onChange();\n}\n\nconst tryToRefreshToken = async (refreshTokenStr) => {\n  let resp = null;\n  try {\n    resp = await refreshToken(refreshTokenStr);\n  } catch(err) {\n    if (err.response && err.response.data && err.response.data.code) {\n      let code = err.response.data.code;\n      if (code == \"code_expired\" || code == \"refresh_token_expired\" ||\n        code == \"invalid_input\" || code == 'login_failure' || code == 'unknown') {\n        return {new_refresh_token: null, do_retry: false};\n      }\n    }\n    console.log(err);\n    return {new_refresh_token: null, do_retry: true};\n  }\n\n  let new_refresh_token = resp.data.refresh_token\n  userInfo.token = resp.data.access_token;\n\n  try {\n    resp = await getCurrentUser(resp.data.access_token);\n  } catch (err) {\n    console.log(err);\n    return {new_refresh_token: null, do_retry: true};\n  }\n  \n  renewTokenBeforeExpiry();\n\n  userInfo.data = resp.data;\n  userInfo.state = available;\n\n  return {new_refresh_token: new_refresh_token, do_retry: false}\n};\n\nconst renewTokenBeforeExpiry = () => {\n  // TODO: we should look at the expires_at\n  // but for now we will refresh every half an hour\n  let hafHour = 1000 * 60 * 30;\n  setTimeout(() => {\n    fetchInfo(false);\n  }, hafHour);\n};\n\nconst retry = (onStoreChange) => {\n  setTimeout(() => {\n    fetchInfo(onStoreChange);\n  }, 1000 * 10);\n};\n\nexport default userInfo;\n","import axios from \"axios\";\nimport userInfo from \"./UserInfo\";\n\nvar httpUtil = { }\n\nconst b64toBlob = (base64, type = 'application/octet-stream') => \n  fetch(`data:${type};base64,${base64}`).then(res => res.blob());\n\nconst blobToBase64 = async (blob) => {\n    return new Promise(resole => {\n        var reader = new FileReader();\n        reader.onloadend = function() {\n            resole(reader.result);\n        }\n        reader.readAsDataURL(blob);\n    });\n}\n\nconst blobToStr = async (blob) => {\n    return new Promise(resole => {\n        var reader = new FileReader();\n        reader.onloadend = function() {\n            resole(reader.result);\n        }\n        reader.readAsText(blob); \n    });\n}\n\nconst toBlob = (data) => {\n    if (data instanceof Blob) {\n        return data;\n    }\n\n    if (typeof(data) == 'string') {\n        return new Blob([data]);\n    }\n    \n    if (typeof(data) == 'object') {\n        return new Blob([JSON.stringify(data)]);\n    }\n    return new Blob(['']);\n}\n\nconst toStr = async (data) => {\n    if (typeof(data) == 'string') {\n        return data;\n    }\n    if (data instanceof Blob) {\n        return await blobToStr(data);\n    }\n    if (typeof(data) == 'object') {\n        return JSON.stringify(data);\n    }\n    return '';\n}\n\nconst shouldIncludeHeader = (url) => {\n    if (url.startsWith('https://rajeevku02.github.io')) {\n        return false;\n    }\n    return true;\n}\n\nhttpUtil.requestHttp = async (request) => { \n    \n    let headers = { }\n    let keys = request.headers.keys();\n    for (let i = 0; i < keys.size(); i++) {\n        let hk = keys.get(i);\n        let hv = request.headers.get(hk);\n        headers[hk] = hv;\n    }\n    headers['x-auth-token'] = userInfo.token;\n    const config = {\n        url: request.url,\n        method: request.method,\n        timeout: request.timeoutSec* 1000,\n        responseType: 'blob'\n    };\n\n    if (shouldIncludeHeader(request.url)) {\n        config['headers'] = headers;\n    } else {\n        config.withCredentials = false;\n    }\n\n    if (!request.encodeResponseBase64) {\n        config.responseType = 'text';\n    }\n\n    if (request.multiPart.size() > 0) {\n        const dataArray = new FormData();\n        for (let idx = 0; idx < request.multiPart.size(); idx++) {\n            let mp = request.multiPart.get(idx);\n            if (mp.decodeValueBase64) {\n                var mime = mp.mime? mp.mime: 'application/octet-stream';\n                var blob = await b64toBlob(mp.value, mime);\n                dataArray.append(mp.name, blob);\n            } else {\n                if (mp.mime) {\n                    dataArray.append(mp.name, new Blob([mp.value], {type: mp.mime}));\n                } else {\n                    dataArray.append(mp.name, mp.value);\n                }\n            }\n        }\n        config.data = dataArray;\n    } else if (request.method.toLowerCase() != 'get' && !!request.body) {\n        if (request.decodeRequestBase64) {\n            config.data = await b64toBlob(request.body);\n        } else {\n            config.data = request.body;\n        }\n    }\n\n    var httpResp = {\n        error: true,\n        status: 0,\n        body: '',\n        headers: new window.Module.Map_std_string_std_string(),\n    }\n    var resp = null;\n    try {\n        resp = await axios(config);\n    } catch (e) {\n        if (!!e && !!e.response && !!e.response.status) {\n            resp = e.response;\n        }\n    }\n\n    if (resp != null) {\n        httpResp.error = false;\n        httpResp.status = resp.status;\n\n        for (let item in resp.headers) {\n            if (typeof(resp.headers[item]) == 'string') {\n                httpResp.headers.set(item, resp.headers[item]);\n            }\n        }\n\n        if (request.encodeResponseBase64) {\n            let body = await blobToBase64(toBlob(resp.data));\n            if (body.startsWith('data:') && body.indexOf('base64,') >= 0) {\n                body = body.substring(body.indexOf('base64,') + 7);\n            }\n            httpResp.body = body;\n        } else {\n            let body = await toStr(resp.data)\n            httpResp.body = body;\n        }\n    }\n    \n    return httpResp;\n}\n\nexport default httpUtil;","function wsocket() {\n\n    let ws = null;\n    let timer = null;\n    let lekhCore = null;\n\n    const ping = () => {\n        if (ws != null) {\n            try {\n                ws.send('{}');\n            } catch (e) { }\n        }\n    }\n\n    const startTimer = () => {\n        stopTimer();\n        timer = setInterval(()=> {\n            ping();\n        }, 15000);\n    }\n\n    const stopTimer = () => {\n        if (!!timer) {\n            window.clearInterval(timer);\n            timer = null;\n        }\n    }\n\n    const connect = (docid, location) => {\n        lekhCore = window.Module.avabodh_lekh_app_LekhCore_instance();\n        ws = new window.WebSocket(location);\n        \n        ws.onopen = function(event) {\n            console.log('connection opened: ', event);\n            startTimer();\n            lekhCore.coreIO().onWebSocketConnect();    \n        };\n    \n        ws.onmessage = function(event) {\n            lekhCore.coreIO().onWebSocketMessage(event.data);\n        };\n    \n        ws.onclose = function(event) {\n            console.log('connection closed:', event);\n            stopTimer();\n            lekhCore.coreIO().onWebSocketDisconnect();\n        };\n    \n        ws.onerror = function(event) {\n            console.log('connection error: ', event);\n            stopTimer();\n            lekhCore.coreIO().onWebSocketDisconnect();\n        };\n    }\n\n    const disconnect = () => {\n        if (ws != null) {\n            try {\n                ws.close();\n            } catch (e) { }\n        }\n    }\n\n    const send = (docid, data) => {\n        if (ws != null) {\n            if (ws.readyState != 1) {\n                lekhCore.coreIO().onWebSocketDisconnect();\n                return false;\n            }\n            try {\n                ws.send(data);\n            } catch(e) {\n                lekhCore.coreIO().onWebSocketDisconnect();\n                return false;\n            }\n            return true;\n        }\n    }\n\n    return { connect, disconnect, send };\n}\n\nlet wsmanager = wsocket();\nexport default wsmanager;","import viewPort from \"../components/ViewPort/ViewPort\";\nimport { JSDrawingPlatform } from \"./Platform\";\nimport Dialog from '@material-ui/core/Dialog';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { jsPDF } from \"jspdf\";\nimport util from \"./Util\";\n\nvar FileSaver = require('file-saver');\n\nconst errMsg = 'Unable to export. Canvas is probably too large. Please try exporting from Android / iOS app or contact support at info@lekhapp.com';\n\nclass Exporter\n{\n    constructor() {\n        this.input = null;\n        this.showDialog = null;\n    }\n\n    export(input) {\n        this.input = input;\n\n        if (input.format == window.Module.avabodh_lekh_ExportInput_ExportFormat.PDF) {\n            this.exportPdf();\n        } else if (input.format == window.Module.avabodh_lekh_ExportInput_ExportFormat.PNG) {\n            this.exportImage('png');\n        } else if (input.format == window.Module.avabodh_lekh_ExportInput_ExportFormat.JPG) {\n            this.exportImage('jpg');\n        } else if (input.format == window.Module.avabodh_lekh_ExportInput_ExportFormat.SVG) {\n            this.exportSvg();\n        } else if (input.format == window.Module.avabodh_lekh_ExportInput_ExportFormat.LEKH) {\n            this.exportLekh();\n        }\n    }\n\n    checkError(img) {\n        if (img == null || img.data == \"data:,\") {\n            const handleClose = () => viewPort.showDialog(null);\n            var dialog = (\n                <Dialog onClose={handleClose} aria-labelledby=\"simple-dialog-title\" open={true}>\n                    <DialogTitle id=\"simple-dialog-title\">{errMsg}</DialogTitle>\n                    <Button onClick={handleClose}>OK</Button>\n                </Dialog>\n            )\n            viewPort.showDialog(dialog)\n            return true;\n        }\n        return false;\n    }\n\n    exportPdf() {\n        let pdfDoc = null;\n        for (let i = 0; i < this.input.pages.size(); i++) {\n            let img = this.getImage(i, \"jpg\", 0.5);\n            if (this.checkError(img)) {\n                return;\n            }\n            var orient = \"landscape\";\n            if (img.height > img.width) {\n                orient = \"portrait\";\n            }\n            if (pdfDoc == null) {\n                pdfDoc = new jsPDF({\n                    unit: 'pt',\n                    orientation: orient,\n                    format: [img.width, img.height]\n                });\n            } else {\n                pdfDoc = pdfDoc.addPage([img.width, img.height], orient);\n            }\n\n            pdfDoc.addImage(img.data, 'JPEG', 0, 0, img.width, img.height)\n        }\n        pdfDoc.save(this.input.fileName);\n    }\n\n    exportImage(format) {\n        for (let i = 0; i < this.input.pages.size(); i++) {\n            let pageInfo = this.input.pages.get(i);\n            let img = this.getImage(i, format, pageInfo.imageScale);\n            if (this.checkError(img)) {\n                return;\n            }\n            FileSaver.saveAs(img.data, pageInfo.fileName);\n        }\n    }\n\n    exportLekh() {\n        var blob = new Blob([this.input.content], { type: \"text/plain;charset=utf-8\" });\n        FileSaver.saveAs(blob, this.input.fileName);\n    }\n\n    exportSvg() {\n        for (let i = 0; i < this.input.pages.size(); i++) {\n            let pageInfo = this.input.pages.get(i);\n            var blob = new Blob([pageInfo.content], { type: \"text/plain;charset=utf-8\" });\n            FileSaver.saveAs(blob, pageInfo.fileName);\n        }\n    }\n\n    getImage(pageIdx, format, imageScale) {\n        let pageInfo = this.input.pages.get(pageIdx);\n        let scale = 1;\n        if (imageScale > 0 && imageScale < 8) {\n            scale = imageScale;\n        }\n\n        var cel = document.createElement(\"canvas\");\n        viewPort.fixCanvas(cel, pageInfo.width * scale, pageInfo.height * scale);\n        var ctx = cel.getContext(\"2d\");\n\n        let lekhCore = window.Module.avabodh_lekh_app_LekhCore_instance();\n\n        if (format == \"jpg\" || format == \"jpeg\") {\n            ctx.fillStyle = '#fff';\n            if (this.input.includeBackground) {\n                let back = lekhCore.getPageBackground(pageInfo.pageIndex);\n                if (back.type() == window.Module.avabodh_lekh_LekhBackground_Type.TypeColor) {\n                    ctx.fillStyle = util.colorStr(back.getColor(), false);\n                }\n            }\n            ctx.fillRect(0, 0, pageInfo.width * scale, pageInfo.height * scale);\n        }\n\n        let jsp = new JSDrawingPlatform();\n        jsp.init();\n        jsp.ctx = ctx;\n\n        if (scale != 1) {\n            ctx.scale(scale, scale);\n        }\n\n        lekhCore.drawForExporting(jsp.cppObj, pageInfo.pageIndex, this.input.includeBackground, pageInfo.translateX, pageInfo.translateY);\n\n        jsp.cppObj.delete();\n\n        return { data: cel.toDataURL(\"image/\" + format), width: pageInfo.width * scale, height: pageInfo.height * scale }\n    }\n}\n\nexport default Exporter;","import viewPort from \"../components/ViewPort/ViewPort\";\nimport util from \"./Util\";\nimport textEditor from \"../components/ViewPort/TextEditor\";\nimport httpUtil from \"../utils/HttpUtil\";\nimport luaScripts from '../data/lua_script.json'\nimport wsmanager from \"./WSManager\";\nimport Exporter from \"./Exporter\";\n\nclass JSPlatform {\n    init() {\n        this.cppObj = new window.Module.PlatformImpl(this);\n        let hostEnv = window.Module.avabodh_lekh_app_HostEnv_instance();\n        hostEnv.initForWeb(this.cppObj, util.hasTouch());\n    }\n\n    getTextBoxSize(str, style, constr) {\n        return this.getTextSize(str, style, constr);\n    }\n\n    getTextSize(str, style, constr) {\n        return this.measureText(str, style, constr);\n    }\n\n    measureText(lines, style, constr) {\n        style = style.get();\n        let font = util.fontStr(style);\n        return viewPort.measureText(lines, font, style.effectiveFontSize());\n    }\n\n    processFont(style) {\n    }\n\n    setFontFromPlatformName(str, style) {\n    }\n\n    freePlatformImageObject(img) {\n    }\n\n    getImageDataFromBase64String(str) {\n        let img = new Image();\n        img.src = \"data:image/png;base64,\" + str;\n        img.onload = function() {\n            viewPort.drawCanvas(window.Module.avabodh_lekh_CanvasType.Drawing);\n        }\n        return img;\n    }\n\n    cloneImageData(img, format) {\n        return img;\n    }\n\n    getBase64FromImage(img, format, output) {\n        let data = util.getBase64FromImage(img, format);\n        output.set(data);\n    }\n\n    getImageSize(img) {\n        return { width: img.width, height: img.height };\n    }\n\n    resizeImage(img, size) {\n        let img2 = util.resizeImage(img, size);\n        if (img2 != null) {\n            img2.onload = function() {\n                viewPort.drawCanvas(window.Module.avabodh_lekh_CanvasType.Drawing);\n            }\n        }\n        return img2;\n    }\n\n    setBackgoundNeedUpdate() {\n    }\n\n    canvasSize() {\n        return {width: 0, height: 0};\n    }\n\n    scrollOffset() {\n        return {x: 0, y: 0};\n    }\n\n    zoomCanvas(dp, val) {\n        let drawingDp = dp.get().jsObj()\n        drawingDp.ctx.save();\n        drawingDp.ctx.scale(val, val);\n        return true;\n    }\n\n    resetZoomCanvas(dp) {\n        let drawingDp = dp.get().jsObj()\n        drawingDp.ctx.restore();\n    }\n\n    LOG(str) {\n        console.log(str);\n    }\n\n    getResource(name, output) {\n        var sc = luaScripts[name];\n        if (sc) {\n            return output.set(sc);\n        }\n        output.set('')\n    }\n\n    getRemoteResource(name, type) {\n    }\n\n    getUUID(output) {\n        let out = util.generateUUID();\n        output.set(out);\n    }\n\n    setTimer(milli, cb) {\n        let callback = cb.clone();\n        return window.setTimeout(function() {\n            callback.exec();\n        }, milli);\n    }\n\n    clearTimer(tid) {\n        window.clearTimeout(tid);\n    }\n\n    sendUpdate(docid, msg) {\n        return wsmanager.send(docid, msg);\n    }\n\n    requestHttp(request, cb) {\n        cb = cb.clone();\n        httpUtil.requestHttp(request).then(resp => {\n            cb.exec(resp);\n        });\n    }\n\n    getSetting(key, type, output) {\n    }\n\n    setSetting(key, type, val) {\n    }\n\n    pointsPerInch() {\n        return 144;\n    }\n\n    pixelsPerInch() {\n        return 96;\n    }\n\n    navigateBack() {\n        window.location.href=\"/\";\n    }\n\n    drawCanvas(type) {\n        viewPort.drawCanvas(type);\n    }\n\n    setCanvasSizeAndPos(left, top, width, height) {\n        viewPort.setCanvasSize(left, top, width, height);\n    }\n\n    ediText(param, style) {\n        textEditor.editText(param, style.get());\n    }\n\n    finishTextEditing() {\n        textEditor.finishTextEditing();\n    }\n\n    listFiles(rootType, path) {\n    }\n\n    readFile(rootType, path) {\n        return util.readFile(rootType, path);\n    }\n\n    writeFile(rootType, path, content) {\n        return util.writeFile(rootType, path, content);\n    }\n\n    renameFile(rootType, from, to) {\n        return -1;\n    }\n\n    deleteFile(rootType, file) {\n        return -1;\n    }\n    \n    generateUIFeedback(type) {\n    }\n\n    showDialog(input, cb) {\n        viewPort.openDialog(input, cb.clone());\n    }\n\n    openView(input, cb) {\n        viewPort.openView(input, cb.clone());\n    }\n\n    exportDoc(input) {\n        let exporter = new Exporter();\n        exporter.export(input);\n    }\n\n    pickImage(cb) {\n        viewPort.pickImage(cb.clone())\n    }\n\n    getFontFamilies() {\n        let fonts = new window.Module.List_std_string();\n        let fontSet = util.listFont();\n        for (let font of fontSet) {\n            fonts.push_back(font);\n        }\n        return fonts;\n    }\n\n    connectWebSocket(url, docid) {\n        wsmanager.connect(docid, url);\n    }\n\n    disconnectWebSocket() {\n        wsmanager.disconnect();\n    }\n\n    reactTo(param) {\n        viewPort.reactTo(param);\n    }\n\n    setPointerIconType(type) {\n        viewPort.setPointerIconType(type);\n    }\n\n    inputModeChanged(type) {\n    }\n}\n\nexport class JSDrawingPlatform {\n    constructor() {\n        this.ctx = null;\n        this.style = null;\n        this.path = null;\n        this.coreUtil = null;\n    }\n\n    init() {\n        this.cppObj = new window.Module.DrawingPlatformImpl(this);\n        this.coreUtil = window.Module.avabodh_lekh_app_CoreUtil_instance();\n    }\n\n    setStrokeStyle() {\n        let cl = this.style.effectiveStrokePaint().solidColor;\n        this.ctx.strokeStyle = util.colorStr(cl, this.style.effectiveDisabled());\n        let mod = window.Module;\n        if (this.style.isJoinStyleDefined()) {\n            let js = this.style.effectiveJoinStyle();\n            if (js == mod.avabodh_lekh_Style_JoinStyle.JoinStyleBevelJoin) {\n                this.ctx.lineJoin = 'bevel';\n            } else if (js == mod.avabodh_lekh_Style_JoinStyle.JoinStyleMiterJoin) {\n                this.ctx.lineJoin = 'miter';\n            } else if (js == mod.avabodh_lekh_Style_JoinStyle.JoinStyleRoundJoin) {\n                this.ctx.lineJoin = 'round';\n            }\n        } else {\n            this.ctx.lineJoin = 'round';\n        }\n\n        let dashArray = this.style.effectiveDashArray();\n        \n        if (this.style.isCapStyleDefined()) {\n            let lc = this.style.effectiveCapStyle();\n            if (lc == mod.avabodh_lekh_Style_CapStyle.CapStyleButtCap) {\n                this.ctx.lineCap = 'butt';\n            } else if (lc == mod.avabodh_lekh_Style_CapStyle.CapStyleSquareCap) {\n                this.ctx.lineCap = 'square';\n            } else if (lc == mod.avabodh_lekh_Style_CapStyle.CapStyleRoundCap) {\n                this.ctx.lineCap = 'round';\n            }\n        } else {\n            if (dashArray.size() > 0) {\n                this.ctx.lineCap = 'butt';\n            } else {\n                this.ctx.lineCap = 'round';\n            }\n        }\n\n        let dc = dashArray.size();\n        if (dc > 0) {\n            let arr = [];\n            for (let i = 0; i < dc; i++) {\n                arr.push(dashArray.get(i));\n            }\n            this.ctx.setLineDash(arr);\n            this.ctx.lineDashOffset = 0;\n        }\n    }\n\n    setBackground(background) {\n\n    }\n\n    startDrawing(point, style) {\n        this.style = style.get();\n        this.path = new Path2D();\n        this.path.moveTo(point.x, point.y);\n    }\n\n    endDrawing() {\n        this.ctx.save();\n        \n        if (this.style.fill()) {\n            this.ctx.fillStyle = util.colorStr(this.style.effectiveFillPaint().solidColor, this.style.effectiveDisabled());\n            this.ctx.fill(this.path);\n        }\n        \n        let width = this.style.effectiveStrokeWidth();\n        if (width < 0) { width = 0; }\n        let shadow = this.style.effectiveShadow();\n        let hasShadow = shadow.radius > 0;\n        if ((width > 0 || hasShadow) && this.style.effectiveStrokePaint().type != window.Module.avabodh_lekh_Style_Paint_Type.PaintTypeNoPaint) {\n            this.setStrokeStyle();\n            if (width == 0) {\n                // This can happen if there is shadow but no border.\n                // sice the zero value is ignored (old value is kept) so\n                // set it to small value so that small values is set.\n                width = 0.001;\n                // make the border color same as shadow color\n                this.ctx.strokeStyle = util.colorStr(shadow.color, false);\n\n            }\n            this.ctx.lineWidth = width;\n\n            if (hasShadow) {\n                this.ctx.shadowOffsetX = shadow.dx;\n                this.ctx.shadowOffsetY = shadow.dy;\n                this.ctx.shadowBlur = shadow.radius;\n                this.ctx.shadowColor = util.colorStr(shadow.color, false);\n            }\n\n            this.ctx.stroke(this.path);    \n        }\n\n        this.ctx.restore();\n    }\n\n    closePath() {\n        this.path.closePath();\n    }\n\n    addLineTo(point) {\n        this.path.lineTo(point.x, point.y);\n    }\n\n    moveTo(point) {\n        this.path.moveTo(point.x, point.y);\n    }\n\n    addCircle(center, radius) {\n        this.path = new Path2D();\n        if (radius < 0) { radius = 0; }\n        this.path.ellipse(center.x, center.y, radius, radius, 0, 0, 6.3);\n    }\n\n    addArc(center, radius, startAngle, endAngle) {\n        this.path = new Path2D();\n        this.path.arc(center.x, center.y, radius, startAngle, endAngle, false);\n    }\n\n    addEllipse(center, width, height, angle) {\n        if (width < 0) {\n            width = 0;\n          }\n          if (height < 0) {\n            height = 0;\n          }\n          this.path = new Path2D();\n          this.path.ellipse(center.x, center.y, width / 2, height / 2, angle, 0, 6.3);\n    }\n\n    addCurve(curve) {\n        if (curve.numPoints == 3) {\n            this.path.quadraticCurveTo(curve.point2.x, curve.point2.y, curve.point3.x, curve.point3.y);\n          } else {\n            this.path.bezierCurveTo(curve.point2.x, curve.point2.y, curve.point3.x, curve.point3.y, curve.point4.x, curve.point4.y);\n          }\n    }\n\n    addRoundedRect(rect, angle) {\n\n    }\n\n    drawText(str, floating, at, rect, angle, style) {\n\n    }\n\n    drawTextWithParam(param, splits, style) {\n        if (splits.size() == 0) {\n            return;\n        }\n\n        style = style.get();\n        this.ctx.save();\n\n        let cx = param.inRect.x + param.inRect.width / 2;\n        let cy = param.inRect.y + param.inRect.height / 2;\n\n        let ahz = window.Module.avabodh_lekh_Style_TextAlignHorizontal;\n\n        let atx = cx;\n        let align = 'center'\n        if (style.effectiveTextAlignHorizontal() == ahz.TextAlignHorizontalLeft) {\n            atx = param.inRect.x;\n            align = 'left';\n        } else if (style.effectiveTextAlignHorizontal() == ahz.TextAlignHorizontalRight) {\n            atx = param.inRect.x + param.inRect.width;\n            align = 'right';\n        }\n\n        let lineHeight = style.effectiveFontSize();\n        let aty = cy - lineHeight * splits.size() / 2;\n        this.ctx.textBaseline = 'top';\n        this.ctx.textAlign = align;\n        this.ctx.font = util.fontStr(style);\n        let colorStr = util.colorStr(style.effectiveTextFill().solidColor, style.effectiveDisabled());\n        this.ctx.fillStyle = colorStr;\n        this.ctx.strokeStyle = colorStr;\n        \n        if (param.angle != 0) {\n            this.ctx.translate(cx, cy);\n            this.ctx.rotate(param.angle);\n            atx -= cx;\n            aty -= cy;\n        }\n\n        let underline = this.coreUtil.isUnderlineText(style);\n        let strikeThrough = this.coreUtil.isStrikeThroughText(style);\n\n        this.ctx.lineWidth = lineHeight / 15;\n        let delta = lineHeight * 0.92;\n\n        for (let i = 0; i < splits.size(); i++) {\n            this.ctx.fillText(splits.get(i).text, atx, aty);\n\n            if (underline || strikeThrough) {\n                let tw = splits.get(i).width;\n                let x1 = atx;\n                let x2;\n                if (align == 'left') {\n                    x2 = x1 + tw;\n                } else if (align == 'right') {\n                    x2 = x1 - tw;\n                } else {\n                    x2 = x1 + tw / 2;\n                    x1 = x1 - tw / 2;\n                }\n\n                let path = new Path2D();\n                if (strikeThrough) {\n                    path.moveTo(x1, aty + lineHeight / 2);\n                    path.lineTo(x2, aty + lineHeight / 2);\n                }\n\n                if (underline) {\n                    path.moveTo(x1, aty + delta);\n                    path.lineTo(x2, aty + delta);\n                }\n                this.ctx.stroke(path);\n            }\n\n            aty += lineHeight;\n        }\n\n        this.ctx.restore();\n    }\n\n    drawImage(center, size, angle, img, style) {\n        if (img == null) {\n          return;\n        }\n        this.ctx.save();\n        this.ctx.translate(center.x, center.y);\n        if (angle != 0) {\n            this.ctx.rotate(angle);\n        }\n        this.ctx.drawImage(img, -size.width / 2, -size.height / 2, size.width, size.height);\n        this.ctx.restore();\n    }\n\n    saveContext() {\n        this.ctx.save();\n    }\n\n    restoreContext() {\n        this.ctx.restore();\n    }\n\n    translate(x, y) {\n        this.ctx.translate(x, y);\n    }\n\n    clip(pathSteps) {\n        if (pathSteps.size() == 0) {\n            return;\n        }\n        let cp = new Path2D();\n        let tp = window.Module.avabodh_geometry_PathStep_Type;\n\n        for (let i = 0; i < pathSteps.size(); i++) {\n            let p = pathSteps.get(i);\n            if (p.type == tp.Move) {\n                cp.moveTo(p.p1.x, p.p1.y);\n            } else if (p.type == tp.Line) {\n                cp.lineTo(p.p1.x, p.p1.y);\n            } else if (p.type == tp.Quad) {\n                cp.quadraticCurveTo(p.p1.x, p.p1.y, p.p2.x, p.p2.y);\n            } else if (p.type == tp.Cubic) {\n                cp.quadraticCurveTo(p.p1.x, p.p1.y, p.p2.x, p.p2.y, p.p3.x, p.p3.y);\n            } else if (p.type == tp.Close) {\n                cp.closePath();\n            } else if (p.type == tp.Arc) {\n                // TODO:\n            }\n        }\n        this.ctx.clip(cp);\n    }\n}\n\nconst platform = new JSPlatform();\nexport default platform;","import { Dialog } from \"@material-ui/core\";\nimport React, { useState, useEffect } from \"react\";\nimport { Button } from '@material-ui/core';\nimport { AiOutlineClose } from \"react-icons/ai\";\n//import { constant } from \"../../utils/ApiConstants\";\n//import { ApiRequestWithToken } from \"../../utils/ApiRequests\";\n//import docInfo from \"../../utils/DocInfo\";\n//import canvas from \"../../common/Canvas\";\n//import remoteResouceManager from \"../../utils/RemoteResourceManager\";\nimport uiConfig from \"../../common/UIConfig\";\n\nconst MaxSize = 5 * 1024 * 1024;\nvar selectedImage = null;\n\nconst ImageUploader = (props) => {\n  const [file, setFile] = useState(null);\n  const [width, setWidth] = useState(0);\n  const [height, setHeight] = useState(0);\n  const [errMsg, setErrMsg] = useState('');\n  const [uploading, setUploading] = useState(false);\n\n  var btnText = 'Upload';\n  if (uploading) {\n    btnText = \"Uploading..\";\n  }\n  if (!uiConfig.isUsingLekhBackend()) {\n    btnText = \"Insert\";\n  }\n  var btnEnabled = true;\n  if (uploading || width == 0 || height == 0 || file == null || file.size > MaxSize) {\n    btnEnabled = false;\n  }\n  const onChange = (e) => {\n    var changedFile = e.target.files[0];\n    setFile(changedFile);\n    setWidth(0);\n    setHeight(0);\n    if (changedFile.size > MaxSize) {\n      setErrMsg('Must be less than 5M');\n    } else {\n      setErrMsg('');\n    }\n\n    var objectUrl = window.URL.createObjectURL(changedFile);\n    var img = new Image();\n    img.src = objectUrl;\n    img.onload = function() {\n      setWidth(img.width)\n      setHeight(img.height);\n      //window.URL.revokeObjectURL(objectUrl)\n      if (selectedImage != null) {\n        window.URL.revokeObjectURL(selectedImage.src);\n      }\n      selectedImage = img;\n    }\n  }\n\n  /*\n  const insertImage = () => {\n    var objectUrl = window.URL.createObjectURL(file);\n    var img = new Image();\n    img.src = objectUrl;\n    img.onload = function() {\n      window.Module.insertImage(img, props.at.x, props.at.y, img.width, img.height);\n      window.URL.revokeObjectURL(objectUrl);\n      props.dialogHandler(null);\n      setTimeout(() => {\n        canvas.draw();\n      }, 1);\n    }\n  }\n  */\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    props.cb.exec(false, selectedImage);\n    props.dialogHandler(null);\n\n    /*\n    \n    if (!uiConfig.isUsingLekhBackend()) {\n      insertImage();\n      return;\n    }\n\n    const dataArray = new FormData();\n    dataArray.append(\"data\", file);\n    dataArray.append(\"type\", 'image');\n    dataArray.append(\"scope\", docInfo.docid);\n\n    setUploading(true);\n    ApiRequestWithToken()\n      .post(constant.baseUrl + \"/v1.1/resources/upload\", dataArray, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      })\n      .then((resp) => {\n        props.dialogHandler(null);\n        var url = 'res://' + resp.data.resid;\n        window.Module.inputReceiver().insertImageWithResource(url, {width:width, height: height}, props.at);\n        remoteResouceManager.addToResources(url, selectedImage);\n        canvas.draw();\n      })\n      .catch((err) => {\n          setErrMsg('Error in upload');\n          console.log(err);\n      });*/\n  };\n\n  const close = ()=> {\n      props.dialogHandler(null);\n  }\n\n  return (\n    <Dialog open={true} className=\"px-5\">\n        <div className=\"flex justify-between items-center my-2 px-2\">\n            <div />\n            <h4 className=\"text-center m-0\">Insert Image</h4>\n            <AiOutlineClose className=\"text-xl cursor-pointer\" onClick={close} />\n        </div>\n        <form\n            action=\"\"\n            className=\"\"\n            onSubmit={handleSubmit}\n        >\n            <input type='file' accept=\"image/*\" disabled={uploading} className=\"mx-3 mt-4\" onChange={onChange}/>\n            {errMsg && \n              <div className=\"mt-2 mx-3 text-red-600 text-sm\">\n                <label>{errMsg}</label>\n              </div>\n            }\n            <div className=\"flex mb-4 mt-5 mx-3\">\n                <div className=\"mr-4\"><Button variant=\"outlined\" onClick={close}>Cancel</Button></div>\n                <Button variant=\"outlined\" disabled={!btnEnabled} onClick={handleSubmit}>{btnText}</Button>\n            </div>\n        </form>\n    </Dialog>\n  );\n};\n\nexport default ImageUploader;\n","import util from './Util';\n\nvar keyboardInput = { \n    showingDialog: false\n};\n\nvar listeners = [];\nvar postListeners = [];\n\nconst isMac = navigator.userAgent.indexOf(\"OS X\") > 0;\n\nkeyboardInput.addListener = function(cb) {\n    listeners.push(cb);\n}\n\nkeyboardInput.removeListener = function(cb) {\n    for (var i = 0; i < listeners.length; i++) {\n        if (listeners[i] == cb) {\n            listeners.splice(i, 1);\n            return;\n        }\n    }\n}\n\nkeyboardInput.addPostListener = function(cb) {\n    postListeners.push(cb);\n}\n\nkeyboardInput.removePostListener = function(cb) {\n    for (var i = 0; i < postListeners.length; i++) {\n        if (postListeners[i] == cb) {\n            postListeners.splice(i, 1);\n            return;\n        }\n    }\n}\n\nkeyboardInput.handleKeyDown = function(event) {\n    for (let cb of listeners) {\n        if (cb(event)) {\n            return;\n        }\n    }\n\n    let cmd = window.Module.avabodh_lekh_app_Command_instance();\n    let CmdKey = window.Module.avabodh_lekh_event_CmdKey;\n    let Modifiers = window.Module.avabodh_lekh_event_Modifiers;\n    let key = event.key.toLowerCase();\n\n    if (key == 'backspace') {\n        cmd.executeKeys2(CmdKey.Delete, Modifiers.None);\n    } else if (key == 'delete') {\n        cmd.executeKeys2(CmdKey.Delete, Modifiers.None);\n    } else if (key == 'escape') {\n        cmd.executeKeys2(CmdKey.Escape, Modifiers.None);\n    } else if (key == 'enter') {\n        cmd.executeKeys2(CmdKey.Enter, Modifiers.None);\n    } else if (key == 'arrowright') {\n        cmd.executeKeys2(CmdKey.RightArrow, Modifiers.None);\n    } else if (key == 'arrowleft') {\n        cmd.executeKeys2(CmdKey.LeftArrow, Modifiers.None);\n    } else if (key == 'arrowup') {\n        cmd.executeKeys2(CmdKey.UpArrow, Modifiers.None);\n    } else if (key == 'arrowdown') {\n        cmd.executeKeys2(CmdKey.DownArrow, Modifiers.None);\n    } else {\n        let modVal = util.getModifiersFromEvent(event);\n        // convert Ctrl -> Meta\n        if ((modVal & 2) != 0 && !isMac) {\n            modVal &= ~2;\n            modVal |= 16;\n        }\n        let modifiers = new window.Module.avabodh_lekh_event_Modifiers()\n        modifiers.value = modVal;\n        cmd.executeKeys(key, modifiers);\n    }\n    event.preventDefault();\n\n    for (let cb of postListeners) {\n        cb(event);\n    }\n}\n\nkeyboardInput.attachEvents = function(canvasElement) {\n    canvasElement.addEventListener(\"keydown\", e => keyboardInput.handleKeyDown(e), false);\n}\n\nexport default keyboardInput;\n","import './ShapeProps.css'\n\nimport React from \"react\"\nimport Popper from '@material-ui/core/Popper';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener'\nimport keyboardInput from '../../common/KeyboardInput';\n\nconst getTopPlacement = (rect) => {\n    const getBoundingClientRect = () =>  {\n        return {\n            x: rect.x,\n            y: rect.y,\n            width:rect.width,\n            height: rect.height,\n            top: rect.y,\n            left: rect.x,\n            bottom: rect.y + rect.height,\n            right: rect.x + rect.width\n        }\n    }\n\n    var anchorEl = {\n        clientWidth: rect.width,\n        clientHeight: rect.height,\n        getBoundingClientRect,\n    }\n\n    return {anchorEl: anchorEl, placement: 'top'}\n}\n\nconst Help = (props) => {\n    const handleClickAway = () => {\n        props.showShapeHelp(null);\n    }\n\n    const handleKey = (event) => {\n        let key = event.key.toLowerCase();\n        if (key == 'escape') {\n            handleClickAway();\n            return true;\n        }\n        return false;\n    }\n\n    React.useEffect(() => {\n        keyboardInput.addListener(handleKey);\n        return () => {\n            keyboardInput.removeListener(handleKey);\n        }\n    }, [])\n\n    let rect = props.input.fromRect\n    rect.y -= 4;\n    let pos = getTopPlacement(rect);\n    let helpText = props.input.content;\n    helpText = helpText.replace(\" tap \", \" click \");\n\n    return (\n        <ClickAwayListener onClickAway={handleClickAway}>\n            <Popper open={true} {...pos}>\n                <div className=\"shape_help_paper\">\n                    {<div dangerouslySetInnerHTML={{ __html: helpText }} />}\n                </div>\n            </Popper>\n        </ClickAwayListener>\n    );\n}\n\nexport default Help;","import React from \"react\";\n\nconst InputField = ({\n  label,\n  type,\n  id,\n  name,\n  value,\n  handleChange,\n  placeholder,\n  pattern,\n  required,\n  error,\n  errorText,\n  readOnly\n}) => {\n  return (\n    <div className=\"flex  flex-col\">\n      {label ? (\n        <label\n          htmlFor={id}\n          className=\"text-prmDGrey mb-2 font-Poppins lg:text-lg\"\n        >\n          {label}\n        </label>\n      ) : (\n        <label\n          htmlFor=\"email\"\n          className=\"text-prmDGrey mb-2 font-Poppins lg:text-lg invisible\"\n        >\n          *****\n        </label>\n      )}\n      {error && (\n        <p className=\"font-italic text-red-400 my-0 mb-2 text-sm\">\n          {errorText}\n        </p>\n      )}\n      <input\n        type={type}\n        id={id}\n        placeholder={placeholder}\n        name={name}\n        value={value}\n        onChange={handleChange}\n        readOnly={readOnly}\n        pattern={pattern}\n        required={required}\n        className={`${\n          readOnly ? \"cursor-not-allowed bg-gray-100\" : \"\"\n        }   \"lg:text-lg outline-none text-prmDGrey border border-1 border-prmLGrey px-3 py-1.5 mb-5 font-Poppins \"`}\n      />\n    </div>\n  );\n};\n\nexport default InputField;\n","import React from \"react\"\n\nconst MiniLoader = () => {\n  return <div className=\"loading-spinner\"></div>\n}\n\nexport default MiniLoader\n","import useSWR from \"swr\"\nimport { fetcher } from \"../utils/ApiRequests\"\n\nconst useFetch = url => {\n  const { data, error } = useSWR(url, fetcher)\n\n  return { data, loading: !error && !data, error }\n}\n\nexport default useFetch\n","import qs from 'qs';\nimport { getDocs, getDoc, deleteDoc, createNew, duplicateDoc } from \"./ApiRequests\";\nimport EventListener from './EventListener'\n\nvar nextToken = null;\n\nvar docsManager = {\n  state: \"loading\",\n  parent: null,\n  search: null,\n  order: null,\n  orderBy: null,\n  docs: [],\n  path: [],\n  mode: 'mydocs',\n  event: new EventListener(),\n};\n\ndocsManager.setPath = (path) => {\n  var arr = path.split('/');\n  if (arr.length % 2 != 0) {\n    return;\n  }\n\n  docsManager.path = [];\n  docsManager.parent = null;\n\n  for (let i = 0; i < arr.length; i+= 2) {\n    var obj = {docid: arr[i], name: arr[i + 1]}\n    docsManager.path.push(obj);\n  }\n  if (docsManager.path.length > 0) {\n    docsManager.parent = docsManager.path[docsManager.path.length - 1].docid;\n  } else {\n    docsManager.parent = null;\n  }\n}\n\ndocsManager.serializePath = () => {\n  var path = '';\n  for(let item of docsManager.path) {\n    if (path != '') {\n      path += '/';\n    }\n    path += item.docid + '/' + item.name;\n  }\n  return encodeURIComponent(path);\n}\n\ndocsManager.setRoute = (route, qparam) => {\n  if (route == '/docs/mydocs') {\n    docsManager.mode = 'mydocs';\n  } else if (route == '/docs/shared') {\n    docsManager.mode = 'shared';\n  } else if (route == '/docs/search') {\n    docsManager.mode = 'search';\n  } else {\n    return;\n  }\n  docsManager.reset();\n  var qpath = qs.parse(qparam, { ignoreQueryPrefix: true }).path;\n  if (qpath) {\n    docsManager.setPath(qpath);\n  }\n  var qsearch = qs.parse(qparam, { ignoreQueryPrefix: true }).search;\n  if (qsearch) {\n    docsManager.search = qsearch;\n  }\n}\n\ndocsManager.getRoute = () => {\n  var qs = docsManager.serializePath();\n  var path = '/docs/' + docsManager.mode;\n  var arr = []\n  if (qs != '') {\n    arr.push('path=' + qs);\n  } \n  if (docsManager.mode == 'search' && docsManager.search) {\n    arr.push('search=' + encodeURIComponent(docsManager.search));\n  }\n\n  if (arr.length > 0) {\n    path += '?' + arr.join('&');\n  }\n  return path;\n}\n\ndocsManager.setSearchMode = (searchTerm) => {\n    if (docsManager.mode == 'search') {\n      docsManager.search = searchTerm;\n      return;\n    }\n    docsManager.reset();\n    docsManager.search = searchTerm;\n    docsManager.mode = 'search';\n}\n\ndocsManager.getRootName = () => {\n    if (docsManager.mode == 'shared') {\n        return 'Shared with me';\n    } else if (docsManager.mode == 'search') {\n        return 'Search';\n    } else {\n        return 'My Documents'\n    }\n}\n\ndocsManager.reset = () => {\n  docsManager.state = \"loading\";\n  docsManager.docs = [];\n  docsManager.parent = null;\n  docsManager.search = null;\n  docsManager.order = null;\n  docsManager.orderBy = null;\n  docsManager.path = [];\n  nextToken = null;\n};\n\ndocsManager.pushParent = function (parent) {\n  for (let item of docsManager.docs) {\n    if (item.docid == parent) {\n      docsManager.parent = parent;\n      docsManager.path.push(item);\n      docsManager.docs = [];\n      docsManager.state = 'loading';\n      break;\n    }\n  }\n};\n\ndocsManager.popParentTo = function (parent) {\n  docsManager.docs = [];\n  docsManager.state = 'loading';\n\n  if (!parent) {\n    docsManager.path = [];\n    docsManager.parent = null;\n    return;\n  }\n\n  while (docsManager.path.length > 0) {\n    let item = docsManager.path[docsManager.path.length - 1];\n    if (item.docid == parent) {\n        docsManager.parent = parent;\n        break;\n    }\n    docsManager.path.pop();\n  }\n};\n\ndocsManager.deleteDoc = async docid => {\n  await deleteDoc(docid);\n  await docsManager.reload();\n};\n\ndocsManager.canCreateNewDoc = () => {\n  return docsManager.mode == \"mydocs\" || docsManager.path.length > 0;\n}\n\ndocsManager.createDoc = async (parent, type, name) => {\n  await createNew({ parent: parent, type: type, name: name });\n  await docsManager.reload();\n};\n\ndocsManager.reload = async () => {\n  var qs = [];\n  if (docsManager.parent) {\n    qs.push(\"parent=\" + docsManager.parent);\n  }\n  if (docsManager.mode == 'search' && docsManager.search && !docsManager.parent) {\n    qs.push(\"search=\" + docsManager.search);\n  }\n  if (docsManager.order) {\n    qs.push(\"order=\" + docsManager.order);\n  }\n  if (docsManager.orderBy) {\n    qs.push(\"order_by=\" + docsManager.orderBy);\n  }\n  if (docsManager.mode == 'shared' && !docsManager.parent) {\n    qs.push(\"shared=true\");\n  }\n  var qstr = \"\";\n  if (qs.length > 0) {\n    qstr = \"?\" + qs.join(\"&\");\n  }\n\n  docsManager.state = \"loading\";\n  docsManager.event.trigger();\n  try {\n    var resp = await getDocs(qstr);\n    docsManager.docs = resp.data.docs;\n    docsManager.state = \"available\";\n  } catch (err) {\n    docsManager.state = \"error\";\n    console.log(err);\n  }\n  docsManager.event.trigger();\n};\n\ndocsManager.getADoc = async (docid) => {\n  var resp = await getDoc(docid);\n  return resp.data;\n}\n\ndocsManager.getFullPath = async (docid, root) => {\n  var arr = [];\n  var doc = null;\n  try {\n    doc = await docsManager.getADoc(docid);\n    arr.push({name: doc.name, docid: doc.docid});\n  } catch (err) {\n    console.log(err);\n  }\n\n  while (doc.parent != root) {\n    try {\n      doc = await docsManager.getADoc(doc.parent);\n      arr.unshift({name: doc.name, docid: doc.docid});\n    } catch(err) {\n      console.log(err);\n      break;\n    }\n  }\n  return arr;\n}\n\ndocsManager.get = async () => {\n  if (docsManager.state == \"available\") {\n    return;\n  }\n  docsManager.reload();\n};\n\ndocsManager.duplicate = async (docid) => {\n  await duplicateDoc(docid);\n}\n\ndocsManager.getChildFolders = async folderId => {\n  var docs = await docsManager.getChildItems(folderId);\n  var folders = [];\n  for (let item of docs) {\n    if (item.type == \"folder\") {\n      folders.push(item);\n    }\n  }\n  return folders;\n};\n\ndocsManager.getChildItems = async folderId => {\n  var qstr = \"?parent=\" + folderId;\n  var docs = [];\n  try {\n    var resp = await getDocs(qstr);\n    docs = resp.data.docs;\n  } catch (err) {\n    console.log(err);\n  }\n  return docs;\n};\n\nexport default docsManager;\n","import { AiOutlineClose } from \"react-icons/ai\";\nimport { Dialog } from \"@material-ui/core\";\nimport Select from \"react-select\";\nimport InputField from \"../InputField/InputField\";\nimport { useState } from \"react\";\nimport { deleteShare, shareDoc } from \"../../utils/ApiRequests\";\nimport MiniLoader from \"../Loaders/MiniLoader\";\nimport { toast } from \"react-toastify\";\nimport { HiInformationCircle } from \"react-icons/hi\";\nimport useFetch from \"../../hooks/useFetch\";\nimport { IoMdMail } from \"react-icons/io\";\nimport { mutate } from \"swr\";\nimport { BiArrowBack } from \"react-icons/bi\";\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\nimport docsManager from \"../../utils/DocsManager\";\nimport { useEffect } from \"react\";\n\nconst ShareModal = ({ state, close, doc }) => {\n  const id = doc.docid;\n  const [email, setEmail] = useState(\"\");\n  const [type, setType] = useState(\"private\");\n  const [access, setAccess] = useState(\"read\");\n  const [loading, setLoading] = useState(false);\n  const [viewShares, setViewShares] = useState(false);\n  const { data, loading: fetch } = useFetch(id ? `/v1.1/docs/${id}/share` : \"\");\n  const [copied, setCopied] = useState(false);\n  const [success, setSuccess] = useState(false);\n  const [error, setError] = useState(null);\n  const options = [\n    { value: \"private\", label: \"Private\" },\n    { value: \"public\", label: \"Public\" }\n  ];\n  const accessOptions = [\n    { value: \"read\", label: \"Read\" },\n    { value: \"write\", label: \"Write\" }\n  ];\n\n  useEffect(() => {\n    setEmail(\"\");\n    setType(\"private\");\n    setAccess(\"read\");\n    setCopied(false);\n    setError(null);\n    setSuccess(false);\n  }, [close]);\n\n  // const handleKeyDown = event => {\n  //   console.log(event.key);\n  //   // if (event.key.toLowerCase() == \"esc\") {\n  //   //   close();\n  //   // }\n  // };\n\n  // useEffect(() => {\n  //   document.addEventListener(\"keydown\", handleKeyDown);\n\n  //   return () => {\n  //     document.removeEventListener(\"keydown\", handleKeyDown);\n  //   };\n  //   // eslint-disable-next-line react-hooks/exhaustive-deps\n  // }, []);\n\n  var docUrl = window.origin + \"/?docid=\" + id;\n  if (doc.type == \"folder\") {\n    docUrl =\n      window.origin +\n      \"/#/docs/shared?path=\" +\n      encodeURIComponent(id + \"/\" + doc.name);\n  }\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const privateForm = {\n      email: email,\n      type: access\n    };\n    setLoading(true);\n    setError(null);\n    shareDoc(id, type === \"private\" ? privateForm : { type: access })\n      .then(res => {\n        mutate(`/v1.1/docs/${id}/share`);\n        setViewShares(true);\n        setError(null);\n        setSuccess(true);\n      })\n      .catch(err => {\n        if (\n          err?.response?.data?.code == \"already_has_permission\" ||\n          err?.response?.data?.code == \"already_has_folder_permission\"\n        ) {\n          setError(\"User already has access\");\n        }\n\n        if (err?.response?.data?.code == \"user_not_found\") {\n          setError(\"User with the given email not found\");\n        }\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  };\n\n  return (\n    <Dialog open={state} className=\"px-5\" aria-labelledby=\"Share\">\n      <div className={`py-4 w-64 lg:w-96 bg-white`}>\n        {!viewShares && (\n          <form onSubmit={handleSubmit}>\n            <div className=\"px-3 flex justify-between items-center mb-3\">\n              <div />\n              <h4 className=\"text-center m-0 text-lg\">Share</h4>\n\n              <AiOutlineClose\n                className=\"text-xl cursor-pointer\"\n                onClick={() => {\n                  if (success === true) {\n                    docsManager.reload();\n                    close();\n                  }\n                  close();\n                }}\n              />\n            </div>\n\n            <hr />\n            <div className=\"px-5 mt-1\">\n              <Select\n                options={\n                  doc.type == \"folder\"\n                    ? [{ value: \"private\", label: \"Private\" }]\n                    : options\n                }\n                className=\"mb-3\"\n                onChange={e => setType(e.value)}\n                placeholder=\"Private\"\n                defaultValue=\"private\"\n              />\n\n              <p className=\"m-0 mb-1 font-medium\">Access Level</p>\n              <Select\n                options={accessOptions}\n                className=\"mb-3\"\n                onChange={e => setAccess(e.value)}\n                defaultValue=\"read\"\n                placeholder=\"Read\"\n              />\n\n              {type === \"public\" && (\n                <CopyToClipboard text={docUrl} onCopy={() => setCopied(true)}>\n                  <div className=\"copy-grid gap-3 items-center w-full\">\n                    <div className=\"-mt-4\">\n                      <InputField required={true} value={docUrl} readOnly />\n                      {/* <span className=\"-mb-2\">Copied</span> */}\n                    </div>\n\n                    <span className=\"text-white font-medium text-center text-sm block py-1 bg-blue-500 cursor-pointer outline-none border-none border-0 \">\n                      Copy\n                    </span>\n                  </div>\n                </CopyToClipboard>\n              )}\n              {copied && <span className=\"-mt-3 block italic\">Copied</span>}\n\n              {type === \"private\" && (\n                <>\n                  <InputField\n                    label=\"Email\"\n                    required={true}\n                    type=\"email\"\n                    placeholder=\"Email\"\n                    handleChange={e => setEmail(e.target.value)}\n                    value={email}\n                  />\n                  {error && !loading && (\n                    <span className=\"-mt-3 block italic text-red-500 text-sm\">\n                      {error}\n                    </span>\n                  )}\n                </>\n              )}\n              <div className=\"mt-3\">\n                {loading ? (\n                  <MiniLoader />\n                ) : (\n                  <div className=\"flex items-center justify-between\">\n                    <p\n                      className=\"m-0 cursor-pointer italic flex items-center space-x-1 \"\n                      onClick={() => setViewShares(true)}\n                    >\n                      <HiInformationCircle className=\"m-0 text-lg\" />\n                      <span>View Shares</span>\n                    </p>\n\n                    <button\n                      type=\"submit\"\n                      className=\"text-white font-medium lg:text-lg px-3 py-1 bg-lkhRed outline-none border-none border-0 \"\n                    >\n                      Share\n                    </button>\n                  </div>\n                )}\n              </div>\n            </div>\n          </form>\n        )}\n        {viewShares && (\n          <div>\n            <div className=\"px-5 flex justify-between items-center mb-3\">\n              <BiArrowBack\n                className=\"text-xl cursor-pointer\"\n                onClick={() => {\n                  setViewShares(false);\n                }}\n              />\n\n              <h4 className=\"text-center m-0 text-lg\">Shares</h4>\n\n              <AiOutlineClose\n                className=\"text-xl cursor-pointer\"\n                onClick={() => {\n                  if (success === true) {\n                    docsManager.reload();\n                    close();\n                  }\n                  close();\n                }}\n              />\n            </div>\n            <hr />\n\n            {fetch && <MiniLoader />}\n\n            {!data?.shares?.length && !fetch && (\n              <p className=\"text-center\">No shares yet</p>\n            )}\n\n            {!fetch &&\n              data?.shares.map((m, i) => (\n                <div className=\"share-grid mb-3 px-5 \" key={i}>\n                  <div className=\"flex items-center space-x-2\">\n                    <IoMdMail />\n                    <p className=\"truncate w-24 lg:w-44\">\n                      {m?.email || \"Public\"}\n                    </p>\n                  </div>\n\n                  <p className=\"m-0\">{m?.type}</p>\n\n                  <AiOutlineClose\n                    className=\"text-base cursor-pointer ml-auto\"\n                    onClick={() => {\n                      deleteShare(id, m?.email)\n                        .then(res => {\n                          mutate(`/v1.1/docs/${id}/share`);\n                        })\n                        .catch(err =>\n                          toast.error(err?.response?.data?.message)\n                        );\n                    }}\n                  />\n                </div>\n              ))}\n          </div>\n        )}\n      </div>\n    </Dialog>\n  );\n};\n\nexport default ShareModal;\n","var titles = {\n    'select-input-mode': [{\n            start: 0,\n            end: 3.8,\n            msg: 'Drag empty area to multi select'\n        },\n        {\n            start: 4.1,\n            end: 6,\n            msg: 'Clik a shape to select'\n        },\n        {\n            start: 6.1,\n            end: 9,\n            msg: 'Ctrl + Click shapes to multi select'\n        },\n        {\n            start: 10,\n            end: 14,\n            msg: 'Double click to add text'\n        },\n        {\n            start: 14.2,\n            end: 18,\n            msg: 'Two fingers drag to scroll'\n        },\n        {\n            start: 18.5,\n            end: 20,\n            msg: 'Mouse wheel to scroll'\n        },\n        {\n            start: 20,\n            end: 25,\n            msg: 'Ctrl + Mouse drag to scroll'\n        },\n        {\n            start: 25.1,\n            end: 30,\n            msg: 'Alt + Mouse drag to duplicate a shape'\n        }\n    ],\n    'smart-draw-mode': [{\n            start: 0,\n            end: 9,\n            msg: 'Drag to draw basic shapes'\n        },\n        {\n            start: 9.1,\n            end: 13,\n            msg: 'Double click to add text'\n        },\n        {\n            start: 13.1,\n            end: 15,\n            msg: 'Click a shape to select'\n        },\n        {\n            start: 15.1,\n            end: 17,\n            msg: 'Ctrl + Click shapes to multi select'\n        },\n        {\n            start: 18,\n            end: 24.8,\n            msg: 'Two fingers drag to scroll'\n        },\n        {\n            start: 25,\n            end: 27,\n            msg: 'Mouse wheel to scroll'\n        },\n        {\n            start: 27.1,\n            end: 31,\n            msg: 'Ctrl + Mouse drag to scroll'\n        }\n    ],\n    'scroll-input-mode': [{\n            start: 0,\n            end: 4,\n            msg: 'Drag to scroll'\n        }\n    ],\n    'draw-input-mode': [{\n            start: 0,\n            end: 10,\n            msg: 'Drag to draw'\n        },\n        {\n            start: 10.6,\n            end: 14,\n            msg: 'Two fingers drag to scroll'\n        },\n        {\n            start: 14.2,\n            end: 16,\n            msg: 'Mouse wheel to scroll'\n        },\n        {\n            start: 16.1,\n            end: 19,\n            msg: 'Ctrl + Mouse drag to scroll'\n        }\n    ],\n    'erase-input-mode': [{\n            start: 0,\n            end: 3.9,\n            msg: 'Drag to erase'\n        },\n        {\n            start: 4,\n            end: 6.2,\n            msg: 'Two fingers drag to scroll'\n        },\n        {\n            start: 6.3,\n            end: 9,\n            msg: 'Mouse wheel to scroll'\n        },\n        {\n            start: 9.1,\n            end: 12,\n            msg: 'Ctrl + Mouse drag to scroll'\n        }\n    ],\n    'text-input-mode': [{\n            start: 0,\n            end: 4,\n            msg: 'Click to add text'\n        }\n    ],\n    'drawing_connection': [{\n            start: 0,\n            end: 28,\n            msg: 'Draw connection lines in different ways'\n        },\n        {\n            start: 28.1,\n            end: 33,\n            msg: 'Draw and erase arrows'\n        },\n        {\n            start: 33.1,\n            end: 50,\n            msg: 'Customize connection lines'\n        },\n        {\n            start: 50.1,\n            end: 55,\n            msg: 'Double click to add text on connection'\n        },\n        {\n            start: 55.1,\n            end: 60,\n            msg: 'Move the text on connection line while connection is selected'\n        },\n        {\n            start: 60,\n            end: 80,\n            msg: 'Change arrows using selection menu'\n        }\n    ],\n    'drawing_polygon': [{\n            start: 0,\n            end: 22.5,\n            msg: 'Draw shapes'\n        },\n        {\n            start: 22.6,\n            end: 28,\n            msg: 'Draw connections'\n        },\n        {\n            start: 28.1,\n            end: 35,\n            msg: 'Select and move a shape to align'\n        },\n        {\n            start: 35.1,\n            end: 42,\n            msg: 'Double click to add text'\n        },\n        {\n            start: 42.1,\n            end: 56,\n            msg: 'Erase and redraw arrows on connectors'\n        },\n        {\n            start: 56.1,\n            end: 64,\n            msg: 'Double click on connectors to add text'\n        },\n        {\n            start: 64.1,\n            end: 70,\n            msg: 'Use selection menu to set fill or line colors'\n        }\n    ],\n    'drawing_path': [{\n            start: 0,\n            end: 7,\n            msg: 'Draw line, polyline and curves'\n        },\n        {\n            start: 7.1,\n            end: 12.5,\n            msg: 'Draw line, multiline or curve connectors'\n        },\n        {\n            start: 12.6,\n            end: 26,\n            msg: 'Click on the end points (black/blue circles) and drag to move them'\n        },\n        {\n            start: 26.1,\n            end: 35,\n            msg: 'Draw and erase arrows on lines, curves and connectors'\n        },\n    ],\n    'selection_menu_path': [{\n            start: 0,\n            end: 16,\n            msg: 'Click on the end points (black/blue circles) and drag to move them'\n        },\n        {\n            start: 16.1,\n            end: 25,\n            msg: 'Change line color and styles using selection menu'\n        },\n        {\n            start: 25.1,\n            end: 34,\n            msg: 'Resize and rotate by dragging the corners of selection rectangle'\n        },\n        {\n            start: 34.1,\n            end: 47,\n            msg: 'Change arrows at the end point of lines and curves'\n        }\n    ],\n    'selection_menu_generic': [{\n            start: 0,\n            end: 8,\n            msg: 'Double click to add text'\n        },\n        {\n            start: 8.1,\n            end: 28,\n            msg: 'Use selection menu to change fill color, line and text style'\n        },\n        {\n            start: 28.1,\n            end: 37,\n            msg: 'Drag selection rectangle corners to resize and rotate'\n        },\n        {\n            start: 37.1,\n            end: 42,\n            msg: 'Use selection menu to duplicate shapes'\n        }\n    ],\n    'selection_menu_multiselected': [{\n            start: 0,\n            end: 8,\n            msg: 'Change fill color and line color using selection menu'\n        },\n        {\n            start: 8.1,\n            end: 10,\n            msg: 'Use selection menu to group selected shapes'\n        },\n        {\n            start: 10.1,\n            end: 19,\n            msg: 'Drag corners of selection to resize and rotate the grouped shape'\n        },\n        {\n            start: 19.1,\n            end: 22,\n            msg: 'Use selection menu to un-group the grouped shape'\n        }\n    ],\n    'selection_menu_connection': [{\n            start: 0,\n            end: 7,\n            msg: 'Draw and erase arrows at the end of connection lines'\n        },\n        {\n            start: 7,\n            end: 11,\n            msg: 'Double click to add text on connection lines'\n        },\n        {\n            start: 11,\n            end: 16,\n            msg: 'Move the text on connection line while connector is selected'\n        },\n        {\n            start: 16,\n            end: 30,\n            msg: 'Customize connection lines by moving end points'\n        },\n        {\n            start: 30,\n            end: 42,\n            msg: 'Change arrows using selection menu'\n        },\n        {\n            start: 42,\n            end: 46,\n            msg: 'Swap arrows'\n        }\n    ]\n}\n\nexport default titles;","import './CHelp.css'\n\nimport React from 'react'\nimport { Dialog } from \"@material-ui/core\";\nimport { AiOutlineClose } from \"react-icons/ai\"\nimport titles from './Captions';\n\nconst startCaption = (name, vid, spanElement) => {\n    let curTitles = titles[name];\n    let idx = 0;\n    let showingIndex = -1;\n\n    function updateCaption() {\n        while (idx < curTitles.length) {\n            if (vid.currentTime < curTitles[idx].start) {\n                return;\n            } else if (vid.currentTime >= curTitles[idx].end) {\n                removeCaption();\n                idx++;\n            } else {\n                updateForIndex(idx);\n                break;\n            }\n        }\n    }\n\n    function removeCaption() {\n        showingIndex = -1;\n        spanElement.innerHTML = \"&nbsp;\";\n    }\n\n    function updateForIndex(index) {\n        if (index == showingIndex) {\n            return;\n        }\n        showingIndex = index;\n        var msg = curTitles[index].msg;\n        const isMac = navigator.userAgent.indexOf(\"OS X\") > 0;\n        if (isMac) {\n            msg = msg.replace('Ctrl +', 'Cmd +')\n        }\n        spanElement.innerHTML = msg;\n    }\n\n    vid.addEventListener('loadeddata', function() {\n        //vid.textTracks[0].mode = \"showing\";\n        window.setTimeout(function() {\n            if (vid.paused) {\n                //vid.setAttribute(\"controls\", \"controls\");\n                vid.play();\n            }\n        }, 2000);\n    });\n\n    vid.addEventListener('timeupdate', function() {\n        updateCaption();\n    });\n\n    vid.addEventListener('ended', function () {\n        idx = 0;\n        this.play();\n    })\n}\n\nconst checkAndStartCaption = (name) => {\n    var vid = document.getElementById(\"tip_video\");\n    var span = document.getElementById(\"caption_text\");\n    if (vid == null || span == null) {\n        setTimeout(()=> {\n            checkAndStartCaption(name);\n        }, 10);\n        return;\n    }\n    window.setTimeout(()=> {\n        if (vid != null && vid.paused) {\n            vid.setAttribute(\"controls\", \"controls\")\n        }\n    }, 200);\n    startCaption(name, vid, span);\n}\n\nconst ContextHelp = (props) => {\n    let close = () => {\n        props.showDialog(null);\n    }\n\n    React.useEffect(() => {\n        checkAndStartCaption(props.name);\n    }, [])\n\n    let src = \"a1/videos/cs/\" + props.name + \".mp4\";\n    return <Dialog onClose={close} open={true}>\n        <div className=\"tip_container\">\n            <div className=\"tip_header\">\n                <span className=\"tip_title\">{props.title}</span>\n                <AiOutlineClose className=\"tip_close\" onClick={close}></AiOutlineClose>\n            </div>\n            <div className=\"vid_container\">\n                <span className=\"caption_text\" id=\"caption_text\">&nbsp;</span>\n                <video id=\"tip_video\" className=\"tip_video\" autoPlay muted playsInline>\n                    <source src={src} type=\"video/mp4\" />\n                </video>\n            </div>\n        </div>\n    </Dialog>\n}\n\nexport default ContextHelp;","import $ from 'jquery';\nimport EventListener from '../../utils/EventListener';\nimport { JSDrawingPlatform } from '../../common/Platform';\nimport ImageUploader from '../ImageUploader/ImageUploader';\nimport { Dialog } from \"@material-ui/core\";\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport React, {useState} from \"react\";\nimport Help from './ShapeHelp';\nimport ShareModal from '../DashboardItems/ShareModal';\nimport ContextHelp from '../ContextHelp/ContextHelp';\n\nconst isDarkMode = () => {\n    if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {\n        return true;\n    }\n    return false;\n}\n\nconst InputDialog = ({input, accept, cancel}) => {\n    const [value, setValue] = useState(input.value);\n    var okDisabled = input.allowEmpty? false : value.trim() == '';\n    return (\n    <Dialog onClose={cancel} aria-labelledby=\"simple-dialog-title\" open={true} style={{zIndex:1550}}>\n        <DialogTitle id=\"simple-dialog-title\">{input.title}</DialogTitle>\n        <DialogContent>\n            <div>{input.message}</div><br/>\n            <TextField\n                autoFocus\n                margin=\"dense\"\n                id=\"name\"\n                fullWidth\n                variant=\"outlined\"\n                value={value}\n                onChange={(e) => setValue(e.target.value)}\n            />\n        </DialogContent>\n        <DialogActions>\n            <Button onClick={cancel}>{input.cancelText}</Button>\n            <Button onClick={()=> {accept(value)}} disabled={okDisabled}>{input.okText}</Button>\n        </DialogActions>\n    </Dialog>\n    );\n};\n\nconst showInputDialog = (input, cb) => {\n    let types = window.Module.avabodh_lekh_DialogResponse_Type;\n    let cancel = () => {\n        viewPort.showDialog(null);\n        cb.exec({type: types.Cancelled, value: ''});\n    }\n    let accept = (value) => {\n        viewPort.showDialog(null);\n        cb.exec({type: types.Accepted, value: value});\n    }\n    let dialog = <InputDialog input={input} accept={accept} cancel={cancel} />;\n    viewPort.showDialog(dialog);\n}\n\nconst showOkCancel = (title, msg, okText, cancelText, cb) => {\n    let types = window.Module.avabodh_lekh_DialogResponse_Type;\n    let cancel = () => {\n        viewPort.showDialog(null);\n        cb.exec({type: types.Cancelled, value: ''});\n    }\n    let accept = () => {\n        viewPort.showDialog(null);\n        cb.exec({type: types.Accepted, value: ''});\n    }\n    let dialog = <Dialog onClose={cancel} aria-labelledby=\"simple-dialog-title\" open={true} style={{zIndex:1550}}>\n        <DialogTitle id=\"simple-dialog-title\">{title}</DialogTitle>\n        <DialogContent>\n            <div>{msg}</div>\n        </DialogContent>\n        <DialogActions>\n            <Button onClick={cancel}>{cancelText}</Button>\n            <Button onClick={accept}>{okText}</Button>\n        </DialogActions>\n    </Dialog>\n    viewPort.showDialog(dialog);\n}   \n\nconst showMsg = (title, msg, okText, cb) => {\n    if (!okText) {\n        okText = \"OK\";\n    }\n    let types = window.Module.avabodh_lekh_DialogResponse_Type;\n    let cancel = () => {\n        viewPort.showDialog(null);\n        cb.exec({type: types.Cancelled, value: ''});\n    }\n    let accept = () => {\n        viewPort.showDialog(null);\n        cb.exec({type: types.Accepted, value: ''});\n    }\n    let dialog = <Dialog onClose={cancel} aria-labelledby=\"simple-dialog-title\" open={true} style={{zIndex:1550}}>\n        <DialogTitle id=\"simple-dialog-title\">{title}</DialogTitle>\n        <DialogContent>\n            <div>{msg}</div>\n        </DialogContent>\n        <DialogActions>\n            <Button onClick={accept}>{okText}</Button>\n        </DialogActions>\n    </Dialog>\n    viewPort.showDialog(dialog);\n}\n\nclass ViewPort {\n    constructor() {\n        this.resizeListener = new EventListener();\n\n        this.grid = null;\n        this.draw = null;\n        this.middle = null;\n        this.ui = null;\n                \n        this.gridDp = null;\n        this.drawDp = null;\n        this.middleDp = null;\n        this.uiDp = null;\n\n        this.gridNeedsUpdate = false;\n        this.drawNeedsUpdate = false;\n        this.middleNeedsUpdate = false;\n        this.uiNeedsUpdate = false;\n\n        this.hostEnv = null;\n        this.lekhCore = null;\n\n        this.canvasTypeEnum = null;\n\n        this.showDialog = null;\n        this.showShapeHelp = null;\n        this.showAirGesture = null;\n    }\n\n    attachResizerHandler() {\n        let self = this;\n        $(window).on(\"resize\", function (evt) {\n            self.onResize();\n            self.resizeListener.trigger(evt);\n        });\n    }\n\n    attachScreenModeHandler() {\n        let self = this;\n        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {\n            self.reactTo(window.Module.avabodh_lekh_ReactParam.ConfigChange);\n        });        \n    }\n\n    onResize() {\n        let dc = document.getElementById(\"drawContent\");\n        let rect = dc.getBoundingClientRect();\n        this.fixCanvas(this.middle, rect.width, rect.height);\n        this.fixCanvas(this.ui, rect.width, rect.height);\n        this.hostEnv.setScreenSize({width: rect.width, height: rect.height});\n        this.drawCanvas(this.canvasTypeEnum.Middle);\n        this.drawCanvas(this.canvasTypeEnum.UI);\n    }\n\n    fixCanvas(cnv, width, height) {\n        var dpr = window.devicePixelRatio || 1;\n        cnv.width = width * dpr;\n        cnv.height = height * dpr;\n        cnv.style.width = width + \"px\";\n        cnv.style.height = height + \"px\";\n        var ctx = cnv.getContext(\"2d\");\n        ctx.scale(dpr, dpr);\n    }\n\n    setCanvasSize(left, top, width, height) {\n        this.fixCanvas(this.grid, width, height);\n        this.fixCanvas(this.draw, width, height);\n\n        this.grid.style.left = left + 'px';\n        this.grid.style.top = top + 'px';\n\n        this.draw.style.left = left + 'px';\n        this.draw.style.top = top + 'px';\n    }\n\n    measureText(lines, font, fontSize) {\n        let sz = { width: 0, height: 0 };\n        let ctx = this.drawDp.ctx;\n        \n        ctx.save();\n\n        ctx.font = font;\n        for(let i = 0; i < lines.size(); i++) {\n            let str = lines.get(i);\n            let metrics = ctx.measureText(str);\n            if (sz.width < metrics.width) {\n                sz.width = metrics.width;\n            }\n            sz.height += fontSize;\n        }\n\n        ctx.restore();\n\n        return sz;\n    }\n\n    init() {\n        this.hostEnv = window.Module.avabodh_lekh_app_HostEnv_instance();\n        this.lekhCore = window.Module.avabodh_lekh_app_LekhCore_instance();\n        this.canvasTypeEnum = window.Module.avabodh_lekh_CanvasType;\n\n        this.grid = document.getElementById(\"gridCanvas\");\n        this.draw = document.getElementById(\"drawCanvas\");\n        this.middle = document.getElementById(\"middleCanvas\");\n        this.ui = document.getElementById(\"uiCanvas\");\n\n        this.gridDp = new JSDrawingPlatform();\n        this.gridDp.init();\n        this.gridDp.ctx = this.grid.getContext('2d');\n\n        this.drawDp = new JSDrawingPlatform();\n        this.drawDp.init();\n        this.drawDp.ctx = this.draw.getContext('2d');\n\n        this.middleDp = new JSDrawingPlatform();\n        this.middleDp.init();\n        this.middleDp.ctx = this.middle.getContext('2d');\n\n        this.uiDp = new JSDrawingPlatform();\n        this.uiDp.init();\n        this.uiDp.ctx = this.ui.getContext('2d');\n\n        var rect = this.ui.getBoundingClientRect();\n\n        this.fixCanvas(this.grid, rect.width, rect.height);\n        this.fixCanvas(this.draw, rect.width, rect.height);\n        this.fixCanvas(this.middle, rect.width, rect.height);\n        this.fixCanvas(this.ui, rect.width, rect.height);\n\n        this.attachResizerHandler();\n        this.attachScreenModeHandler();\n        this.onResize();\n        \n        this.reactTo(window.Module.avabodh_lekh_ReactParam.ConfigChange);\n    }\n\n    initUI(initial) {\n        this.lekhCore.initUI(initial);\n    }\n\n    drawCanvas(type) {\n        let self = this;\n\n        if (type == this.canvasTypeEnum.Grid) {\n            if (!this.gridNeedsUpdate) {\n                this.gridNeedsUpdate = true;\n                requestAnimationFrame(()=> {\n                    self.gridNeedsUpdate = false;\n                    self.gridDp.ctx = self.grid.getContext('2d');\n                    self.gridDp.ctx.clearRect(0, 0, self.grid.width, self.grid.height);\n                    self.lekhCore.draw(self.gridDp.cppObj, type);\n                });\n            }\n        } else if (type == this.canvasTypeEnum.Drawing) {\n            if (!this.drawNeedsUpdate) {\n                this.drawNeedsUpdate = true;\n                requestAnimationFrame(()=> {\n                    self.drawNeedsUpdate = false;\n                    self.drawDp.ctx = self.draw.getContext('2d');\n                    self.drawDp.ctx.clearRect(0, 0, self.draw.width, self.draw.height);\n                    self.lekhCore.draw(self.drawDp.cppObj, type);\n                });\n            }\n        } else if (type == this.canvasTypeEnum.Middle) {\n            if (!this.middleNeedsUpdate) {\n                this.middleNeedsUpdate = true;\n                requestAnimationFrame(()=> {\n                    self.middleNeedsUpdate = false;\n                    self.middleDp.ctx = self.middle.getContext('2d');\n                    self.middleDp.ctx.clearRect(0, 0, self.middle.width, self.middle.height);\n                    self.lekhCore.draw(self.middleDp.cppObj, type);\n                });\n            }\n        } else if (type == this.canvasTypeEnum.UI) {\n            if (!this.uiNeedsUpdate) {\n                this.uiNeedsUpdate = true;\n                requestAnimationFrame(()=> {\n                    self.uiNeedsUpdate = false;\n                    self.uiDp.ctx = self.ui.getContext('2d');\n                    self.uiDp.ctx.clearRect(0, 0, self.ui.width, self.ui.height);\n                    self.lekhCore.draw(self.uiDp.cppObj, type);\n                });\n            }\n        }\n    }\n\n    setPointerIconType(type) {\n        if (this.ui == null) {\n            return;\n        }\n        let pointers = window.Module.avabodh_lekh_PointerIconType;\n        if (type == pointers.Action) {\n            this.ui.style.cursor = 'pointer';\n        } else if (type == pointers.Draw) {\n            this.ui.style.cursor = 'url(\"pen-solid.svg\") 0 20, auto';\n        } else if (type == pointers.Scroll) {\n            this.ui.style.cursor = 'grab';\n        } else if (type == pointers.Text) {\n            this.ui.style.cursor = 'url(\"title_black.svg\") 10 10, auto';\n        } else if (type == pointers.Laser) {\n            this.ui.style.cursor = 'url(\"red_circle.svg\") 10 10, auto';\n        } else if (type == pointers.Erase) {\n            this.ui.style.cursor = 'url(\"eraser-solid.svg\") 10 10, auto';\n        } else {\n            this.ui.style.cursor = 'auto';\n        }\n    }\n\n    pickImage(cb) {\n        this.showDialog(<ImageUploader dialogHandler={this.showDialog} at={{x: 0, y: 0}} cb={cb} />)\n    }\n\n    openDialog(input, cb) {\n        let types = window.Module.avabodh_lekh_DialogInput_Type;\n        if (input.type == types.OkCancel) {\n            showOkCancel(input.title, input.message, input.okText, input.cancelText, cb);\n        } else if (input.type == types.TextInput) {\n            showInputDialog(input, cb);\n        } else {\n            showMsg(input.title, input.message, input.okText, cb);\n        }\n    }\n\n    openView(input, cb) {\n        let types = window.Module.avabodh_lekh_OpenViewInput_Type;\n        let dirs = window.Module.avabodh_lekh_OpenViewInput_PopuDir;\n\n        if (input.type == types.Popup) {\n            if (input.arg == \"contact\") {\n                window.open(\"https://lekh.app/contact.html\", '_blank').focus();\n            } else if (input.arg == \"share\") {\n                let doc = this.lekhCore.coreIO().currentlyOpenedRemoteDoc();\n                let modal = <ShareModal state={true} close={() => this.showDialog(null)} doc={doc} />;\n                this.showDialog(modal);\n            } else if (input.arg == \"main_help\") {\n                let content = '';\n                if (!!input.content) {\n                    content = '#' + input.content;\n                }\n                window.open(\"https://lekh.app/help/board.html\" + content, '_blank').focus();\n            } else if (input.arg == \"platform_info\") {\n                window.open(\"https://lekh.app/help/about.html\", '_blank').focus();\n            } else if (input.arg.startsWith(\"context_info\")) {\n                let modal = <ContextHelp showDialog={this.showDialog} name={input.content} title={input.title}/>;\n                this.showDialog(modal);\n            }\n        } else if (input.type == types.HTMLContent) {\n            if (input.arg == \"shape_help\") {\n                let popup = <Help input={input} showShapeHelp={this.showShapeHelp} />\n                this.showShapeHelp(popup);\n            }\n        }\n    }\n\n    reactTo(param) {\n        if (param == window.Module.avabodh_lekh_ReactParam.AirGesture) {\n            this.showAirGesture(true);\n            return;\n        }\n\n        if (param == window.Module.avabodh_lekh_ReactParam.PageReload) {\n            window.location.reload();\n            return;\n        }\n\n        if (param != window.Module.avabodh_lekh_ReactParam.ConfigChange) {\n            return;\n        }\n        let isDark = false;\n        let hostEnv = window.Module.avabodh_lekh_app_HostEnv_instance();\n\n        if (hostEnv.getBrightnessConfig() == 1) {\n            isDark = false;\n        } else if (hostEnv.getBrightnessConfig() == 2) {\n            isDark = true;\n        } else {\n            isDark = isDarkMode();\n        }\n\n        let dc = document.getElementById('drawContent');\n        if (!dc) {\n            return;\n        }\n\n        if (isDark) {\n            hostEnv.setBrightnessMode(window.Module.avabodh_lekh_app_HostEnv_BrightnessMode.Dark);\n            dc.style.background = '#000000';\n        } else {\n            hostEnv.setBrightnessMode(window.Module.avabodh_lekh_app_HostEnv_BrightnessMode.Light);\n            dc.style.background = '#f2f2f7';\n        }\n    }\n}\n\nconst viewPort = new ViewPort()\n\nexport default viewPort;\n","import util from \"./Util\";\nvar mouseInput = { };\n\nvar downCount = 0;\nvar mod = null;\nvar hostEnv = null;\n\nconst eventPointsFromEvent = (e, state) => {\n  let list = new mod.List_avabodh_lekh_event_EventPoint();\n  let btn = mod.avabodh_lekh_event_MouseButton.Left;\n  if (e.button == 0) {\n    btn = mod.avabodh_lekh_event_MouseButton.Left;\n  } else if (e.button == 1) {\n    btn = mod.avabodh_lekh_event_MouseButton.Middle;\n  } else if (e.button == 2) {\n    btn = mod.avabodh_lekh_event_MouseButton.Right;\n  } else if (e.button == 3) {\n    btn = mod.avabodh_lekh_event_MouseButton.Back;\n  }\n  if (downCount == 0 && state == mod.avabodh_lekh_event_EventPointState.Move) {\n    btn = mod.avabodh_lekh_event_MouseButton.None;\n  }\n  let pt = {\n    x: e.offsetX,\n    y: e.offsetY,\n    pointerId: -1,\n    state: state,\n    pressure: 0,\n    altitude:0,\n    azimuth: 0,\n    timestamp: 0,\n    pointerType: mod.avabodh_lekh_event_PointerType.Mouse,\n    button: btn,\n    flag: mod.avabodh_lekh_event_EventPoint_Flag.None\n  };\n  list.push_back(pt);\n  return list;\n}\n\nmouseInput.attachEvents = function(canvasElement) {\n    mod = window.Module;\n    hostEnv = mod.avabodh_lekh_app_HostEnv_instance();\n\n    canvasElement.addEventListener('wheel', (e) => {\n        e.preventDefault();\n        let se = new mod.avabodh_lekh_event_ScrollEvent();\n        se.setDelta(-e.deltaX, -e.deltaY);\n        se.setType(mod.avabodh_lekh_event_ScrollEvent_Type.Generic);\n        se.setLocation({x: e.offsetX, y: e.offsetY});\n        se.setHasValidLocation(true);\n        util.setModifiersFromEvent(e, se);\n        hostEnv.onScrollEvent(se);\n    });\n  \n    window.bean.on(canvasElement, 'click', function (e) {\n        e.preventDefault();\n    });\n  \n    window.bean.on(canvasElement, 'mousedown', function (e) {\n      downCount++;\n      let pe = new mod.avabodh_lekh_event_PointerEvent();\n      let pts = eventPointsFromEvent(e, mod.avabodh_lekh_event_EventPointState.Down);\n      pe.setPoints(pts);\n      util.setModifiersFromEvent(e, pe);\n      hostEnv.onPointerEvent(pe);\n    });\n  \n    window.bean.on(canvasElement, 'mouseup', function (e) {\n      if (downCount > 0) {\n        downCount--;\n      }\n      let pe = new mod.avabodh_lekh_event_PointerEvent();\n      let pts = eventPointsFromEvent(e, mod.avabodh_lekh_event_EventPointState.Up);\n      pe.setPoints(pts);\n      util.setModifiersFromEvent(e, pe);\n      hostEnv.onPointerEvent(pe);\n    });\n  \n    window.bean.on(canvasElement, 'mousemove', function (e) {\n        e.preventDefault();\n        let pe = new mod.avabodh_lekh_event_PointerEvent();\n        let pts = eventPointsFromEvent(e, mod.avabodh_lekh_event_EventPointState.Move);\n        pe.setPoints(pts);\n        util.setModifiersFromEvent(e, pe);\n        hostEnv.onPointerEvent(pe);\n    });\n  \n    window.bean.on(canvasElement, 'mouseenter', function (e) {\n      downCount = 0;\n    });\n  \n    window.bean.on(canvasElement, 'mouseleave', function (e) {\n      downCount = 0;\n      hostEnv.resetPointerInputState();\n    });\n  \n    window.bean.on(canvasElement, 'contextmenu', function (e) {\n        e.preventDefault();\n    });\n}\n\nexport default mouseInput;\n","\nimport util from \"./Util\";\n\nvar touchInput = {}\n\nvar mod = null;\nvar hostEnv = null;\n\nconst eventPointFromTouch = (touch, state, ts) => {\n    let pt = {\n      x: touch.pageX,\n      y: touch.pageY,\n      pointerId: touch.identifier,\n      state: state,\n      pressure: 0,\n      altitude:0,\n      azimuth: 0,\n      timestamp: ts,\n      pointerType: mod.avabodh_lekh_event_PointerType.Finger,\n      button: mod.avabodh_lekh_event_MouseButton.None,\n      flag: mod.avabodh_lekh_event_EventPoint_Flag.None\n    };\n    return pt;\n  }\n\nconst handleEvent = (ev, state) => {\n    let pe = new mod.avabodh_lekh_event_PointerEvent();\n    let list = new mod.List_avabodh_lekh_event_EventPoint();\n    for (let touch of ev.changedTouches) {\n        list.push_back(eventPointFromTouch(touch, state, ev.timeStamp));\n    }\n    pe.setPoints(list);\n    util.setModifiersFromEvent(ev, pe);\n    hostEnv.onPointerEvent(pe);\n}\n\ntouchInput.attachEvents = function(canvasElement) {\n    mod = window.Module;\n    hostEnv = mod.avabodh_lekh_app_HostEnv_instance();\n\n    canvasElement.addEventListener('touchstart', function(ev) {\n      ev.preventDefault();\n      handleEvent(ev, mod.avabodh_lekh_event_EventPointState.Down);\n    });\n    canvasElement.addEventListener('touchmove', function(ev) {\n      ev.preventDefault();\n      handleEvent(ev, mod.avabodh_lekh_event_EventPointState.Move);\n    });\n    canvasElement.addEventListener('touchend', function(ev) {\n      ev.preventDefault();\n      handleEvent(ev, mod.avabodh_lekh_event_EventPointState.Up);\n    });\n    canvasElement.addEventListener('touchleave', function(ev) {\n      ev.preventDefault();\n      hostEnv.resetPointerInputState();\n    });\n    canvasElement.addEventListener('touchcancel', function(ev) {\n      ev.preventDefault();\n      hostEnv.resetPointerInputState();\n    });\n}\n\nexport default touchInput;","import uiConfig from './UIConfig'\nimport integ from '../integ/integ'\nimport messaging from './Messaging'\nimport viewPort from '../components/ViewPort/ViewPort';\nimport platform from './Platform';\nimport mouseInput from './MouseInput';\nimport touchInput from './TouchInput';\nimport keyboardInput from './KeyboardInput';\nimport libnames from '../data/libnames.json'\nimport userInfo from '../utils/UserInfo';\nimport { getRefreshTokenFromStorage } from '../utils/ApiUtils';\n\nvar initializer = { };\n\nvar runtimeInitialized = false;\nvar initialInitDone = false;\nvar reactAppReady = false;\nvar shapesInitDone = false;\nvar uiInitDone = false;\nvar docStarted = false;\nvar userInfoFetched = false;\nvar isLoggedIn = false;\n\nwindow.Module = {\n    onRuntimeInitialized: function () {\n        runtimeInitialized = true;\n        initializer.initInternal();\n    }\n};\n\nconst appendScript = (scriptToAppend) => {\n    const script = document.createElement(\"script\");\n    script.src = scriptToAppend;\n    script.async = false;\n    document.body.appendChild(script);\n}\n\nconst initShapes = async () => {\n    // wait for fonts to be ready\n    try {\n        await document.fonts.ready;\n    } catch (e) { }\n\n    let lekhCore = window.Module.avabodh_lekh_app_LekhCore_instance();\n    lekhCore.library().initNames(JSON.stringify(libnames));\n    lekhCore.shapeManager().initGroupsAndSetDisplaySettings();\n\n    shapesInitDone = true;\n}\n\nconst initEventHandlers = () => {\n    var uiCanvas = document.getElementById(\"uiCanvas\");\n    if (uiConfig.shouldAttachMouseEventHandler()) {\n        mouseInput.attachEvents(uiCanvas);\n        touchInput.attachEvents(uiCanvas);\n    }\n    if (uiConfig.shouldAttachKeyboardEventHandler()) {\n        keyboardInput.attachEvents(uiCanvas);\n    }  \n}\n\nconst initUI = () => {\n    if (uiInitDone || !shapesInitDone) {\n        return;\n    }\n    uiInitDone = true;\n    viewPort.initUI(true);\n    let url = new URL(window.location);\n    let offline = url.searchParams.get('offline');\n    if (offline != 'true') {\n        let hostEnv = window.Module.avabodh_lekh_app_HostEnv_instance();\n        hostEnv.blockView('Loading..');\n    }\n    startDoc();\n}\n\nconst fetchUserDetail = () => {\n    userInfo.event.addListener(() => {\n        if (isLoggedIn && !userInfo.isLoggedIn()) {\n          window.location.reload();\n          return;\n        }\n        \n        if (!isLoggedIn && userInfo.isLoggedIn() && docStarted) {\n          window.location.reload();\n          return;\n        }\n  \n        if (userInfo.isLoggedIn()) {\n            let lekhCore = window.Module.avabodh_lekh_app_LekhCore_instance();\n            lekhCore.backendFlow().setAccessToken(userInfo.token);\n        }\n        if (docStarted) {\n          return;\n        }\n  \n        isLoggedIn = userInfo.isLoggedIn();\n        let rtoken = getRefreshTokenFromStorage()\n        if (!isLoggedIn && rtoken) {\n            return;\n        }\n\n        userInfoFetched = true;\n        startDoc();\n    });\n  \n    userInfo.get();\n}\n\nconst startDoc = () => {\n    if (!uiInitDone || docStarted || !userInfoFetched) {\n        return;\n    }\n    docStarted = true;\n    \n    if (!uiConfig.isUsingLekhBackend()) {\n        integ.loadDoc();\n        return;\n    }\n\n    let lekhCore = window.Module.avabodh_lekh_app_LekhCore_instance();\n\n    let url = new URL(window.location);\n    let docid = url.searchParams.get('docid');\n    let offline = url.searchParams.get('offline');\n    //var np = url.searchParams.get('_new');\n    //var ref = url.searchParams.get('ref');\n    if (offline != 'true') {\n        lekhCore.coreIO().openRemoteDocById(docid);\n    }\n}\n\ninitializer.init = (dialogHandler, showShapeHelp, showAirGesture) => {\n    reactAppReady = true;\n    viewPort.showDialog = dialogHandler;\n    viewPort.showShapeHelp = showShapeHelp;\n    viewPort.showAirGesture = showAirGesture;\n    messaging.init();\n    appendScript(\"a1/lekhapp.js\");\n    initializer.initInternal();\n}\n\ninitializer.initInternal = () => {\n    if (initialInitDone || !reactAppReady || !runtimeInitialized) {\n        return;\n    }\n    initialInitDone = true;\n    fetchUserDetail();\n    platform.init();\n    viewPort.init();\n    initShapes().then(function() {\n        initEventHandlers();\n        initUI();\n    });\n}\n\nexport default initializer;\n","var canvasElement = null;\nvar cameraCanvas = null;\n\nvar canvasCtx = null;\nvar cameraCtx = null;\n\nvar canvasWidth = 1280;\nvar canvasHeight = 720;\n\nvar landmarkLines = [\n    [0, 1, 2, 3, 4],\n    [0, 5, 6, 7, 8],\n    [9, 10 , 11, 12],\n    [13, 14, 15, 16],\n    [0, 17, 18, 19, 20],\n    [5, 9, 13, 17]\n];\n\nexport function setCanvas(ce, cameraElement) {\n    canvasElement = ce;\n    canvasCtx = canvasElement.getContext('2d');\n\n    cameraCanvas = cameraElement;\n    cameraCtx = cameraCanvas.getContext('2d');\n}\n\nexport function mirrorPoint(pt) {\n    var npt = {x:pt.x, y:pt.y}\n    npt.x -= 1280;\n    npt.x *= -1;\n    npt.x += 100;\n    npt.y += 70;\n    return npt;\n}\n\nexport function drawActivePoint(pt) {\n    var npt = mkpt(pt);\n    npt.x -= 1280;\n    npt.x *= -1;\n\n    canvasCtx.save();\n    canvasCtx.strokeStyle = '#FF0000';\n    canvasCtx.beginPath();\n    canvasCtx.arc(npt.x, npt.y, 10, 0, 2 * Math.PI);\n    canvasCtx.stroke()\n    canvasCtx.restore();\n}\nexport function drawLandmarks(landmarks) {\n    var pts = [];\n    for (let item of landmarks) {\n        var npt = mkpt(item);\n        npt.x -= 1280;\n        npt.x *= -1;\n        pts.push(npt);\n    }\n\n    canvasCtx.save();\n    canvasCtx.strokeStyle = '#00FF00';\n    canvasCtx.lineWidth = 4;\n    for (let line of landmarkLines) {\n        canvasCtx.beginPath();\n        canvasCtx.moveTo(pts[line[0]].x, pts[line[0]].y);\n        for (let i = 1; i < line.length; i++) {\n            canvasCtx.lineTo(pts[line[i]].x, pts[line[i]].y)\n        }\n        canvasCtx.stroke();\n    }\n    canvasCtx.restore();\n\n    canvasCtx.save();\n    canvasCtx.lineWidth = 1;\n    canvasCtx.fillStyle = '#FF0000';\n    canvasCtx.strokeStyle = '#FF0000';\n    for (let pt of pts) {\n        canvasCtx.beginPath();\n        canvasCtx.arc(pt.x, pt.y, 5, 0, 2 * Math.PI);\n        canvasCtx.fill()\n    }\n    canvasCtx.restore()\n}\n\nexport function clearLandmarkCanvas() {\n    canvasCtx.clearRect(0, 0, canvasWidth, canvasHeight);\n}\n\nexport function clearCameraCanvas() {\n    cameraCtx.clearRect(0, 0, canvasWidth, canvasHeight);\n}\n\nfunction drawCenterText(text) {\n    var fz = 40;\n   \n    canvasCtx.save();\n    canvasCtx.fillStyle = \"#FFFFFFB0\"\n    canvasCtx.fillRect(0, 0, canvasWidth, canvasHeight);\n\n    canvasCtx.font = canvasCtx.font.replace(/\\d+px/, fz + \"px\");\n    canvasCtx.fillStyle = \"red\";\n    canvasCtx.strokeStyle = 'white';\n    canvasCtx.textAlign = \"center\";\n    canvasCtx.fillText(text, canvasWidth/2, canvasHeight/2); \n    canvasCtx.strokeText(text, canvasWidth/2, canvasHeight/2);\n    canvasCtx.restore();\n}\nexport function showInit() {\n    var text = \"Starting camera..\";\n    drawCenterText(text);\n}\n\nexport function showFlashMessage() {\n    var text = \"Make sure you are in front of the camera\";\n    drawCenterText(text);\n}\n\nexport function showCameraImage(image) {\n    if (image == null) {\n        return;\n    }\n    cameraCtx.save();\n    cameraCtx.translate(canvasWidth, 0);\n    cameraCtx.scale(-1, 1);\n    cameraCtx.drawImage(image, 0, 0, canvasWidth, canvasHeight);\n    cameraCtx.restore();\n}\n\nexport function mkpt(p) {\n    return {x: p.x * canvasWidth, y: p.y* canvasHeight, z: p.z * canvasWidth}\n}\n\nexport function pt2d(x, y) {\n    return {x: x, y:y , z: 0}\n}\n","import { pt2d } from \"./Frame\";\n\nconst RANGE_DELTA = 0.5;\n\nexport function dist(p1, p2) {\n    var dx, dy;\n    dx = (p2.x - p1.x);\n    dy = (p2.y - p1.y);\n    return Math.sqrt(((dx * dx) + (dy * dy)));\n}\n\nexport function dist2(p1, p2) {\n    var dx, dy, dz;\n    dx = (p2.x - p1.x);\n    dy = (p2.y - p1.y);\n    dz = (p2.z - p1.z);\n    return Math.sqrt((((dx * dx) + (dy * dy)) + (dz * dz)));\n}\n\nexport function inOrder(pts) {\n    if (pts.length < 3) {\n        return true;\n    }\n\n    function inord(p1, p2, p3) {\n        var eq = new LineEq(p1, p2);\n        eq = eq.perp(p2);\n        return eq.crosses(p1, p3);\n    }\n    for (let i = 0; i < pts.length - 2; i++) {\n        if (!inord(pts[i], pts[i + 1], pts[i + 2])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nexport function turnAngle(pts) {\n    if (pts.length < 3) {\n        return 0;\n    }\n\n    function ta(p1, p2, p3) {\n        var dp = (p2.x - p1.x) * (p3.x - p2.x) + (p2.y - p1.y) * (p3.y - p2.y);\n        var d1 = dist(p1, p2);\n        var d2 = dist(p2, p3);\n        var D = d1 * d2;\n        // if D is very small\n        if (Math.abs(D) < 0.0001) {\n            return 0;\n        }\n        var theta = Math.acos(dp / D);\n        var cp = crossProduct(p1, p2, p3);\n        if (cp < 0) {\n            return -theta;\n        }\n        return theta;\n    }\n\n    var turn = 0;\n    for (let i = 0; i < pts.length - 2; i++) {\n        turn += ta(pts[i], pts[i+1], pts[i+2]);\n    }\n    return turn;\n}\n\nexport function crossProduct(p1, p2, p3) {\n    var v1x = p2.x - p1.x;\n    var v1y = p2.y - p1.y;\n\n    var v2x = p3.x - p2.x;\n    var v2y = p3.y - p2.y;\n\n    return v1x * v2y - v2x * v1y;\n}\n\nexport class LineEq {\n    constructor(p1, p2) {\n        this.A = (p2.y - p1.y);\n        this.B = (p1.x - p2.x);\n        this.C = ((p1.y * p2.x) - (p1.x * p2.y));\n    }\n\n    distFrom(pt) {\n        var dist = (Math.abs((((this.A * pt.x) + (this.B * pt.y)) + this.C)) / Math.sqrt(((this.A * this.A) + (this.B * this.B))));\n        return dist;\n    }\n\n    solve(eq2) {\n        var D = ((this.A * eq2.B) - (eq2.A * this.B));\n        var Dx = ((eq2.B * (- this.C)) - (this.B * (- eq2.C)));\n        var Dy = ((this.A * (- eq2.C)) - (eq2.A * (- this.C)));\n        if ((D === 0)) {\n            return [false, null];\n        }\n        return [true, pt2d(Dx / D, Dy / D)];\n    }\n\n    angleWithHz() {\n        return Math.atan2(this.A, (- this.B));\n    }\n\n    crosses(p1, p2) {\n        var d1 = (((this.A * p1.x) + (this.B * p1.y)) + this.C);\n        var d2 = (((this.A * p2.x) + (this.B * p2.y)) + this.C);\n        return ((d1 * d2) <= 0);\n    }\n\n    perp(p) {\n        var eq = new LineEq(pt2d(0, 0), pt2d(1, 1));\n        eq.A = (- this.B);\n        eq.B = this.A;\n        eq.C = (((- eq.A) * p.x) - (eq.B * p.y));\n        return eq;\n    }\n\n    pval(pt) {\n        return pt.x * this.A + pt.y*this.B + this.C;\n    }\n}\n\nexport class LineSegment {\n    constructor(p1, p2) {\n        this.p1 = p1;\n        this.p2 = p2;\n    }\n\n    length() {\n        return dist(this.p1, this.p2);\n    }\n\n    eq() {\n        return new LineEq(this.p1, this.p2);\n    }\n\n    contains(pt) {\n        var d1 = dist(pt, this.p1);\n        var d2 = dist(pt, this.p2);\n        var len = this.length();\n        var diff = Math.abs((len - (d1 + d2)));\n        return (diff < RANGE_DELTA);\n    }\n\n    distFrom(point) {\n        var _, d1, d2, eq, eq2, near;\n        eq = new LineEq(this.p1, this.p2);\n        eq2 = eq.perp(point);\n        [_, near] = eq.solve(eq2);\n        if (this.contains(near)) {\n            return eq.distFrom(point);\n        }\n        d1 = dist(this.p1, point);\n        d2 = dist(this.p2, point);\n        return Math.min(d1, d2);\n    }\n\n    intersect(seg) {\n        var at, eq1, eq2, got;\n        eq1 = new LineEq(this.p1, this.p2);\n        eq2 = new LineEq(seg.p1, seg.p2);\n        [got, at] = eq1.solve(eq2);\n        if ((((! got) || (! this.contains(at))) || (! seg.contains(at)))) {\n            return [false, pt2d(0, 0)];\n        }\n        return [true, at];\n    }\n\n    intersectEq(eq) {\n        var at, eq1, got;\n        eq1 = new LineEq(this.p1, this.p2);\n        [got, at] = eq1.solve(eq);\n        if (((! got) || (! this.contains(at)))) {\n            return [false, pt2d(0, 0)];\n        }\n        return [true, at];\n    }\n}\n\n","import {dist} from './Geometry';\nimport { mirrorPoint } from './Frame';\n\nexport class Dragger {\n    constructor() {\n        this.reset();\n        this.MOVE_DIST_REF = 10.0;\n        this.MOVE_DIST_SMALL_REF = 5.0;\n        this.MOVE_DIST_SMALL = 8.0;\n    }\n\n    reset() {\n        this.last = null;\n        this.lastRef = null;\n        this.moving = false;\n        this.points = [];\n    }\n\n    start() {\n        this.reset();\n    }\n\n    addPoint(pt) {\n        this.points.push(mirrorPoint(pt));\n    }\n\n    checkMove(pt, ptref) {\n        if (this.lastRef === null) {\n            this.lastRef = ptref;\n            this.last = pt;\n            return;\n        }\n\n        var d = dist(ptref, this.lastRef);\n        if (d > this.MOVE_DIST_REF) {\n            this.moving = true;\n            this.addPoint(this.last);\n            this.last = pt;\n            this.lastRef = ptref;\n        }\n    }\n\n    validMove(pt, ptref) {\n        var dx1 = (ptref.x - this.lastRef.x);\n        var dx2 = (pt.x - this.last.x);\n        var dy1 = (ptref.y - this.lastRef.y);\n        var dy2 = (pt.y - this.last.y);\n        var valid_x = (((dx1 <= 0) && (dx2 <= 0)) || ((dx1 >= 0) && (dx2 >= 0)));\n        var valid_y = (((dy1 <= 0) && (dy2 <= 0)) || ((dy1 >= 0) && (dy2 >= 0)));\n        return (valid_x && valid_y);\n    }\n\n    handleMove(pt, ptref) {\n        var d = dist(ptref, this.lastRef);\n        if ((d > this.MOVE_DIST_SMALL_REF)) {\n            d = dist(pt, this.last);\n            if (d > this.MOVE_DIST_SMALL) {\n                this.addPoint(pt);\n                this.last = pt;\n                this.lastRef = ptref;\n            }\n        }\n    }\n\n    track(pt, ptref) {\n        if (this.moving) {\n            this.handleMove(pt, ptref);\n        } else {\n            this.checkMove(pt, ptref);\n        }\n    }\n}\n\n","import {Dragger} from './Dragger';\n//import AppInput from '../common/AppInput'\n//import canvas from '../common/Canvas'\nimport { mirrorPoint } from './Frame';\n//import menuState from '../common/MenuState';\n//import { reloadSideBar } from '../components/SideBarMenu/SideBarMenu';\n\nvar lastDrawMode = null; ///menuState.menus.smartDraw;\n\n//var clickTimer = null;\n//const DOUBLE_CLICK_DURATION = 0;\n\nvar toolMenu = null;\nvar InputModeEnum = null;\nvar hostEnv = null;\nvar EventPointState = null;\n\n/*\nfunction handleClick(pt) {\n    var mpt = mirrorPoint(pt);\n    if (clickTimer != null) {\n        window.clearTimeout(clickTimer);\n        clickTimer = null;\n        AppInput.dbclick(mpt.x, mpt.y);\n    } else {\n        clickTimer = window.setTimeout(() => {\n            clickTimer = null;\n            AppInput.click(mpt.x, mpt.y);\n        }, DOUBLE_CLICK_DURATION);\n    }\n}\n\nfunction updateSidebarMenus() {\n    if (reloadSideBar) {\n        reloadSideBar();\n    }\n}\n*/\n\nexport function init() {\n    toolMenu = window.Module.avabodh_lekh_app_ToolMenu_instance();\n    hostEnv = window.Module.avabodh_lekh_app_HostEnv_instance();\n\n    InputModeEnum = window.Module.avabodh_lekh_app_ToolMenu_InputMode;\n    EventPointState = window.Module.avabodh_lekh_event_EventPointState;\n}\n\nconst eventPointFromTouch = (x, y, state, ts) => {\n    let mod = window.Module;\n    let pt = {\n      x: x,\n      y: y,\n      pointerId: -2,\n      state: state,\n      pressure: 0,\n      altitude:0,\n      azimuth: 0,\n      timestamp: ts,\n      pointerType: mod.avabodh_lekh_event_PointerType.Finger,\n      button: mod.avabodh_lekh_event_MouseButton.None,\n      flag: mod.avabodh_lekh_event_EventPoint_Flag.None\n    };\n    return pt;\n  }\n\nconst sendPoint = (x, y, state) => {\n    let mod = window.Module;\n    let pe = new mod.avabodh_lekh_event_PointerEvent();\n    let list = new mod.List_avabodh_lekh_event_EventPoint();\n    let ts = Date.now();\n    list.push_back(eventPointFromTouch(x, y, state, ts));\n    pe.setPoints(list);\n    hostEnv.onPointerEvent(pe);\n}\n\n\nfunction captureDrawMode() {\n    if (toolMenu.inputMode() == InputModeEnum.Draw || toolMenu.inputMode() == InputModeEnum.SmartDraw) {\n        lastDrawMode = toolMenu.inputMode();\n    }\n\n    /*\n    if (menuState.selected == menuState.menus.smartDraw ||\n        menuState.selected == menuState.menus.draw) {\n            lastDrawMode = menuState.selected;\n    }*/\n}\n\nfunction setDrawMode() {\n    if (toolMenu.inputMode() == InputModeEnum.Draw || toolMenu.inputMode() == InputModeEnum.SmartDraw) {\n        lastDrawMode = toolMenu.inputMode();\n        return;\n    }\n\n    if (lastDrawMode != InputModeEnum.Draw && lastDrawMode != InputModeEnum.SmartDraw) {\n        lastDrawMode = InputModeEnum.SmartDraw;\n    }\n    toolMenu.setInputMode(lastDrawMode);\n\n    /*\n    if (menuState.selected == menuState.menus.smartDraw ||\n        menuState.selected == menuState.menus.draw) {\n            return;\n    }\n    if (!(lastDrawMode == menuState.menus.draw ||\n        lastDrawMode == menuState.menus.smartDraw)) {\n            lastDrawMode = menuState.menus.smartDraw;\n    }\n    menuState.handleMenuClick(lastDrawMode);\n    menuState.popup = null;\n    updateSidebarMenus();*/\n}\n\nfunction setSelectionMode() {\n    if (toolMenu.inputMode() == InputModeEnum.Select) {\n        return;\n    }\n    captureDrawMode();\n    toolMenu.setInputMode(InputModeEnum.Select);\n\n    /*\n    if (menuState.selected == menuState.menus.selectionGroup &&\n        menuState.inputMode == menuState.modes.selection) {\n        return;\n    }\n\n    captureDrawMode();\n    menuState.handleMenuClick(menuState.menus.selection);\n    menuState.popup = null;\n    updateSidebarMenus();*/\n}\n\nfunction setEraseMode() {\n    if (toolMenu.inputMode() == InputModeEnum.Erase) {\n        return;\n    }\n    captureDrawMode();\n    toolMenu.setInputMode(InputModeEnum.Erase);\n\n    /*\n    if (menuState.selected == menuState.menus.erase) {\n        return;\n    }\n    \n    captureDrawMode();\n    menuState.handleMenuClick(menuState.menus.erase);\n    menuState.popup = null;\n    updateSidebarMenus();*/\n}\n\nfunction checkModeBeforeClick() {\n    /*\n    if (menuState.selected == menuState.menus.smartDraw ||\n        menuState.selected == menuState.menus.draw) {\n            return;\n    }*/\n    if (toolMenu.inputMode() == InputModeEnum.Draw || toolMenu.inputMode() == InputModeEnum.SmartDraw) {\n        return;\n    }\n    setSelectionMode();\n}\n\nexport class Gesture {\n    constructor(id) {\n        this.dragger = new Dragger();\n        this.id = id;\n        this.ptidx = 0;\n    }\n    \n    done() {\n    }\n\n    move(landmarks) {\n    }\n\n    setMode() {\n    }\n\n    sendPoints() {\n        var pts = this.dragger.points;\n        if (pts.length > this.ptidx) {\n            if (this.ptidx == 0) {\n                this.setMode();\n                sendPoint(pts[0].x, pts[0].y, EventPointState.Down);\n                //AppInput.drag(pts[0].x, pts[0].y, 0);\n                this.ptidx = 1;\n            }\n            while (this.ptidx < pts.length) {\n                sendPoint(pts[this.ptidx].x, pts[this.ptidx].y, EventPointState.Move);\n                //AppInput.drag(pts[this.ptidx].x, pts[this.ptidx].y, 1);\n                this.ptidx++;\n            }\n        }\n    }\n\n    checkClick() {\n        if (!this.dragger.moving && this.dragger.last != null)  {\n            checkModeBeforeClick();\n            //handleClick(this.dragger.last);\n            var mpt = mirrorPoint(this.dragger.last);\n            sendPoint(mpt.x, mpt.y, EventPointState.Down);\n            sendPoint(mpt.x, mpt.y, EventPointState.Up);\n            this.dragger.points = []\n        }\n    }\n\n    sendLastPoint() {\n        var pts = this.dragger.points;\n        if (pts.length > 0 && this.ptidx > 0) {\n            var lastpt = pts[pts.length - 1];\n            sendPoint(lastpt.x, lastpt.y, EventPointState.Up);\n            //AppInput.drag(lastpt.x, lastpt.y, 2);\n        }\n        this.ptidx = 0;\n        this.dragger.reset();\n    }\n\n    activePoint() {\n        return -1;\n    }\n}\n\nexport class Drag1Gesture extends Gesture {\n    constructor() {\n        super(\"drag1\");\n    }\n\n    setMode() {\n        setSelectionMode();\n    }\n\n    move(landmarks) {\n        this.dragger.track(landmarks[4], landmarks[0]);\n        this.sendPoints();\n    }\n\n    done() {\n        this.checkClick();\n        this.sendLastPoint();\n    }\n\n    activePoint() {\n        return 4;\n    }\n}\n\nexport class Drag2Gesture extends Gesture {\n    constructor() {\n        super(\"drag2\");\n        \n    }\n\n    setMode() {\n        setDrawMode();\n    }\n\n    move(landmarks) {\n        this.dragger.track(landmarks[8], landmarks[0]);\n        this.sendPoints();\n    }\n\n    done() {\n        this.checkClick();\n        this.sendLastPoint()\n    }\n\n    activePoint() {\n        return 8;\n    }\n}\n\nexport class ThumbGesture extends Gesture {\n    constructor() {\n        super(\"thumb\");\n        this.dragger.MOVE_DIST_REF = 1.0;\n    }\n\n    setMode() {\n        setEraseMode();\n    }\n\n    move(landmarks) {\n        this.dragger.track(landmarks[4], landmarks[0]);\n        this.sendPoints();\n    }\n\n    done() {\n        this.sendLastPoint();\n    }\n\n    activePoint() {\n        return 4;\n    }\n}\n\nexport class PinchGesture extends Gesture {\n    constructor() {\n        super(\"pinch\");\n        this.dragger.MOVE_DIST_REF = 1.0;\n        this.dragger.MOVE_DIST_SMALL = 1.0;\n        this.dragger.MOVE_DIST_SMALL_REF = 2.0;\n    }\n\n    move(landmarks) {\n        let mod = window.Module;\n\n        this.dragger.track(landmarks[0], landmarks[0]);\n        var pts = this.dragger.points;\n        while (this.ptidx < pts.length) {\n            if (this.ptidx > 0) {\n                let p2 = pts[this.ptidx];\n                let p1 = pts[this.ptidx - 1];\n                let dx = p2.x - p1.x;\n                let dy = p2.y - p1.y;\n                let se = new mod.avabodh_lekh_event_ScrollEvent();\n                se.setDelta(dx, dy);\n                se.setType(mod.avabodh_lekh_event_ScrollEvent_Type.Generic);\n                hostEnv.onScrollEvent(se);\n                //canvas.moveDelta(p2.x - p1.x, p2.y - p1.y)\n            }\n            this.ptidx++;\n        }\n    \n    }\n\n    done() {\n        this.ptidx = 0;\n        this.dragger.reset();\n    }\n}\n\n","import {LineEq, inOrder, turnAngle} from './Geometry'\n\nclass Features {\n    constructor() {\n        this.backSide = false;\n\n        this.indexBent = false;\n        this.middleBent = false;\n        this.ringBent = false;\n\n        this.indexInOrder = false;\n        this.middleInOrder = false;\n        this.ringInOrder = false;\n\n        this.indexCurved = false;\n        this.middleCurved = false;\n        this.ringCurved = false;\n    }\n    print() {\n        console.log(\"idb:\", this.indexBent, \", midb\", \n        this.middleBent, \", rb\", this.ringBent, ', back:', this.backSide,\n        ', idxs', this.indexInOrder)\n    }\n}\n\nfunction getSide(p1, p2, p3) {\n    var eq = new LineEq(p1, p2);\n    return eq.pval(p3) >= 0;\n}\n\nfunction isCurved(p1, p2, p3, p4) {\n    var ta = turnAngle([p1, p2, p3, p4]);\n    var deg = (ta * 180) / Math.PI;\n    return Math.abs(deg) >= 90;\n}\n\nexport function getFeatures(pts, hand) {\n    var features = new Features();\n    \n    features.indexBent = !inOrder([pts[0], pts[5], pts[8]]);\n    features.middleBent = !inOrder([pts[0], pts[9], pts[12]]);\n    features.ringBent = !inOrder([pts[0], pts[13], pts[16]]);\n\n    features.indexInOrder = inOrder([pts[5], pts[6], pts[7], pts[8]]);\n    //features.middleInOrder = inOrder([pts[9], pts[10], pts[11], pts[12]]);\n    //features.ringInOrder = inOrder([pts[13], pts[14], pts[15], pts[16]]);\n\n    features.indexCurved = isCurved(pts[5], pts[6], pts[7], pts[8]);\n    features.middleCurved = isCurved(pts[9], pts[10], pts[11], pts[12]);\n    features.ringCurved = isCurved(pts[13], pts[14], pts[15], pts[16]);\n                             \n    features.backSide = !getSide(pts[0], pts[5], pts[9]) || \n                        !getSide(pts[0], pts[5], pts[13]) ||\n                        !getSide(pts[0], pts[5], pts[17])\n    if (hand == 'left') {\n        features.backSide = !features.backSide;\n    }\n    return features;\n}","import {Drag1Gesture, Drag2Gesture, ThumbGesture, PinchGesture, Gesture} from './Gestures'\nimport { mkpt } from './Frame';\nimport { getFeatures } from './LandmarksFeatures';\nimport { dist, LineSegment, inOrder } from './Geometry';\n//import command from '../common/Command'\n\nvar drag1Active = false;\nvar drag2Active = false;\n\nconst undo = () => {\n    window.Module.avabodh_lekh_app_Command_instance().undo();\n}\n\nclass RepeatedGesture {\n    constructor(type, noop, gap, times, handler) {\n        this.type = type;\n        this.noop = noop;\n        this.gap = gap;\n        this.lastGesture = null;\n        this.lastAt = 0;\n        this.count = 0;\n        this.handler = handler;\n        this.times = times;\n    }\n\n    check(gesture) {\n        if (this.lastGesture == null) {\n            this.lastGesture = gesture;\n            return;\n        }\n\n        if (gesture == this.noop) {\n            if (this.lastGesture == this.type && !this.lastGesture.dragger.moving) {\n                var now = Date.now();\n                if (now - this.lastAt > this.gap) {\n                    this.count = 1;\n                } else {\n                    this.count++;\n                }\n                this.lastAt = now;\n                if (this.count == this.times) {\n                    this.count = 0;\n                    this.lastAt = 0;\n                    this.handler();\n                }\n            }\n\n        } else {\n            if (gesture != this.type) {\n                this.count = 0;\n                this.lastAt = 0;\n            }\n        }\n\n        this.lastGesture = gesture;\n    }\n}\n\nfunction isDrag2(pts, features) {\n    if (features.backSide) {\n        return false;\n    }\n\n    if (features.indexBent || !features.middleBent ||\n        !features.ringBent || !features.indexInOrder) {\n        return false;\n    }\n    //const THREASHOLD_1 = 0.32;\n    //const THREASHOLD_2 = 0.42;\n    //var d1 = dist(pts[0], pts[5]);\n\n    const THREASHOLD_1 = 1.1;\n    const THREASHOLD_2 = 1.2;\n    var d1 = dist(pts[5], pts[9]);\n\n    if (dist(pts[10], pts[11]) < 0.0001) {\n        return false;\n    }\n    var seg = new LineSegment(pts[10], pts[11]);\n    var d2 = seg.distFrom(pts[4]);\n\n    var target1 = d1 * THREASHOLD_1;\n    var target2 = d1 * THREASHOLD_2;\n\n    if (!drag2Active) {\n        if (d2 < target1) {\n            drag2Active = true;\n        }\n    } else {\n        if (d2 > target2) {\n            drag2Active = false;\n        }\n    }\n    return drag2Active;\n}\n\nfunction isDrag1(pts, features) {\n    if (features.middleBent || features.ringBent || features.backSide) {\n        return false;\n    }\n\n    const THRESHOLD_1 = 0.3;\n    const THRESHOLD_2 = 0.4;\n    const THREASHOLD_3 = 0.5;\n\n    var d1 = dist(pts[0], pts[5]);\n\n    var dPinch = d1 * THREASHOLD_3;\n    var pinchLike = true;\n    for (let id of [8, 12, 16, 20]) {\n        let tmp = dist(pts[id], pts[4]);\n        if (tmp > dPinch) {\n            pinchLike = false;\n            break;\n        }\n    }\n    if (pinchLike) {\n        return false;\n    }\n\n    var d2 = dist(pts[4], pts[8]);\n    var factor = 100.0;\n    if (d1 !== 0) {\n        factor = d2 / d1;\n    }\n    if (drag1Active) {\n        if (factor > THRESHOLD_2) {\n            drag1Active = false;\n        }\n    } else {\n        if (factor < THRESHOLD_1) {\n            drag1Active = true;\n        }\n    }\n    return drag1Active;\n}\n\nfunction isThumb(pts, features) {\n    const FACTOR = 0.3;\n    var d1 = dist(pts[0], pts[5]) * FACTOR;\n    var d2 = dist(pts[4], pts[8]);\n    if (d2 < d1) {\n        return false;\n    }\n\n    if (features.indexBent && features.middleBent && features.ringBent) {\n        if (features.indexCurved || features.middleCurved || features.ringCurved) {\n            return true;\n        }\n    }\n    if (pts[4].y < pts[5].y && pts[4].y < pts[9].y && pts[4].y < pts[13].y) {\n        if (inOrder([pts[5], pts[8], pts[6]]) &&\n            inOrder([pts[9], pts[12], pts[10]]) &&\n            inOrder([pts[13], pts[16], pts[14]])) {\n            return true;\n        }\n    }\n    return false;\n}\n\nfunction isPinch(pts, features) {\n    const FACTOR = 0.4;\n    var d1 = dist(pts[0], pts[5]) * FACTOR;\n    for (let id of [8, 12, 16, 20]) {\n        let d2 = dist(pts[id], pts[4]);\n        if (d2 > d1) {\n            return false\n        } \n\n    }\n    return true;\n}\n\nexport class GestureRecognizer {\n    constructor(model) {\n        this.model = model;\n        this.drag1Gesture = new Drag1Gesture();\n        this.drag2Gesture = new Drag2Gesture();\n        this.thumbGesture = new ThumbGesture();\n        this.pinchGesture = new PinchGesture();\n        this.noopGesture = new Gesture(\"noop\");\n        this.undoGesture = new RepeatedGesture(this.drag2Gesture, this.noopGesture, 500, 3, undo);\n    }\n\n    handleRepeated(gesture) {\n        this.undoGesture.check(gesture);\n    }\n\n    get(landmarks, hand) {\n        var gesture = this.getGesture(landmarks, hand);\n        this.handleRepeated(gesture);\n        return gesture;\n    }\n\n    getGesture(landmarks, hand) {\n        var pts = [];\n        for (let item of landmarks) {\n            pts.push(mkpt(item))\n        }\n    \n        var features = getFeatures(pts, hand);\n        //features.print()\n\n        if (isPinch(pts, features)) {\n            return this.pinchGesture;\n        }\n\n        if (isThumb(pts, features)) {\n            return this.thumbGesture;\n        }\n\n        if (features.backSide) {\n            if (drag1Active) {\n                return this.drag1Gesture;\n            }\n            if (drag2Active) {\n                return this.drag2Gesture;\n            }\n\n            return this.noopGesture;\n        }\n\n        if (isDrag2(pts, features)) {\n            drag1Active = false;\n            return this.drag2Gesture;\n        }\n\n        if (isDrag1(pts, features)) {\n            drag2Active = false;\n            return this.drag1Gesture;\n        }\n\n        return this.noopGesture;\n    }\n}\n\n/*\n\n// older drag2 detector\n\nfunction isDrag2_1(pts, features) {\n    if (features.backSide) {\n        return false;\n    }\n\n    if (features.indexBent || !features.middleBent ||\n        !features.ringBent || !features.indexInOrder) {\n        return false;\n    }\n    const THREASHOLD_1 = 1.1\n    const THREASHOLD_2 = 0.9\n\n    function thumbMiddleOpposite(pts) {\n        var eq = new LineEq(pts[5], pts[6]);\n        return eq.crosses(pts[2], pts[10]);\n    }\n    \n    function thumbCorsses(pts) {\n        var eq = new LineEq(pts[5], pts[6]);\n        var seg = new LineSegment(pts[3], pts[4]);\n        var [it, _] = seg.intersectEq(eq);\n        return it;\n    }\n\n    function checkForCross(pts) {\n        var eq = new LineEq(pts[5], pts[6]);\n        var d1 = eq.distFrom(pts[4]);\n        var d2 = eq.distFrom(pts[10]);\n        if (d1 > (d2 / 4)) {\n            return true;\n        }\n        return false;\n    }\n\n    var opp = thumbMiddleOpposite(pts);\n    var crosses = thumbCorsses(pts);\n    if (opp && crosses) {\n        if (checkForCross(pts)) {\n            drag2Active = true;\n            return true;\n        }\n    }\n\n    var d1 = dist(pts[4], pts[10]);\n    var d2 = dist(pts[10], pts[11]);\n    var factor = 100.0;\n    if (d1 !== 0) {\n        factor = (d2 / d1);\n    }\n\n    if (drag2Active) {\n        if (factor < THREASHOLD_2) {\n            drag2Active = false;\n        }\n    } else {\n        if (factor > THREASHOLD_1) {\n            drag2Active = true;\n        }\n    }\n    return drag2Active;\n}\n\n// Neural network based gesture identification\n\nvar gesturesNames = {\n    0: \"drag1\",\n    1: \"drag2\",\n    2: \"thumb\",\n    3: \"pinch\",\n    4: \"thumb_index\",\n    5: \"open\",\n    6: \"other\"\n};\n\n    predict(landmarks) {\n        var arr = [];\n        for (let item of landmarks) {\n            arr.push(item.x);\n            arr.push(item.y);\n            arr.push(item.z);\n        }\n        if (arr.length != 63) {\n            return 6;\n        }\n        var inp = window.tf.tensor2d([arr]);\n        var out = this.model.predict(inp);\n        var idx = out.argMax(-1).arraySync()[0]\n        return idx\n    }\n\n    get2(landmarks) {\n        var ges, idx, pts;\n        idx = this.predict(landmarks);\n        pts = [];\n        for (let item of landmarks) {\n            pts.push(mkpt(item))\n        }\n    \n        var features = getFeatures(pts);\n        features.print();\n\n        ges = this.checkDrag2(idx, pts);\n        if (ges !== null) {\n            deactivateDrag1();\n            return ges;\n        }\n        ges = this.checkDrag1(idx, pts);\n        if (ges !== null) {\n            return ges;\n        }\n        ges = this.checkThumb(idx, pts);\n        if (ges !== null) {\n            return ges;\n        }\n        ges = this.checkPinch(idx, pts);\n        if (ges !== null) {\n            return ges;\n        }\n        return this.noopGesture;\n    }\n\n    checkPinch(idx, pts) {\n        if (idx === 3) {\n            return this.pinchGesture;\n        }\n        return null;\n    }\n\n    checkThumb(idx, pts) {\n        if (idx === 2) {\n            return this.thumbGesture;\n        }\n        return null;\n    }\n\n    checkDrag1(idx, pts) {\n        if (!(idx === 0 || idx === 4) || idx === 5) {\n            deactivateDrag1();\n            return null;\n        }\n\n        if (checkDrag1(pts)) {\n            return this.drag1Gesture;\n        }\n        return null;\n    }\n\n    checkDrag2(idx, pts) {\n        if (!(idx === 1 || idx === 2 || idx === 4)) {\n            deactivateDrag2();\n            return null;\n        }\n\n        if (checkDrag2(pts)) {\n            return this.drag2Gesture;\n        }\n        return null;\n    }\n\n// ------------ Drag1Recognizer.js -----------\nimport {dist} from './Geometry';\n\nvar active = false;\n\nconst THRESHOLD_1 = 0.3;\nconst THRESHOLD_2 = 0.4;\n\nexport function deactivateDrag1() {\n    active = false;\n}\n\nexport function checkDrag1(pts) {\n    var d1, d2, factor;\n    d1 = dist(pts[0], pts[5]);\n    d2 = dist(pts[4], pts[8]);\n    factor = 100.0;\n    if (d1 !== 0) {\n        factor = d2 / d1;\n    }\n    if (active) {\n        if (factor > THRESHOLD_2) {\n            active = false;\n        }\n    } else {\n        if (factor < THRESHOLD_1) {\n            active = true;\n        }\n    }\n    return active;\n}\n\n// ------------ Drag2Recognizer.js -----------\nimport {LineEq, LineSegment, dist} from './Geometry';\n\nvar active = false;\nconst THRESHOLD_1 = 1.1;\nconst THRESHOLD_2 = 0.9;\n\nfunction bentForward(pts) {\n    var eq, eq2;\n    eq = new LineEq(pts[0], pts[9]);\n    eq2 = eq.perp(pts[9]);\n    return (! eq2.crosses(pts[0], pts[10]));\n}\n\nfunction thumbMiddleOpposite(pts) {\n    var eq;\n    eq = new LineEq(pts[5], pts[6]);\n    return eq.crosses(pts[2], pts[10]);\n}\n\nfunction thumbCorsses(pts) {\n    var _, eq, it, seg;\n    eq = new LineEq(pts[5], pts[6]);\n    seg = new LineSegment(pts[3], pts[4]);\n    [it, _] = seg.intersectEq(eq);\n    return it;\n}\n\nexport function deactivateDrag2() {\n    active = false;\n}\n\nfunction checkForCross(pts) {\n    var d1, d2, eq;\n    eq = new LineEq(pts[5], pts[6]);\n    d1 = eq.distFrom(pts[4]);\n    d2 = eq.distFrom(pts[10]);\n    if ((d1 > (d2 / 4))) {\n        return true;\n    }\n    return false;\n}\n\nexport function checkDrag2(pts) {\n    var bent, crosses, d1, d2, factor, opp;\n    bent = bentForward(pts);\n    opp = thumbMiddleOpposite(pts);\n    crosses = thumbCorsses(pts);\n    if ((((! bent) && opp) && crosses)) {\n        if (checkForCross(pts)) {\n            active = true;\n            return active;\n        }\n    }\n    d1 = dist(pts[4], pts[10]);\n    d2 = dist(pts[10], pts[11]);\n    factor = 100.0;\n    if ((d1 !== 0)) {\n        factor = (d2 / d1);\n    }\n    if (active) {\n        if (factor < THRESHOLD_2) {\n            active = false;\n        }\n    } else {\n        if (factor > THRESHOLD_1) {\n            active = true;\n        }\n    }\n    return active;\n}\n\n\n\n*/","import {GestureRecognizer} from './GestureRecognizer';\n\nimport { \n    mkpt, \n    setCanvas,\n    drawLandmarks,\n    showInit,\n    showCameraImage,\n    clearCameraCanvas,\n    clearLandmarkCanvas,\n    showFlashMessage,\n    drawActivePoint\n    } from './Frame';\n\nvar PENDING_THRESHOLD = 30;\n\nvar gestureRecognizer = null;\nvar prevGesture = null;\nvar timer = null;\nvar pendingGesture = null;\n\nvar initStartTime = null;\nvar flashDuration = -1;\n\nvar showingVideo = false;\nvar flashing = true;\n\nfunction handleLast(curGesture) {\n    if (pendingGesture != null && curGesture.id != 'noop') {\n        if (timer != null) {\n            window.clearTimeout(timer);\n            timer = null;\n        }\n        if (pendingGesture.id != curGesture.id) {\n            pendingGesture.done();\n        }\n        pendingGesture = null;\n    }\n\n    if (prevGesture != null && prevGesture.id != curGesture.id) {\n        if ((prevGesture.id == 'drag1' || prevGesture.id == 'drag2') &&\n            prevGesture.dragger.moving &&\n            curGesture.id == 'noop') {\n            pendingGesture = prevGesture;\n            timer = window.setTimeout(()=> {\n                if (pendingGesture != null) {\n                    pendingGesture.done()\n                    pendingGesture = null;\n                    timer = null;\n                }\n            }, PENDING_THRESHOLD);\n        } else {\n            prevGesture.done();\n        }\n    }\n\n    prevGesture = curGesture;\n}\n\nfunction handle(landmarks, hand) {\n    //if ((hand.toLowerCase() === \"right\")) {\n    //    return;\n    //}\n    drawLandmarks(landmarks);\n\n    var pts = []\n    for (let item of landmarks) {\n        pts.push(mkpt(item))\n    }\n\n    var curGesture = gestureRecognizer.get(landmarks, hand);\n    handleLast(curGesture);\n    curGesture.move(pts);\n    var activeptIdx = curGesture.activePoint();\n    if (activeptIdx >= 0) {\n        drawActivePoint(landmarks[activeptIdx]);\n    }\n}\n\nfunction showVideo(results) {\n    if (!showingVideo && !flashing) {\n        return;\n    }\n    showCameraImage(results.image)\n\n    if (flashing) {\n        var now = Date.now()\n        if (now - initStartTime > flashDuration) {\n            flashing = false;\n            clearCameraCanvas();\n        } else {\n            showFlashMessage();\n        }\n    }\n}\n\nexport var handleLandmarkResults = (results) => {\n    clearLandmarkCanvas();\n    showVideo(results);\n    \n    if (results.multiHandLandmarks && results.multiHandLandmarks.length > 0) {\n        var lms = {left: [], right: []}\n        //var used = new Set();\n        for (let item of results.multiHandedness) {\n            /*\n            let idx = item.index;\n            if (results.multiHandLandmarks.length > idx && !used.has(idx)) {\n                used.add(idx);\n                let hand = item.label.toLowerCase();\n                if (hand == \"left\") {\n                    lms.left.push(results.multiHandLandmarks[idx]);\n                } else if (hand == \"right\"){\n                    lms.right.push(results.multiHandLandmarks[idx]);\n                }\n            }*/\n            // Right now we have enabled only one hand\n            if (results.multiHandLandmarks.length > 0) {\n                let hand = item.label.toLowerCase();\n                // Left and right are revered becuase we are seeing front camera\n                if (hand == \"left\") {\n                    lms.right.push(results.multiHandLandmarks[0]);\n                } else if (hand == \"right\"){\n                    lms.left.push(results.multiHandLandmarks[0]);\n                }\n                break;\n            }\n\n        }\n        for (let item of lms.left) {\n            handle(item, 'left')\n        }\n        for (let item of lms.right) {\n            handle(item, 'right')\n        }\n    }\n}\n\nexport function initLandmarkHandler(canvasElement, cameraCanvas) {\n    initStartTime = Date.now();\n    if (gestureRecognizer == null) {\n        gestureRecognizer = new GestureRecognizer(null);\n    }\n    if (flashing) {\n        flashDuration = 7 * 1000;\n    } else {\n        flashDuration = 0;\n    }\n    showingVideo = false;\n\n    setCanvas(canvasElement, cameraCanvas);\n    showInit();\n}\n\nexport function showCameraVideo(val) {\n    clearCameraCanvas();\n    showingVideo = val;\n}\n\nexport default handleLandmarkResults;\n\n\n//var model = null;\n//var loadingModel = false;\n//\n//function loadModel() {\n//    window.tf.loadGraphModel('/mlmodels/v1/model.json').then((m) =>{\n//        model = m;\n//        gestureRecognizer = new GestureRecognizer(m);\n//    }).catch((e) => {\n//        loadingModel = false;\n//        console.log(e);\n//    });\n//}","import \"./Gestures.css\"\n\nimport {handleLandmarkResults, initLandmarkHandler, showCameraVideo} from \"./LandmarkHandler\";\nimport React, { useRef, useEffect } from 'react'\nimport {FaAngleDown, FaVideo} from 'react-icons/fa'\nimport { AiOutlineClose } from \"react-icons/ai\"\nimport { Button} from '@material-ui/core';\nimport {init as initGestures } from './Gestures'\n\nvar devices = [];\nconst getDevices = () => {\n    devices = [];\n    navigator.mediaDevices.enumerateDevices()\n    .then((deviceInfos) => {\n        for (const deviceInfo of deviceInfos) {\n            if (deviceInfo.kind === 'videoinput') {\n              var dev = {name: deviceInfo.label, id: deviceInfo.deviceId}\n              devices.push(dev);\n            }\n          }\n    })\n}\n\nconst GesturePanel = (props) => {\n    var [showList, setShowList] = React.useState(false);\n    var [showCamera, setShowCamera] = React.useState(false);\n    var [initialized, setInitialized] = React.useState(false)\n    \n    useEffect(() => {\n        initGestures();\n        getDevices();\n        startCamera();\n    }, []);\n\n    function startMediapipe(devId) {\n        console.log(\"Initializing mediapipe\");\n        window.frames[0].startCamera(devId, (results) => {\n            handleLandmarkResults(results)\n        });\n    }\n    function startCamera() {\n        var outCanvas = document.getElementById('gestureCanvas');\n        var cameraCanvas = document.getElementById('cameraCanvas');\n        const iframe = document.getElementById('mpframe');\n        if (!iframe || !outCanvas || !cameraCanvas) {\n            window.setTimeout(() => {\n                startCamera();\n            }, 10)\n        }\n        initLandmarkHandler(outCanvas, cameraCanvas);\n        iframe.addEventListener('load', () => {\n            setInitialized(true);\n            startMediapipe(null);\n        }, true);\n    }\n\n    const onListChange = (event) => {\n        console.log(event.target.value)\n        setShowList(false);\n        startMediapipe(event.target.value)\n    }\n\n    const onShowCamera = (event) => {\n        if (initialized) {\n            showCameraVideo(!showCamera)\n            setShowCamera(!showCamera);\n        }\n    }\n\n    const onShowList = (event) => {\n        if (initialized && devices.length > 0) {\n            setShowList(!showList);\n        }\n    }\n\n    return <>\n        <div className=\"gesture_panel\">\n            <canvas id=\"gestureCanvas\" width=\"1280px\" height=\"720px\"></canvas>\n            <iframe src=\"/mediapipe/mp.html\" title=\"A\" id=\"mpframe\" width=\"0\" height=\"0\"></iframe> \n        </div>\n        <Button className=\"listCameraButton\" onClick={onShowList}><FaAngleDown /></Button>\n        <Button className=\"showCameraVideoButton\" onClick={onShowCamera}><FaVideo /></Button>\n        <Button className=\"closeCameraVideoButton\" onClick={()=>props.showAirGesture(false)}><AiOutlineClose /></Button>\n        {showList &&\n        <select name='option' className=\"cameraDropDown\" size=\"4\" onChange={onListChange}>\n            {devices.map((dev) => {\n                return <option key={dev.id} value={dev.id}>{dev.name}</option>\n            })}\n        </select>\n        }\n    </>\n}\n\nexport default GesturePanel;\n\n\n/*\nfunction includeScript() {\n    var lib = 'https://cdn.jsdelivr.net/npm/@tensorflow/tfjs/dist/tf.min.js';\n    var loaded = document.querySelectorAll('[src=\"' + lib + '\"]').length > 0;\n    if (!loaded) {\n        const script = document.createElement(\"script\");\n        script.src = lib;\n        script.async = false;\n        script.crossorigin = 'anonymous';\n        document.body.appendChild(script);\n    }\n}\n*/","import './App.css';\n\nimport Content from './components/ViewPort/Content';\nimport React from \"react\";\nimport initializer from './common/Initializer'\nimport GesturePanel from './gestures/GesturePanel';\n\nclass AppComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dialog: null,\n      shapeHelp: null,\n      airGestureShowing: false\n    };\n    this.showDialog = this.showDialog.bind(this);\n    this.showShapeHelp = this.showShapeHelp.bind(this);\n    this.showAirGesture = this.showAirGesture.bind(this);\n  }\n\n  showShapeHelp(help) {\n    this.setState({shapeHelp:help});\n  }\n\n  showDialog(dialog) {\n    this.setState({dialog:dialog});\n  }\n\n  showAirGesture(flag) {\n    this.setState({airGestureShowing:flag});\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <Content cameraActive={this.state.airGestureShowing} />\n        {this.state.dialog}\n        {this.state.shapeHelp}\n        {this.state.airGestureShowing && <GesturePanel showAirGesture={this.showAirGesture}></GesturePanel>}\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    initializer.init(this.showDialog, this.showShapeHelp, this.showAirGesture);\n  }\n}\n\nexport default AppComponent;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\"\n// import \"../../assests/index.css\"\n// import \"../../assests/page.css\"\n\nconst AuthLayout = ({ children }) => {\n  return (\n    <div className=\"w-full h-full bg-white\">\n      <div className=\"global-container\">{children}</div>\n    </div>\n  )\n}\n\nexport default AuthLayout\n","import React from \"react\";\n\nconst ModalContainer = ({ children, parentOnClick }) => {\n  return (\n    <div\n      className=\"fixed top-30 left-0 right-0 bottom-0 w-screen h-screen bg-gray-200 bg-opacity-30 z-30\"\n      onClick={parentOnClick}\n    >\n      {children}\n    </div>\n  );\n};\n\nexport default ModalContainer;\n","import React from \"react\"\nimport ModalContainer from \"../ModalContainer/ModalContainer\"\n// import MiniLoader from \"./MiniLoader\"\n\nconst FullLoader = () => {\n  return (\n    <ModalContainer>\n      <div className=\"h-full w-full flex justify-center items-center\">\n        <div className=\"loading-spinner loading-spinner-big\"></div>\n      </div>\n    </ModalContainer>\n  )\n}\n\nexport default FullLoader\n","const { useLocation } = require(\"react-router-dom\")\n\nexport function useQuery() {\n  return new URLSearchParams(useLocation().search)\n}\n","import React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n// import InputField from \"../../components/InputField/InputField\"\n// import { Link } from \"react-router-dom\"\n// import MiniLoader from \"../../components/Loaders/MiniLoader\"\nimport { confirmAccount } from \"../../utils/ApiRequests\";\nimport FullLoader from \"../../components/Loaders/FullLoader\";\nimport { useQuery } from \"../../hooks/useQuery\";\nimport { toast } from \"react-toastify\";\n\nconst ConfirmUser = () => {\n  const [loading, setLoading] = useState(true);\n  const query = useQuery();\n  const history = useHistory();\n  const code = query.get(\"code\");\n  // console.log(code)\n  useEffect(() => {\n    confirmAccount({\n      code: code\n    })\n      .then(res => {\n        // console.log(res.data)\n        history.push(\"/login\");\n      })\n      .catch(err => {\n        history.push(\"/login\");\n        toast.error(\"Link is expired\");\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [code]);\n\n  return (\n    <div className=\"w-full min-h-screen flex justify-center items-center \">\n      {loading && <FullLoader />}\n    </div>\n  );\n};\n\nexport default ConfirmUser;\n","import React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport {\n  setExpiryTimeToStorage,\n  setRefreshTokenToStorage\n} from \"../../utils/ApiUtils\";\nimport { login } from \"../../utils/ApiRequests\";\nimport FullLoader from \"../../components/Loaders/FullLoader\";\nimport { useQuery } from \"../../hooks/useQuery\";\nimport { toast } from \"react-toastify\";\n\nconst ConfirmLogin = () => {\n  const [loading, setLoading] = useState(true);\n  const query = useQuery();\n  const history = useHistory();\n  const code = query.get(\"code\");\n\n  useEffect(() => {\n    login({\n      code: code\n    })\n      .then(res => {\n        // console.log(res.data)\n        // toast.success(\"Login Successful\");\n        setRefreshTokenToStorage(res.data.refresh_token);\n        setExpiryTimeToStorage(res.data.expires_at);\n        history.push(\"/docs/mydocs\");\n      })\n      .catch(err => {\n        history.push(\"/login\");\n        toast.error(err?.response?.data?.message);\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [code]);\n\n  return (\n    <div className=\"w-full min-h-screen flex justify-center items-center \">\n      {loading && <FullLoader />}\n    </div>\n  );\n};\n\nexport default ConfirmLogin;\n","import React, { useState } from \"react\";\nimport InputField from \"../../components/InputField/InputField\";\nimport { Link } from \"react-router-dom\";\nimport MiniLoader from \"../../components/Loaders/MiniLoader\";\nimport { login } from \"../../utils/ApiRequests\";\nimport { toast } from \"react-toastify\";\nimport {\n  setExpiryTimeToStorage,\n  setRefreshTokenToStorage\n  // setTokenToStorage\n} from \"../../utils/ApiUtils\";\nimport { GrMail } from \"react-icons/gr\";\nimport { useHistory } from \"react-router-dom\";\n\nconst EmailLogin = () => {\n  const [loginForm, setloginForm] = useState({\n    email: \"\"\n  });\n  const [loading, setLoading] = useState(false);\n  const history = useHistory();\n  const [successText, showSuccessText] = useState(false);\n  const [error, setError] = useState(null);\n\n  const handleChange = e => {\n    const name = e.target.name;\n    const value = e.target.value;\n    const newEntry = { [name]: value };\n    setloginForm({ ...loginForm, ...newEntry });\n  };\n\n  const proceed = () => {\n    if (loginForm.email === \"\") {\n      return false;\n    }\n    return true;\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setLoading(true);\n\n    login(loginForm)\n      .then(res => {\n        showSuccessText(true);\n      })\n      .catch(err => {\n        // console.log(err.response)\n        // toast.error(\"Invalid email or password\")\n        setError(err?.response?.data?.message);\n      })\n      .finally(() => setLoading(false));\n  };\n\n  return (\n    <div className=\"w-full min-h-screen flex justify-center items-center \">\n      <form\n        //   className=\"\"\n        onSubmit={handleSubmit}\n        className=\"w-full lg:w-3/5 px-5 lg:px-10 py-3 lg:py-6 shadow-md\"\n      >\n        <h1 className=\"font-medium text-xl  text-center mb-7\">\n          Sign in to Lekh{\" \"}\n        </h1>\n\n        <>\n          <InputField\n            name=\"email\"\n            label=\"Email\"\n            placeholder=\"you@address.com\"\n            required={true}\n            type=\"email\"\n            handleChange={handleChange}\n            value={loginForm.email}\n          />\n          {error && !loading && (\n            <span className=\"-mt-3 block italic text-red-500 text-sm\">\n              {error}\n            </span>\n          )}\n\n          {successText && (\n            <p className=\"-mt-3 italic font-medium\">\n              Please open the link you received in the email to login\n            </p>\n          )}\n        </>\n\n        <div className=\"flex \">\n          {loading ? (\n            <MiniLoader />\n          ) : (\n            <button\n              type=\"submit\"\n              className={`py-2 lg:py-3.5 px-12 font-Poppins bg-lkhRed text-white rounded-3xl outline-none border-0 ${\n                !proceed() ? \"bg-lkhGrey cursor-not-allowed\" : \"\"\n              }`}\n              disabled={!proceed()}\n            >\n              Log In\n            </button>\n          )}\n        </div>\n\n        <div className=\"flex items-center gap-2 mt-5 lg:flex-row flex-col\">\n          <button\n            className=\"flex items-center space-x-2 py-1 bg-white border-1 outline-none px-4 text-lg\"\n            onClick={e => {\n              history.push(\"/login\");\n            }}\n          >\n            {/* <GrMail /> */}\n            <span>Return to Sign In</span>\n          </button>\n\n          {/* <GoogleLogin\n            render={render => (\n              <button className=\"flex items-center space-x-2 py-1 bg-white border-1 outline-none px-4 text-lg\">\n                <img\n                  src={require(\"../../assests/icons/google.svg\").default}\n                  alt=\"Google\"\n                />{\" \"}\n                <span>Sign in with Google</span>\n              </button>\n            )}\n          /> */}\n        </div>\n\n        <div className=\"space-y-1 mt-2\">\n          <Link to=\"/forgot\" className=\"text-lg font-medium block\">\n            Forgot Password?\n          </Link>\n\n          <p className=\"text-lg font-medium m-0\">\n            Don't have an account?{\" \"}\n            <Link to=\"/sign-up\" className=\"font-normal\">\n              Sign up here\n            </Link>\n          </p>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default EmailLogin;\n","import React, { useState } from \"react\";\nimport InputField from \"../../components/InputField/InputField\";\nimport { Link } from \"react-router-dom\";\nimport MiniLoader from \"../../components/Loaders/MiniLoader\";\nimport { forgotPassword } from \"../../utils/ApiRequests\";\nimport { toast } from \"react-toastify\";\n\nconst Forgot = () => {\n  const [passwordForm, setpasswordForm] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(false);\n\n  const handleChange = e => {\n    const name = e.target.name;\n    const value = e.target.value;\n    const newEntry = { [name]: value };\n    setpasswordForm({ ...passwordForm, ...newEntry });\n  };\n\n  const proceed = () => {\n    if (passwordForm.email === \"\") {\n      return false;\n    }\n    return true;\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setLoading(true);\n    forgotPassword(passwordForm)\n      .then(res => {\n        setSuccess(true);\n      })\n      .catch(err => {\n        setError(\"Invalid email\");\n      })\n      .finally(() => setLoading(false));\n  };\n\n  return (\n    <div className=\"w-full min-h-screen flex justify-center items-center \">\n      <form\n        //   className=\"\"\n        onSubmit={handleSubmit}\n        className=\"w-full lg:w-3/5 px-5 lg:px-10 py-3 lg:py-6 shadow-md\"\n      >\n        <h1 className=\"font-medium text-xl  text-center mb-7\">\n          Forgot Password{\" \"}\n        </h1>\n\n        <InputField\n          name=\"email\"\n          label=\"Email\"\n          placeholder=\"you@address.com\"\n          required={true}\n          type=\"email\"\n          handleChange={handleChange}\n          value={passwordForm.email}\n        />\n        {success && !loading && (\n          <>\n          <p className=\"-mt-3 font-medium\">\n            Please proceed to your mail\n          </p>\n          <p className=\"-mt-3 italic text-sm\">\n          (Please check the <strong>\"All Mail\"</strong> folder if you don’t find the email in Inbox)\n          </p>\n        </>\n        )}\n        {error && !loading && (\n          <span className=\"-mt-3 block italic text-red-500 text-sm\">\n            {error}\n          </span>\n        )}\n\n        <div className=\"flex \">\n          {loading ? (\n            <MiniLoader />\n          ) : (\n            <button\n              type=\"submit\"\n              className={`py-2 lg:py-3.5 px-12 font-Poppins bg-lkhRed text-white rounded-3xl outline-none border-0 ${\n                !proceed() ? \"bg-lkhGrey cursor-not-allowed\" : \"\"\n              }`}\n              disabled={!proceed()}\n            >\n              Forgot Password\n            </button>\n          )}\n        </div>\n\n        <div className=\"space-y-1 mt-2\">\n          {/* <Link to=\"/forgot\" className=\"text-lg font-medium block\">\n            Forgot Password?\n          </Link> */}\n          <p className=\"text-lg font-medium\">\n            Have an account?{\" \"}\n            <Link to=\"/login\" className=\"font-normal\">\n              Log in\n            </Link>\n          </p>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default Forgot;\n","import React, { useState } from \"react\";\nimport InputField from \"../../components/InputField/InputField\";\nimport { Link } from \"react-router-dom\";\nimport MiniLoader from \"../../components/Loaders/MiniLoader\";\nimport { login, loginWithGoogle, loginWithApple } from \"../../utils/ApiRequests\";\nimport util from \"../../common/Util\";\nimport { GoogleLogin } from \"react-google-login\";\nimport {\n  setExpiryTimeToStorage,\n  setRefreshTokenToStorage\n  // setTokenToStorage\n} from \"../../utils/ApiUtils\";\nimport { GrMail, GrApple } from \"react-icons/gr\";\nimport { useHistory } from \"react-router-dom\";\nimport { constant } from \"../../utils/ApiConstants\";\n\nvar attemptedLoadingAppleScript = false;\nvar appleAuthInitialized = false;\n\nconst loadAppleScript = async () => {\n  if (attemptedLoadingAppleScript) {\n    return;\n  }\n  attemptedLoadingAppleScript = true;\n  await util.loadScript('apple/appleid.auth.js');\n  //try {\n    //await util.loadScript('https://appleid.cdn-apple.com/appleauth/static/jsapi/appleid/1/en_US/appleid.auth.js');\n  //} catch(err) {\n  //}\n}\n\nconst initAppleAuth = () => {\n  if (appleAuthInitialized) {\n    return;\n  }\n  appleAuthInitialized = true;\n  window.AppleID.auth.init({\n    clientId: \"com.avabodh.lekh.signin\",\n    scope: \"name email\",\n    redirectURI: constant.appUrl,\n    state: \"lekhapp\",\n    usePopup: true,\n  });\n}\n\nconst Login = () => {\n  const [loginForm, setloginForm] = useState({\n    email: \"\",\n    password: \"\",\n    code: \"\"\n  });\n  const [loading, setLoading] = useState(false);\n  const [formType, setFormType] = useState(\"regular\");\n  const [error, setError] = useState(null);\n  const history = useHistory();\n  const [successText, showSuccessText] = useState(false);\n  const [appleScriptLoaded, setAppleScriptLoaded] = useState(false);\n\n  if (!appleScriptLoaded) {\n    loadAppleScript().then(() => {\n      if (window.AppleID) {\n        initAppleAuth();\n        setAppleScriptLoaded(true);\n      }\n    })\n  }\n\n  const handleChange = e => {\n    const name = e.target.name;\n    const value = e.target.value;\n    const newEntry = { [name]: value };\n    setloginForm({ ...loginForm, ...newEntry });\n  };\n\n  const proceed = () => {\n    if (\n      (loginForm.email === \"\" || loginForm.password === \"\") &&\n      formType === \"regular\"\n    ) {\n      return false;\n    }\n    return true;\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setLoading(true);\n\n    if (formType === \"email\") {\n      setloginForm({ ...loginForm, ...{ password: null } });\n    }\n\n    login(loginForm)\n      .then(res => {\n        if (formType === \"email\") {\n          showSuccessText(true);\n        } else {\n          setRefreshTokenToStorage(res.data.refresh_token);\n          setExpiryTimeToStorage(res.data.expires_at);\n          history.push(\"/docs/mydocs\");\n        }\n      })\n      .catch(err => {\n        setError(err?.response?.data?.message);\n      })\n      .finally(() => setLoading(false));\n  };\n\n  const handleGoogleLoginFailure = async googleData => {\n    console.log(googleData);\n    setError(\"Google Login Failed\");\n    setLoading(false);\n  }\n\n  const handleGoogleLogin = async googleData => {\n    let res = null;\n    try {\n      res = await loginWithGoogle({token: googleData.tokenId});\n    } catch (err) {\n      setError(err?.response?.data?.message);\n      setLoading(false);\n      return;\n    }\n    setRefreshTokenToStorage(res.data.refresh_token);\n    setExpiryTimeToStorage(res.data.expires_at);\n    history.push(\"/docs/mydocs\");\n    setLoading(false);\n  }\n\n  const handleAppleLogin = async () => {\n    var response;\n    try {\n      response = await window.AppleID.auth.signIn();\n    } catch (err) {\n      console.log(err);\n      setError(\"Unable to authenticate with Apple\");\n      setLoading(false);\n      return;\n    }\n      \n    let token = '';\n    let firstName = '';\n    let lastName = '';\n    let code = '';\n    if (response.authorization) {\n      token = response.authorization.id_token;\n      code = response.authorization.code;\n    }\n    if (response.user && response.user.name) {\n      firstName = response.user.name.firstName;\n      lastName = response.user.name.lastName;\n    }\n    let data = {\n      token: token,\n      code: code,\n      first_name: firstName,\n      last_name: lastName\n    }\n    try {\n      var res = await loginWithApple(data);\n    } catch (err) {\n      console.log(err)\n      setError(\"Unknown error!\");\n      setLoading(false);\n      return;\n    }\n    setRefreshTokenToStorage(res.data.refresh_token);\n    setExpiryTimeToStorage(res.data.expires_at);\n    history.push(\"/docs/mydocs\");\n    setLoading(false);\n  }\n\n  return (\n    <div className=\"w-full min-h-screen flex justify-center items-center \">\n      <form\n        //   className=\"\"\n        onSubmit={handleSubmit}\n        className=\"w-full lg:w-3/5 px-5 lg:px-10 py-3 lg:py-6 shadow-md\"\n      >\n        <h1 className=\"font-medium text-xl  text-center mb-7\">\n          Sign in to Lekh{\" \"}\n        </h1>\n\n        <>\n          <InputField\n            name=\"email\"\n            label=\"Email\"\n            placeholder=\"you@address.com\"\n            required={true}\n            type=\"email\"\n            handleChange={handleChange}\n            value={loginForm.email}\n          />\n\n          <InputField\n            name=\"password\"\n            type=\"password\"\n            placeholder=\"Password\"\n            required={true}\n            label=\"Password\"\n            value={loginForm.password}\n            handleChange={handleChange}\n          />\n\n          {error && !loading && (\n            <span className=\"-mt-3 block italic text-red-500 text-sm\">\n              {error}\n            </span>\n          )}\n        </>\n\n        <div className=\"flex \">\n          {loading ? (\n            <MiniLoader />\n          ) : (\n            <button\n              type=\"submit\"\n              className={`py-2 lg:py-3.5 px-12 font-Poppins bg-lkhRed text-white rounded-3xl outline-none border-0 ${\n                !proceed() ? \"bg-lkhGrey cursor-not-allowed\" : \"\"\n              }`}\n              disabled={!proceed()}\n            >\n              Log In\n            </button>\n          )}\n        </div>\n\n        <div className=\"flex items-start gap-2 mt-5 flex-col\">\n          <button\n            className=\"flex items-center space-x-2 py-1 bg-white border-1 outline-none px-4 text-lg\"\n            onClick={e => {\n              history.push(\"/passwordless-login\");\n            }}\n          >\n            <GrMail />\n            <span>Login without password</span>\n          </button>\n        \n          {<GoogleLogin\n            render={renderProps => (\n              <button className=\"flex items-center space-x-2 py-1 mt-2 bg-white border-1 outline-none px-4 text-lg\"\n                onClick={renderProps.onClick} disabled={renderProps.disabled}>\n                <img src={require(\"../../assests/icons/google.svg\").default} alt=\"Google\" />{\" \"}\n                <span>Sign in with Google &nbsp;&nbsp;&nbsp;&nbsp;</span>\n            </button>\n            )}\n            clientId={\"10145530965-qqoheu39gba07e38hi7obqjhtihhrpb9.apps.googleusercontent.com\"}\n            onSuccess={handleGoogleLogin}\n            onFailure={handleGoogleLoginFailure}\n            cookiePolicy={'single_host_origin'}\n          />}\n\n          <button\n            disabled={!appleScriptLoaded}\n            className=\"flex items-center space-x-2 py-1 mt-2 bg-white border-1 outline-none px-4 text-lg\"\n            onClick={e => {\n              e.preventDefault()\n              handleAppleLogin()\n            }}\n          >\n            <GrApple />\n            <span>Sign in with Apple &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>\n          </button>\n        </div>\n\n        <div className=\"space-y-1 mt-2\">\n          <Link to=\"/forgot\" className=\"text-lg font-medium block\">\n            Forgot Password?\n          </Link>\n\n          <p className=\"text-lg font-medium m-0\">\n            Don't have an account?{\" \"}\n            <Link to=\"/sign-up\" className=\"font-normal\">\n              Sign up here\n            </Link>\n          </p>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default Login;\n","import React, { useState } from \"react\";\nimport InputField from \"../../components/InputField/InputField\";\nimport { Link } from \"react-router-dom\";\nimport MiniLoader from \"../../components/Loaders/MiniLoader\";\nimport { login } from \"../../utils/ApiRequests\";\nimport { useHistory } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport {\n  setExpiryTimeToStorage,\n  setRefreshTokenToStorage\n} from \"../../utils/ApiUtils\";\n\nconst OTPLogin = () => {\n  const [loginForm, setloginForm] = useState({\n    email: \"\"\n  });\n  const [loading, setLoading] = useState(false);\n  const history = useHistory();\n  const [successText, showSuccessText] = useState(false);\n  const [error, setError] = useState(null);\n  //   const [step, setStep] = useState(1);\n\n  //   I am here\n\n  const handleChange = e => {\n    const name = e.target.name;\n    const value = e.target.value;\n    const newEntry = { [name]: value };\n    setloginForm({ ...loginForm, ...newEntry });\n  };\n\n  const proceed = () => {\n    if (loginForm.email === \"\") {\n      return false;\n    }\n    return true;\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setLoading(true);\n\n    login(\n      successText\n        ? { email: loginForm.email, code_type: \"otp\", code: loginForm.code }\n        : {\n            email: loginForm.email,\n            type: \"otp\"\n          }\n    )\n      .then(res => {\n        showSuccessText(true);\n\n        if (loginForm.code) {\n          toast.success(\"Login Successful\");\n          setRefreshTokenToStorage(res.data.refresh_token);\n          setExpiryTimeToStorage(res.data.expires_at);\n          history.push(\"/docs/mydocs\");\n        }\n      })\n      .catch(err => {\n        setError(err?.response?.data?.message);\n      })\n      .finally(() => setLoading(false));\n  };\n\n  return (\n    <div className=\"w-full min-h-screen flex justify-center items-center \">\n      <form\n        //   className=\"\"\n        onSubmit={handleSubmit}\n        className=\"w-full lg:w-3/5 px-5 lg:px-10 py-3 lg:py-6 shadow-md\"\n      >\n        <h1 className=\"font-medium text-xl  text-center mb-7\">\n          Sign in to Lekh{\" \"}\n        </h1>\n\n        <>\n          {!successText && (\n            <InputField\n              name=\"email\"\n              label=\"Email\"\n              placeholder=\"you@address.com\"\n              required={true}\n              type=\"email\"\n              handleChange={handleChange}\n              value={loginForm.email}\n            />\n          )}\n\n          {successText && (\n            <>\n              <InputField\n                name=\"code\"\n                label=\"OTP\"\n                placeholder=\"000000\"\n                required={true}\n                type=\"number\"\n                handleChange={handleChange}\n                value={loginForm.code}\n              />\n\n              <p className=\"-mt-3 font-medium\">\n              Please enter the code you received in your email or open the link from the email.\n              </p>\n              <p className=\"-mt-3 italic text-sm\">\n              (Please check the <strong>\"All Mail\"</strong> folder if you don’t find the email in Inbox)\n              </p>\n            </>\n          )}\n          {error && !loading && (\n            <span className=\"-mt-3 block italic text-red-500 text-sm\">\n              {error}\n            </span>\n          )}\n        </>\n\n        <div className=\"flex \">\n          {loading ? (\n            <MiniLoader />\n          ) : (\n            <div className=\"flex items-center gap-5\">\n              <button\n                type=\"submit\"\n                className={`py-2 lg:py-3.5 px-12 font-Poppins bg-lkhRed text-white rounded-3xl outline-none border-0 ${\n                  !proceed() ? \"bg-lkhGrey cursor-not-allowed\" : \"\"\n                }`}\n                disabled={!proceed()}\n              >\n                {successText ? \"Login\" : \"Proceed\"}\n              </button>\n            </div>\n          )}\n        </div>\n\n        <div className=\"flex items-center gap-2 mt-5 lg:flex-row flex-col\">\n          <button\n            className=\"flex items-center space-x-2 py-1 bg-white border-1 outline-none px-4 text-lg\"\n            onClick={e => {\n              history.push(\"/login\");\n            }}\n          >\n            {/* <GrMail /> */}\n            <span>Return to Sign In</span>\n          </button>\n\n          {/* <GoogleLogin\n            render={render => (\n              <button className=\"flex items-center space-x-2 py-1 bg-white border-1 outline-none px-4 text-lg\">\n                <img\n                  src={require(\"../../assests/icons/google.svg\").default}\n                  alt=\"Google\"\n                />{\" \"}\n                <span>Sign in with Google</span>\n              </button>\n            )}\n          /> */}\n        </div>\n\n        <div className=\"space-y-1 mt-2\">\n          <Link to=\"/forgot\" className=\"text-lg font-medium block\">\n            Forgot Password?\n          </Link>\n\n          <p className=\"text-lg font-medium m-0\">\n            Don't have an account?{\" \"}\n            <Link to=\"/sign-up\" className=\"font-normal\">\n              Sign up here\n            </Link>\n          </p>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default OTPLogin;\n","export var passwordCheck = /(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[^A-Za-z0-9])(?=.{8,})/;","import React, { useState } from \"react\";\nimport InputField from \"../../components/InputField/InputField\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport MiniLoader from \"../../components/Loaders/MiniLoader\";\nimport { resetPassword } from \"../../utils/ApiRequests\";\nimport { toast } from \"react-toastify\";\nimport { useQuery } from \"../../hooks/useQuery\";\nimport { passwordCheck } from \"./AuthUtil\";\n\nconst Reset = () => {\n  const query = useQuery();\n  const code = query.get(\"code\");\n  const [passwordForm, setpasswordForm] = useState({\n    password: \"\",\n    code: code,\n    cPassword: \"\"\n  });\n  const history = useHistory();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(true);\n  const [apiError, setApiError] = useState(null);\n  \n  const handleChange = e => {\n    const name = e.target.name;\n    const value = e.target.value;\n    const newEntry = { [name]: value };\n    setError(passwordCheck.test(value));\n\n    setpasswordForm({ ...passwordForm, ...newEntry });\n  };\n\n  const proceed = () => {\n    if (passwordForm.cPassword !== passwordForm.password) {\n      return false;\n    }\n\n    if (passwordForm.password === \"\") {\n      return false;\n    }\n    if (!error) {\n      return false;\n    }\n    return true;\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setLoading(true);\n\n    resetPassword(passwordForm)\n      .then(res => {\n        history.push(\"/login\");\n      })\n      .catch(err => {\n        setApiError(\"Unable to reset password\");\n        history.push(\"/forgot\");\n      })\n      .finally(() => setLoading(false));\n  };\n\n  return (\n    <div className=\"w-full min-h-screen flex justify-center items-center \">\n      <form\n        //   className=\"\"\n        onSubmit={handleSubmit}\n        className=\"w-full lg:w-3/5 px-5 lg:px-10 py-3 lg:py-6 shadow-md\"\n      >\n        <h1 className=\"font-medium text-xl  text-center mb-7\">\n          Reset password{\" \"}\n        </h1>\n\n        <InputField\n          name=\"password\"\n          label=\"Password\"\n          placeholder=\"New Password\"\n          required={true}\n          type=\"password\"\n          handleChange={handleChange}\n          value={passwordForm.password}\n          error={!error}\n          errorText=\"Password must be a minimum of 8 characters including a capital letter and special character\"\n        />\n\n        <InputField\n          name=\"cPassword\"\n          label=\"Confirm Password\"\n          placeholder=\"Confirm Password\"\n          required={true}\n          type=\"password\"\n          handleChange={handleChange}\n          value={passwordForm.cPassword}\n          error={passwordForm.password !== passwordForm.cPassword}\n          errorText=\"Passwords do not match\"\n        />\n\n        {apiError && !loading && (\n          <span className=\"-mt-3 block italic text-red-500 text-sm\">\n            {apiError}\n          </span>\n        )}\n\n        <div className=\"flex \">\n          {loading ? (\n            <MiniLoader />\n          ) : (\n            <button\n              type=\"submit\"\n              className={`py-2 lg:py-3.5 px-12 font-Poppins bg-lkhRed text-white rounded-3xl outline-none border-0 ${\n                !proceed() ? \"bg-lkhGrey cursor-not-allowed\" : \"\"\n              }`}\n              disabled={!proceed()}\n            >\n              Reset password\n            </button>\n          )}\n        </div>\n\n        <div className=\"space-y-1 mt-2\">\n          {/* <Link to=\"/forgot\" className=\"text-lg font-medium block\">\n            Forgot password?\n          </Link> */}\n          <p className=\"text-lg font-medium\">\n            Have an account?{\" \"}\n            <Link to=\"/login\" className=\"font-normal\">\n              Log in\n            </Link>\n          </p>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default Reset;\n","import React, { useState } from \"react\";\nimport InputField from \"../../components/InputField/InputField\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport MiniLoader from \"../../components/Loaders/MiniLoader\";\nimport { signUp } from \"../../utils/ApiRequests\";\nimport { toast } from \"react-toastify\";\nimport { passwordCheck } from \"./AuthUtil\";\n\nconst SignUp = () => {\n  const [signUpForm, setSignUpForm] = useState({\n    email: \"\",\n    password: \"\",\n    first_name: \"\",\n    last_name: \"\",\n    cPassword: \"\"\n  });\n  const [loading, setLoading] = useState(false);\n  const history = useHistory();\n  const [error, setError] = useState(true);\n  const [apiError, setApiError] = useState(null);\n  const [submitSuccess, setSubmitSuccess] = useState(false);\n\n  // console.log(error)\n  const handleChange = e => {\n    const name = e.target.name;\n    const value = e.target.value;\n    const newEntry = { [name]: value };\n    setSignUpForm({ ...signUpForm, ...newEntry });\n  };\n\n  const handlePasswordChange = e => {\n    const name = e.target.name;\n    const value = e.target.value;\n    const newEntry = { [name]: value };\n    setError(passwordCheck.test(value));\n    setSignUpForm({ ...signUpForm, ...newEntry });\n  };\n\n  const proceed = () => {\n    if (signUpForm.email === \"\" || signUpForm.password === \"\") {\n      return false;\n    }\n    if (signUpForm.password !== signUpForm.cPassword) {\n      return false;\n    }\n    if (!error) {\n      return false;\n    }\n    return true;\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setLoading(true);\n    signUp(signUpForm)\n      .then(res => {\n        // console.log(res.data)\n        //toast.success(\"Please follow the email to active your account\");\n        //history.push(\"/login\");\n        setSubmitSuccess(true);\n      })\n      .catch(err => {\n        // console.log(err.response);\n        setApiError(err.response.data.message);\n      })\n      .finally(() => setLoading(false));\n  };\n\n  return (\n    <div className=\"w-full min-h-screen flex justify-center items-center \">\n      <form\n        //   className=\"\"\n        onSubmit={handleSubmit}\n        className=\"w-full lg:w-3/5 px-5 lg:px-10 py-3 lg:py-6 shadow-md\"\n      >\n        <h1 className=\"font-medium text-xl  text-center mb-7\">\n          Sign up to Lekh{\" \"}\n        </h1>\n\n        {!submitSuccess &&<><div className=\"w-full grid grid-cols-2 gap-5\">\n          <InputField\n            name=\"first_name\"\n            label=\"First Name\"\n            placeholder=\"First Name\"\n            handleChange={handleChange}\n            value={signUpForm.first_name}\n          />\n          <InputField\n            name=\"last_name\"\n            label=\"Last name\"\n            placeholder=\"Last Name\"\n            handleChange={handleChange}\n            value={signUpForm.last_name}\n          />\n        </div>\n\n        <InputField\n          name=\"email\"\n          label=\"Email\"\n          placeholder=\"you@address.com\"\n          required={true}\n          type=\"email\"\n          handleChange={handleChange}\n          value={signUpForm.email}\n        />\n        <InputField\n          name=\"password\"\n          type=\"password\"\n          placeholder=\"Password\"\n          required={true}\n          label=\"Password\"\n          value={signUpForm.password}\n          handleChange={handlePasswordChange}\n          error={!error}\n          errorText=\"Password must be a minimum of 8 characters including a capital letter and special character\"\n        />\n\n        <InputField\n          name=\"cPassword\"\n          type=\"password\"\n          placeholder=\"Confirm Password\"\n          required={true}\n          label=\"Confirm Password\"\n          value={signUpForm.cPassword}\n          handleChange={handleChange}\n          error={signUpForm.password !== signUpForm.cPassword}\n          errorText=\"Passwords do not match\"\n        />\n\n        {apiError && !loading && (\n          <span className=\"-mt-3 block italic text-red-500 text-sm\">\n            {apiError}\n          </span>\n        )}\n        <div className=\"flex \">\n          {loading ? (\n            <MiniLoader />\n          ) : (\n            <button\n              type=\"submit\"\n              className={`py-2 lg:py-3.5 px-12 font-Poppins bg-lkhRed text-white rounded-3xl outline-none border-0 ${\n                !proceed() ? \"bg-lkhGrey cursor-not-allowed\" : \"\"\n              }`}\n              disabled={!proceed()}\n            >\n              Create an account\n            </button>\n          )}\n        </div></>}\n        {submitSuccess && <>\n          <p className=\"-mt-3 font-medium\">\n          Please follow the instructions in the email to activate your account.\n          </p>\n          <p className=\"-mt-3 italic text-sm\">\n          (Please check the <strong>\"All Mail\"</strong> folder if you don’t find the email in Inbox)\n          </p>\n\n          <p className=\"text-lg font-medium\">\n            Back to{\" \"}\n            <Link to=\"/login\" className=\"font-normal\">\n              Log in\n            </Link>\n          </p>\n        </>}\n\n        <p className=\"text-lg font-medium\">\n          Have an account?{\" \"}\n          <Link to=\"/login\" className=\"font-normal\">\n            Log in\n          </Link>\n        </p>\n        <p className=\"text-lg font-medium\">\n          <Link to=\"/passwordless-login\" className=\"font-normal\">\n          Log in\n          </Link>\n          {\" \"}without signing up\n        </p>\n      </form>\n    </div>\n  );\n};\n\nexport default SignUp;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { checkLogin } from \"../utils/ApiUtils\";\n\nconst PublicRoute = ({ component: Component, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        checkLogin() ? <Redirect to=\"/docs/mydocs\" /> : <Component {...props} />\n      }\n    />\n  );\n};\n\nexport default PublicRoute;\n","import { Switch, Route } from \"react-router-dom\";\nimport AuthLayout from \"../components/AuthLayout/AuthLayout\";\nimport ConfirmUser from \"../pages/auth/Confirm\";\nimport ConfirmLogin from \"../pages/auth/ConfirmLogin\";\nimport EmailLogin from \"../pages/auth/EmailLogin\";\nimport Forgot from \"../pages/auth/Forgot\";\nimport Login from \"../pages/auth/Login\";\nimport OTPLogin from \"../pages/auth/OTPLogin\";\nimport Reset from \"../pages/auth/Reset\";\nimport SignUp from \"../pages/auth/SignUp\";\nimport PublicRoute from \"./PublicRoute\";\n\nexport const AuthRouteList = [\n  { path: \"/login\", component: Login, exact: true },\n  { path: \"/email-login\", component: EmailLogin, exact: true },\n  { path: \"/passwordless-login\", component: OTPLogin, exact: true },\n  { path: \"/sign-up\", component: SignUp, exact: true },\n  { path: \"/forgot\", component: Forgot, exact: true },\n  { path: \"/user/reset\", component: Reset, exact: true },\n  { path: \"/user/confirm\", component: ConfirmUser, exact: true },\n  { path: \"/user/passwordless-login\", component: ConfirmLogin, exact: true }\n];\n\n// To add a private route HOC when approved\n\nconst AuthRoutes = () => {\n  return (\n    <Switch>\n      <main className=\"inner-route-body\">\n        <AuthLayout>\n          {AuthRouteList.map(r => (\n            <PublicRoute\n              key={r.path}\n              component={r.component}\n              exact={r.exact}\n              path={r.path}\n            />\n          ))}\n        </AuthLayout>\n      </main>\n    </Switch>\n  );\n};\n\nexport default AuthRoutes;\n","import React from \"react\"\n\nconst useClickOutside = (ref, callback) => {\n  const handleClick = e => {\n    if (ref.current && !ref.current.contains(e.target)) {\n      callback()\n    }\n  }\n  React.useEffect(() => {\n    document.addEventListener(\"click\", handleClick)\n    return () => {\n      document.removeEventListener(\"click\", handleClick)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n}\n\nexport default useClickOutside\n","import React, { useState } from \"react\";\nimport { AiOutlineClose, AiOutlinePlus } from \"react-icons/ai\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport InputField from \"../../components/InputField/InputField\";\nimport Select from \"react-select\";\nimport FullLoader from \"../../components/Loaders/FullLoader\";\nimport userInfo from \"../../utils/UserInfo\";\nimport { Link, NavLink, useHistory, useLocation } from \"react-router-dom\";\nimport docsManager from \"../../utils/DocsManager\";\nimport { useEffect } from \"react\";\n\nexport const NewBoard = ({ state, close }) => {\n  const [type, setType] = useState(\"board\");\n  const [name, setName] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  // const history = useHistory();\n\n  useEffect(() => {\n    setType(\"board\");\n    setName(\"\");\n    setLoading(false);\n    setError(null);\n  }, [close]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setLoading(true);\n    docsManager\n      .createDoc(docsManager.parent || userInfo?.data?.userid, type, name)\n      .then(res => {\n        close();\n      })\n      .catch(err => {\n        if (err?.response?.data?.code === \"doc_name_exists\") {\n          setError(\"Name exists\");\n        } else {\n          setError(err?.response?.data?.message);\n        }\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  };\n\n  const options = [\n    { value: \"board\", label: \"Board\" },\n    { value: \"folder\", label: \"Folder\" }\n    // { value: \"diagram\", label: \"Diagram\" },\n  ];\n\n  return (\n    <Dialog open={state} aria-labelledby=\"New Document\" className=\"px-5\">\n      {loading && <FullLoader />}\n      <form\n        action=\"\"\n        className=\"py-3 w-64 lg:w-96 bg-white \"\n        onSubmit={handleSubmit}\n      >\n        <div className=\"flex justify-between items-center mb-5 px-2\">\n          <div />\n          <h4 className=\"text-center text-xl m-0\">Create New</h4>\n\n          <AiOutlineClose className=\"text-xl cursor-pointer\" onClick={close} />\n        </div>\n        <div className=\"px-3 lg:px-5\">\n          <Select\n            options={options}\n            className=\"mb-3\"\n            onChange={e => setType(e.value)}\n            defaultValue=\"board\"\n            placeholder=\"Board\"\n          />\n          <InputField\n            label=\"Name\"\n            placeholder=\"Name\"\n            handleChange={e => setName(e.target.value)}\n            value={name}\n          />\n          {error && !loading && (\n            <span className=\"-mt-3 block italic text-red-500 text-sm\">\n              {error}\n            </span>\n          )}\n\n          <div className=\"text-right\">\n            <button\n              type=\"submit\"\n              className=\"text-white font-medium lg:text-lg px-3 py-1 bg-lkhRed outline-none border-none border-0 mx-auto\"\n            >\n              Create\n            </button>\n          </div>\n        </div>\n      </form>\n    </Dialog>\n  );\n};\n\nconst DashSidebar = ({ close }) => {\n  const location = useLocation();\n  const [openNew, setOpenNew] = useState(false);\n  const [docsState, setDocsState] = React.useState(docsManager.state);\n  const history = useHistory();\n\n  React.useEffect(() => {\n    var docsManagerCb = () => { setDocsState(docsManager.state) }\n    docsManager.event.addListener(docsManagerCb);\n    return () => {\n      docsManager.event.removeListener(docsManagerCb);\n    };\n  }, []);\n\n  return (\n    <aside\n      className=\"w-60 fixed top-0 left-0 bg-gray-100 h-screen px-6 py-5 transition-all\"\n      // ref={sideRef}\n    >\n      <NewBoard state={openNew} close={() => setOpenNew(false)} />\n      <div className=\"text-right m-0 mb-0 lg:hidden\">\n        <AiOutlineClose className=\"text-2xl\" onClick={close} />\n      </div>\n\n      <Link\n        to=\"/docs/mydocs\"\n        className=\"flex items-center justify-center mb-10\"\n      >\n        <img\n          src={require(\"../../assests/icons/Logo.svg\").default}\n          className=\"w-8/12\"\n          alt=\"Logo\"\n        />\n      </Link>\n      <div className=\"w-full flex justify-center\">\n        <button\n          className={`flex items-center justify-center text-white font-medium text-lg px-6 py-1 bg-lkhRed outline-none border-none border-0 mx-auto ${\n            !docsManager.canCreateNewDoc()\n              ? \"cursor-not-allowed bg-opacity-30 mx-auto\"\n              : \"\"\n          }`}\n          onClick={() => {\n            if (docsManager.canCreateNewDoc()) {\n              setOpenNew(true);\n            } else {\n              return;\n            }\n          }}\n        >\n          <AiOutlinePlus className=\"mr-2 font-semibold\" />{\" \"}\n          <span className=\"m-0\">New</span>\n        </button>\n      </div>\n\n      <NavLink\n        to=\"/docs/mydocs\"\n        className=\"block text-center mt-10 font-semibold text-lg\"\n        activeClassName=\"bg-white py-2\"\n      >\n        My Documents\n      </NavLink>\n\n      <NavLink\n        className=\"cursor-pointer block text-center mt-5 font-medium text-base \"\n        activeClassName=\"bg-white py-2\"\n        onClick={() => {}}\n        to=\"/docs/shared\"\n        exact={true}\n      >\n        Shared with me\n      </NavLink>\n    </aside>\n  );\n};\n\nexport default DashSidebar;\n","import React, { useRef, useState } from \"react\";\nimport { AiOutlineSearch } from \"react-icons/ai\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport useClickOutside from \"../../hooks/useOnClickOutside\";\nimport { GiHamburgerMenu } from \"react-icons/gi\";\nimport ModalContainer from \"../ModalContainer/ModalContainer\";\nimport DashSidebar from \"./DashSidebar\";\nimport userInfo from \"../../utils/UserInfo\";\nimport docsManager from \"../../utils/DocsManager\";\n\nconst MobileMenu = ({ close }) => {\n  return (\n    <ModalContainer>\n      <DashSidebar close={close} />\n    </ModalContainer>\n  );\n};\n\nconst DashboardTop = () => {\n  const settingsRef = useRef();\n  const [openSettings, setOpenSettings] = useState(false);\n  const [openMenu, setOpenMenu] = useState(false);\n  const [text, setText] = useState(\"\");\n  useClickOutside(settingsRef, () => setOpenSettings(false));\n  const history = useHistory();\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    docsManager.setSearchMode(text);\n    history.push(docsManager.getRoute());\n    docsManager.reload();\n  };\n\n  return (\n    <div className=\"sticky top-0 left-0 pb-5  shadow-md w-full flex justify-between items-center px-5 z-10 mb-5 lg:flex-row flex-col bg-white\">\n      {openMenu && <MobileMenu close={() => setOpenMenu(false)} />}\n      <div className=\"lg:hidden w-full flex justify-between items-center\">\n        <Link\n          to=\"/docs/mydocs\"\n          className=\"flex items-center justify-center mb-3\"\n        >\n          <img\n            src={require(\"../../assests/icons/Logo.svg\").default}\n            className=\"w-24\"\n            alt=\"Logo\"\n          />\n        </Link>\n\n        <GiHamburgerMenu\n          className=\"text-xl\"\n          onClick={() => setOpenMenu(true)}\n        />\n      </div>\n\n      <div>\n        <h1 className=\"text-xl font-medium m-0\">{`Welcome, ${\n          userInfo?.data?.first_name || userInfo?.data.email\n        }!`}</h1>\n      </div>\n\n      <div className=\"flex items-center lg:space-x-2 justify-between w-full lg:w-auto lg:justify-start\">\n        <form\n          className=\"flex items-center px-1 py-0 mx-auto\"\n          style={{ border: \"1px solid black\" }}\n          onSubmit={handleSubmit}\n        >\n          <input\n            type=\"text\"\n            placeholder=\"Search\"\n            className=\"border-none outline-none\"\n            value={text}\n            onChange={e => setText(e.target.value)}\n          />\n\n          <button\n            className=\"bg-transparent outline-none border-none m-0 p-0  \"\n            type=\"submit\"\n          >\n            <AiOutlineSearch className=\"text-lg\" />\n          </button>\n        </form>\n\n        {/* <img\n          src={require(\"../../assests/icons/help.svg\").default}\n          alt=\"avatar\"\n          className=\"w-7 h-6\"\n          // onClick={() => setOpenSettings(!openSettings)}\n        /> */}\n\n        <div className=\"relative\" ref={settingsRef}>\n          <img\n            src={require(\"../../assests/icons/avatar.svg\").default}\n            alt=\"avatar\"\n            className=\"w-7 h-7\"\n            onClick={() => setOpenSettings(!openSettings)}\n          />\n\n          {openSettings && (\n            <div className=\"absolute bg-white shadow-md transition-all  w-28 py-2 px-2 right-0 space-y-2 flex flex-col text-center\">\n              {/* <h1>Settings</h1> */}\n              <Link to=\"/user/settings\" className=\"text-gray-500\">\n                Settings\n              </Link>\n\n              <button\n                to=\"/login\"\n                onClick={() => {\n                  userInfo.logout();\n                  history.push(\"/login\");\n                }}\n                className=\"text-gray-500 cursor-pointer p-0 bg-transparent border-0 outline-none  text-base \"\n              >\n                Logout\n              </button>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DashboardTop;\n","import React from \"react\";\nimport DashboardTop from \"./DashboardTop\";\nimport DashSidebar from \"./DashSidebar\";\n\nconst DashLayout = ({ children }) => {\n  // const [loading, setLoading] = useState(true);\n\n  return (\n    <main className=\"flex w-full min-h-screen overflow-auto\">\n      {/* {loading && <FullLoader />} */}\n      {\n        <>\n          <div className=\"hidden lg:block\">\n            <DashSidebar />\n          </div>\n\n          <div className=\" lg:ml-60 bg-white w-full py-2 lg:py-7 h-screen \">\n            <DashboardTop />\n            <div\n              className=\"px-5 overflow-auto py-3\"\n              style={{ height: \"calc(100vh - 170px)\" }}\n            >\n              {children}\n            </div>\n          </div>\n        </>\n      }\n    </main>\n  );\n};\n\nexport default DashLayout;\n","import { AiOutlineClose } from \"react-icons/ai\";\nimport userInfo from \"../../utils/UserInfo\";\nimport ModalContainer from \"../ModalContainer/ModalContainer\";\nimport { IoFolderOutline } from \"react-icons/io5\";\nimport { useEffect, useRef, useState } from \"react\";\nimport useClickOutside from \"../../hooks/useOnClickOutside\";\nimport docsManager from \"../../utils/DocsManager\";\nimport MiniLoader from \"../Loaders/MiniLoader\";\n\nconst DetailsModal = ({ open, close, m }) => {\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const inScope = m?.in_my_scope === true;\n  const ref = useRef(null);\n\n  // useClickOutside(open ? ref : null, close);\n\n  // if (open)\n  useEffect(() => {\n    if (!inScope) {\n      return;\n    }\n    docsManager\n      .getFullPath(m?.docid, userInfo.data.userid)\n      .then(res => setData(res))\n      .catch(err => console.log(err.response))\n      .finally(() => {\n        setLoading(false);\n      });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (inScope) {\n      return;\n    }\n\n    docsManager\n      .getADoc(m?.docid)\n      .then(res => setData(res))\n      .catch(err => console.log(err.response))\n      .finally(() => {\n        setLoading(false);\n      });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // const handleKeyDown = event => {\n  //   if (event.key.toLowerCase()) {\n  //     close();\n  //   }\n  // };\n\n  // useEffect(() => {\n  //   document.addEventListener(\"keydown\", handleKeyDown);\n\n  //   return () => {\n  //     document.removeEventListener(\"keydown\", handleKeyDown);\n  //   };\n  //   // eslint-disable-next-line react-hooks/exhaustive-deps\n  // }, []);\n\n  return (\n    <ModalContainer>\n      <div className=\"h-full lg:w-80 w-64 py-7 px-2 bg-white fixed right-0 top-0 z-20 \">\n        <div ref={open ? ref : null}>\n          <div className=\"\">\n            <AiOutlineClose\n              className=\"text-3xl cursor-pointer\"\n              onClick={() => close()}\n            />\n          </div>\n\n          <h1 className=\"text-center text-xl\">{m.name}</h1>\n          {m.type === \"board\" && (\n            <img\n              src={require(\"../../assests/icons/Logo-grey.png\").default}\n              alt=\"Board Icon\"\n              className=\"w-full h-20 lg:h-40 object-scale-down my-7\"\n            />\n          )}\n\n          {m.type === \"folder\" && (\n            <IoFolderOutline className=\"w-full h-20 lg:h-40  object-scale-down my-7\"></IoFolderOutline>\n          )}\n\n          <div className=\"w-full space-y-3\">\n            <div className=\"details-grid\">\n              <h2 className=\"m-0 font-medium text-base\">Type:</h2>\n\n              <p className=\"capitalize m-0\">{m.type}</p>\n            </div>\n\n            <div className=\"details-grid\">\n              <h2 className=\"m-0 font-medium text-base\">Created at:</h2>\n\n              <p className=\"capitalize m-0\">\n                {new Date(m.created_at).toDateString()}\n              </p>\n            </div>\n\n            <div className=\"details-grid\">\n              <h2 className=\"m-0 font-medium text-base\">Updated at:</h2>\n\n              <p className=\"capitalize m-0\">\n                {new Date(m.updated_at).toDateString()}\n              </p>\n            </div>\n            {m.in_my_scope === true && !loading && (\n              <div className=\"details-grid\">\n                <h2 className=\"m-0 font-medium text-base\">Location:</h2>\n\n                <p className=\"m-0 break-all\">\n                  {userInfo?.data?.userid === m.parent ? (\n                    \"My Documents\"\n                  ) : (\n                    <>\n                      <span>My Documents</span>{\" \"}\n                      {data?.map(m => (\n                        <span key={m?.name}>/{m?.name}</span>\n                      ))}\n                    </>\n                  )}\n                </p>\n              </div>\n            )}\n\n            {m.in_my_scope === false && !loading && (\n              <div className=\"details-grid\">\n                <h2 className=\"m-0 font-medium text-base\">Shared by:</h2>\n                <p className=\"m-0 break-all\">{data?.owner}</p>\n              </div>\n            )}\n\n            {loading && <MiniLoader />}\n          </div>\n        </div>\n      </div>\n    </ModalContainer>\n  );\n};\n\nexport default DetailsModal;\n","import { Dialog } from \"@material-ui/core\";\nimport React, { useState, useEffect } from \"react\";\nimport { AiOutlineClose } from \"react-icons/ai\";\nimport { toast } from \"react-toastify\";\nimport InputField from \"../../components/InputField/InputField\";\nimport { RenameDoc } from \"../../utils/ApiRequests\";\nimport docsManager from \"../../utils/DocsManager\";\nimport MiniLoader from \"../Loaders/MiniLoader\";\n\nconst RenameModal = ({ state, close, m }) => {\n  const [newName, setName] = useState(m?.name);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    setError(null);\n    setLoading(false);\n  }, [close]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setLoading(true);\n    RenameDoc(m?.docid, {\n      name: newName,\n      parent: m?.parent\n    })\n      .then(res => {\n        // toast.success(\"Renamed Successfully\");\n        docsManager.reload();\n      })\n      .catch(err => setError(err?.response?.data?.message))\n      .finally(() => {\n        setLoading(false);\n        // docsManager.relo\n      });\n  };\n\n  return (\n    <Dialog open={state} className=\"px-5\">\n      <form\n        action=\"\"\n        className=\"py-2 w-64 lg:w-96 bg-white \"\n        onSubmit={handleSubmit}\n      >\n        <div className=\"flex justify-between items-center my-2 px-2\">\n          <div />\n          <h4 className=\"text-center m-0\">Rename</h4>\n\n          <AiOutlineClose className=\"text-xl cursor-pointer\" onClick={close} />\n        </div>\n\n        <hr className=\"-mb-5\" />\n\n        <div className=\"px-2\">\n          <InputField\n            // label=\"Rename\"\n            placeholder=\"Name\"\n            handleChange={e => setName(e.target.value)}\n            value={newName}\n          />\n          {error && !loading && (\n            <span className=\"-mt-3 block italic text-red-500 text-sm\">\n              {error}\n            </span>\n          )}\n\n          <div className=\"text-right\">\n            {loading ? (\n              <MiniLoader />\n            ) : (\n              <button\n                type=\"submit\"\n                className=\"text-white font-medium lg:text-lg px-3 py-1 bg-lkhRed outline-none border-none border-0 mx-auto\"\n              >\n                Rename\n              </button>\n            )}\n          </div>\n        </div>\n      </form>\n    </Dialog>\n  );\n};\n\nexport default RenameModal;\n","import { AiOutlineClose } from \"react-icons/ai\";\nimport { Dialog } from \"@material-ui/core\";\n// import Select from \"react-select\";\nimport { useEffect, useState } from \"react\";\nimport MiniLoader from \"../Loaders/MiniLoader\";\nimport { toast } from \"react-toastify\";\nimport docsManager from \"../../utils/DocsManager\";\nimport userInfo from \"../../utils/UserInfo\";\nimport { MoveDoc } from \"../../utils/ApiRequests\";\nimport { AiFillFolder, AiOutlineRight } from \"react-icons/ai\";\nimport { BiArrowBack } from \"react-icons/bi\";\n// import { IoArrowBackCircleSharp } from \"react-icons/io5\";\n\nconst MoveModal = ({ state, close, m }) => {\n  const [loading, setLoading] = useState(true);\n  const [data, setData] = useState();\n  const [parent, setParent] = useState(userInfo?.data?.userid);\n  const [error, setError] = useState(null);\n  const [parentDoc, setParentDoc] = useState(null);\n\n  const [cache, setCache] = useState(new Map());\n  const [childCache, setChildCache] = useState(new Map());\n\n  const getDoc = async (docid) => {\n    if (!docid || docid == userInfo?.data?.userid) {\n      return {docid: docid, name: 'Root Folder', parent: null}\n    }\n    if (cache.has(docid)) {\n      return cache.get(docid);\n    }\n    var doc = await docsManager.getADoc(docid);\n    cache.set(docid, doc);\n    return doc;\n  }\n\n  const getChildren = async (docid) => {\n    if (childCache.has(docid)) {\n      return childCache.get(docid);\n    }\n    var children = await docsManager.getChildFolders(docid);\n    childCache.set(docid, children);\n    for (let item of children) {\n      cache.set(item.docid, item);\n    }\n    return children;\n  }\n\n  useEffect(() => {\n    setLoading(true);\n    getDoc(parent)\n    .then(resp=>{\n      setParentDoc(resp);\n    })\n    .then(()=> getChildren(parent || userInfo?.data?.userid))\n    .then(res => {\n      setData(res);\n      setLoading(false);\n    })\n    .catch(err => console.log(err.response));\n  }, [parent]);\n\n  // console.log(options);\n  const handleSubmit = e => {\n    e.preventDefault();\n    setLoading(true);\n    MoveDoc(m?.docid, { parent: parent || userInfo?.data?.userid, name: m?.name })\n      .then(res => {\n        docsManager.reload();\n        close();\n      })\n      .catch(err => toast.error(err?.response?.data?.message))\n      .finally(() => {\n        setLoading(false);\n      });\n  };\n\n  return (\n    <Dialog open={state} className=\"px-5\" aria-labelledby=\"Share\">\n      <form\n        className={`py-2 h-72 w-64 lg:w-96 bg-white`}\n        onSubmit={handleSubmit}\n        // onClick\n      >\n        <div className=\"flex items-center justify-between my-2 px-3\">\n          {parent != userInfo?.data?.userid ? (\n            <BiArrowBack\n              className=\"text-xl cursor-pointer\"\n              onClick={() => {\n                setParent(parentDoc.parent);\n              }}\n            />\n          ) : (\n            <div />\n          )}\n\n          <h4 className=\"text-center m-0 w-44 truncate\">\n            {\" \"}\n            {parentDoc?.name || \"Root Folder\"}\n          </h4>\n\n          <AiOutlineClose\n            className=\"text-xl cursor-pointer\"\n            onClick={() => close()}\n          />\n        </div>\n        <hr />\n\n        {loading && (\n          <div className=\"mt-6\">\n            <MiniLoader />\n          </div>\n        )}\n        {!loading && (\n          <>\n            <div className=\"h-1/2 space-y-6 py-2 overflow-y-auto px-3\">\n              {data?.map((m, i) => (\n                <div\n                  className={`move-grid text-lg cursor-pointer hover:bg-gray-200`}\n                  key={i}\n                >\n                  <div\n                    className=\"flex items-center space-x-2 cursor-pointer\"\n                    onClick={() => {\n                      setParent(m.docid);\n                    }}\n                  >\n                    <AiFillFolder />\n                    <span className=\"w-40  lg:w-44 truncate\">{m.name}</span>\n                  </div>\n                  <AiOutlineRight\n                    className=\"cursor-pointer text-right ml-auto\"\n                    onClick={() => setParent(m.docid)}\n                  />\n                </div>\n              ))}\n            </div>\n\n            <div className=\"text-right mt-8 px-3\">\n              <button\n                type=\"submit\"\n                className=\"text-white font-medium lg:text-lg px-3 py-1 bg-lkhRed outline-none border-none border-0 mx-auto\"\n              >\n                Move Here\n              </button>\n            </div>\n          </>\n        )}\n      </form>\n    </Dialog>\n  );\n};\n\nexport default MoveModal;\n","import React, { useRef, useState } from \"react\";\n// import { truncateString } from \"../../utils/Helpers\";\nimport { BsThreeDotsVertical } from \"react-icons/bs\";\nimport useClickOutside from \"../../hooks/useOnClickOutside\";\nimport { toast } from \"react-toastify\";\nimport FullLoader from \"../Loaders/FullLoader\";\nimport ShareModal from \"./ShareModal\";\nimport DetailsModal from \"./DetailsModal\";\nimport docsManager from \"../../utils/DocsManager\";\nimport RenameModal from \"./RenameModal\";\nimport MoveModal from \"./MoveModal\";\nimport { useHistory } from \"react-router-dom\";\nimport { IoFolderOutline, IoPeople } from \"react-icons/io5\";\nimport { Dialog } from \"@material-ui/core\";\n\nconst DocumentListItem = ({ m }) => {\n  const [open, setOpen] = useState(false);\n  const ref = useRef();\n  useClickOutside(ref, () => setOpen(false));\n  const [loading, setLoading] = useState(false);\n  const [share, setShare] = useState(false);\n  const [showDetails, setShowDetails] = useState(false);\n  const [rename, setRename] = useState(false);\n  const [move, setMove] = useState(false);\n  const [deleting, setDeleting] = useState(false);\n  const history = useHistory();\n\n  // console.log(m);\n\n  const handleOpen = () => {\n    if (share || showDetails || rename || move) {\n      return;\n    }\n    if (m.type === \"board\") {\n      const win = window.open(`/?docid=${m.docid}`, \"_blank\");\n      //win.focus();\n    } else if (m.type === \"folder\") {\n      docsManager.pushParent(m.docid);\n      history.push(docsManager.getRoute());\n      docsManager.reload();\n    }\n  };\n\n  const duplicate = () => {\n    docsManager\n      .duplicate(m.docid)\n      .then(() => {\n        docsManager.reload();\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n\n  return (\n    <div\n      className=\"w-full h-40 lg:h-52 rounded-2xl shadow-md  flex flex-col justify-between\"\n      ref={ref}\n    >\n      {loading && <FullLoader />}\n      {share && (\n        <ShareModal state={share} close={() => setShare(false)} doc={m} />\n      )}\n      {showDetails && (\n        <DetailsModal\n          m={m}\n          close={() => setShowDetails(false)}\n          open={showDetails}\n        />\n      )}\n      <RenameModal state={rename} close={() => setRename(false)} m={m} />\n      {move && <MoveModal state={move} close={() => setMove(false)} m={m} />}\n\n      <Dialog open={deleting}>\n        <div className=\"w-64 lg:w-72 py-8 px-5 space-y-10\">\n          <p className=\"font-sans text-center text-lg\">\n            Are you sure you want to delete?\n          </p>\n\n          <div className=\"grid grid-cols-2 gap-5\">\n            <button\n              className=\"button border border-lkhRed text-center py-3 bg-white \"\n              onClick={() => setDeleting(false)}\n            >\n              Cancel\n            </button>\n\n            <button\n              onClick={() => {\n                setDeleting(false);\n                setLoading(true);\n                docsManager\n                  .deleteDoc(m.docid)\n                  .then(res => {})\n                  .catch(err => {\n                    toast(err?.response?.data?.code);\n                  })\n                  .finally(() => {\n                    setLoading(false);\n                  });\n              }}\n              className=\"button bg-lkhRed text-white border-0\"\n            >\n              Delete\n            </button>\n          </div>\n        </div>\n      </Dialog>\n\n      <div\n        className=\"h-3/4 relative transition-all hover:bg-gray-100 px-5 py-5  cursor-pointer\"\n        onClick={handleOpen}\n      >\n        {m.type === \"board\" && (\n          <img\n            src={require(\"../../assests/icons/Logo-grey.png\").default}\n            alt=\"Board Icon\"\n            className=\"w-5/6 h-5/6 object-scale-down\"\n          />\n        )}\n\n        {m.type === \"folder\" && (\n          <IoFolderOutline className=\"w-5/6 h-5/6 scale-y-90 scale-x-90 object-scale-down\"></IoFolderOutline>\n        )}\n\n        {m?.shared && m.in_my_scope && (\n          <IoPeople className=\"absolute right-3 text-lg top-5\" />\n        )}\n      </div>\n\n      <div className=\"flex items-center justify-between h-1/4 px-4 py-3 bg-gray-50\">\n        <h1 className=\"m-0 text-sm break-all font-medium line-clamp-2\">\n          {m.name}\n        </h1>\n\n        <div className=\"relative\">\n          <BsThreeDotsVertical\n            onClick={() => setOpen(!open)}\n            className=\"cursor-pointer\"\n          />\n\n          {open && (\n            <div className=\"absolute top-0 right-3 py-3 px-7 shadow-md bg-white space-y-4 text-left z-20\">\n              <p\n                className=\"text-sm cursor-pointer m-0 mb-2\"\n                onClick={() => {\n                  handleOpen();\n                }}\n              >\n                Open\n              </p>\n\n              <p\n                className=\"text-sm cursor-pointer m-0 mb-2\"\n                onClick={() => setShowDetails(true)}\n              >\n                Details\n              </p>\n\n              {m.in_my_scope && (\n                <>\n                  <p\n                    className=\"text-sm cursor-pointer\"\n                    onClick={() => setShare(true)}\n                  >\n                    Share\n                  </p>\n\n                  <p\n                    className=\"text-sm cursor-pointer\"\n                    onClick={() => setRename(true)}\n                  >\n                    Rename\n                  </p>\n\n                  {m.type != \"folder\" && (\n                    <p\n                      className=\"text-sm cursor-pointer\"\n                      onClick={() => {\n                        setOpen(!open);\n                        duplicate();\n                      }}\n                    >\n                      Duplicate\n                    </p>\n                  )}\n\n                  {m.type == \"board\" && (\n                    <p\n                      className=\"text-sm cursor-pointer\"\n                      onClick={() => setMove(true)}\n                    >\n                      Move\n                    </p>\n                  )}\n\n                  <p\n                    className=\"text-sm cursor-pointer\"\n                    onClick={() => setDeleting(true)}\n                  >\n                    Delete\n                  </p>\n                </>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DocumentListItem;\n","import React, { useState } from \"react\";\nimport FullLoader from \"../../components/Loaders/FullLoader\";\n// import { toast } from \"react-toastify\";\nimport DocumentListItem from \"../../components/DashboardItems/DocumentListItem\";\nimport docsManager from \"../../utils/DocsManager\";\nimport { AiOutlineRight, AiOutlinePlus } from \"react-icons/ai\";\nimport { useHistory } from \"react-router-dom\";\nimport { NewBoard } from \"../../components/DashLayout/DashSidebar\";\n\nconst Dashboard = props => {\n  const [docsState, setDocsState] = React.useState(docsManager.state);\n  const [openNew, setOpenNew] = useState(false);\n\n  const history = useHistory();\n\n  React.useEffect(() => {\n    var docsManagerCb = () => { setDocsState(docsManager.state) }\n    docsManager.event.addListener(docsManagerCb);\n    docsManager.setRoute(props.location.pathname, props.location.search);\n    docsManager.reload();\n\n    return () => {\n      docsManager.event.removeListener(docsManagerCb);\n    };\n  }, []);\n\n  return (\n    <div className=\"pb-40\">\n      {docsManager.state == \"loading\" && <FullLoader />}\n      <NewBoard state={openNew} close={() => setOpenNew(false)} />\n      {docsManager.state == \"available\" && (\n        <>\n          <div className=\"flex items-center space-x-2\">\n            <h1\n              className=\"text-xl font-medium m-0 mb-3 lg:mb-10 cursor-pointer\"\n              onClick={() => {\n                docsManager.popParentTo(null);\n                history.push(docsManager.getRoute());\n                docsManager.reload();\n              }}\n            >\n              {docsManager.getRootName()}\n            </h1>\n\n            {docsManager?.path &&\n              docsManager.path.map((m, i) => (\n                <h1\n                  className={`flex items-center space-x-2 text-xl font-medium m-0 mb-2 lg:mb-10 ${\n                    i !== docsManager.path.length - 1 ? \"cursor-pointer\" : \"\"\n                  }`}\n                  onClick={() => {\n                    if (i !== docsManager.path.length - 1) {\n                      docsManager.popParentTo(m.docid);\n                      history.push(docsManager.getRoute());\n                      docsManager.reload();\n                    }\n                  }}\n                  key={i}\n                >\n                  <AiOutlineRight className=\"text-xl font-semibold\" />\n                  <span> {m?.name} </span>\n                </h1>\n              ))}\n          </div>\n\n          {docsManager.state == \"available\" &&\n            docsManager.canCreateNewDoc() &&\n            docsManager?.docs?.length > 0 && (\n              <button\n                className={`mb-5 lg:hidden flex items-center justify-center text-white font-medium text-lg px-6 py-1 bg-lkhRed outline-none border-none border-0`}\n                onClick={() => {\n                  setOpenNew(true);\n                }}\n              >\n                <AiOutlinePlus className=\"mr-2 font-semibold\" />{\" \"}\n                <span className=\"m-0\">New</span>\n              </button>\n            )}\n          <div className=\"w-full grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 pb-20\">\n            {docsManager.docs.map((m, i) => {\n              return <DocumentListItem m={m} key={i} />;\n            })}\n          </div>\n        </>\n      )}\n      {docsManager.state == \"available\" &&\n        docsManager.mode == \"mydocs\" &&\n        !(docsManager?.docs?.length > 0) && (\n          <div className=\"w-full flex flex-col items-center justify-center space-y-2\">\n            <div className=\"w-full flex justify-center flex-col items-center\">\n              <h3 className=\"text-lkhDGrey\">\n                You do not have any document in this folder. Please add a\n                document\n              </h3>\n              <button\n                className={`flex items-center justify-center text-white font-medium text-lg px-6 py-1 bg-lkhRed outline-none border-none border-0 mx-auto`}\n                onClick={() => {\n                  setOpenNew(true);\n                }}\n              >\n                <AiOutlinePlus className=\"mr-2 font-semibold\" />{\" \"}\n                <span className=\"m-0\">New</span>\n              </button>\n            </div>\n          </div>\n        )}\n    </div>\n  );\n};\n\nexport default Dashboard;\n","import React, { useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport InputField from \"../../components/InputField/InputField\";\nimport FullLoader from \"../../components/Loaders/FullLoader\";\nimport { updateCurrentUser } from \"../../utils/ApiRequests\";\nimport userInfo from \"../../utils/UserInfo\";\nimport { passwordCheck } from \"../auth/AuthUtil\";\n\nconst Settings = () => {\n  const [loading, setLoading] = useState(false);\n  const [updateForm, setupdateForm] = useState({\n    email: userInfo?.data?.email,\n    current_password: \"\",\n    first_name: userInfo?.data?.first_name,\n    last_name: userInfo?.data?.last_name\n  });\n  const [error, setError] = useState(true);\n\n  const handleChange = e => {\n    const name = e.target.name;\n    const value = e.target.value;\n    const newEntry = { [name]: value };\n    setupdateForm({ ...updateForm, ...newEntry });\n  };\n\n  const handlePasswordChange = e => {\n    const name = e.target.name;\n    const value = e.target.value;\n    const newEntry = { [name]: value };\n    setError(passwordCheck.test(value));\n    setupdateForm({ ...updateForm, ...newEntry });\n  };\n\n  const updateUser = e => {\n    e.preventDefault();\n    setLoading(true);\n    updateCurrentUser(updateForm)\n      .then(res => toast.success(\"Profile updated successfully\"))\n      .catch(err => toast.error(err.response.data.message))\n      .finally(() => setLoading(false));\n  };\n\n  return (\n    <div>\n      {loading && <FullLoader />}\n      <h1 className=\"lg:text-2xl font-medium m-0 mb-10\">Update Profile</h1>\n\n      <form\n        className=\"w-full lg:w-5/12 shadow-md p-5 mb-10\"\n        onSubmit={updateUser}\n      >\n        <div className=\"w-full grid grid-cols-2 gap-5\">\n          <InputField\n            name=\"first_name\"\n            label=\"First Name\"\n            placeholder=\"First Name\"\n            handleChange={handleChange}\n            value={updateForm.first_name}\n          />\n          <InputField\n            name=\"last_name\"\n            label=\"Last name\"\n            placeholder=\"Last Name\"\n            handleChange={handleChange}\n            value={updateForm.last_name}\n          />\n        </div>\n\n        <InputField\n          name=\"email\"\n          label=\"Email\"\n          placeholder=\"you@address.com\"\n          required={true}\n          type=\"email\"\n          // handleChange={handleChange}\n          readOnly={true}\n          value={updateForm.email}\n        />\n\n        <InputField\n          name=\"current_password\"\n          type=\"password\"\n          placeholder=\"Current Password\"\n          //   required={true}\n          label=\"Current Password\"\n          value={updateForm.current_password}\n          handleChange={handleChange}\n          //   error={!error}\n          errorText=\"Password must be a minimum of 8 characters including a capital letter and special character\"\n        />\n\n        <InputField\n          name=\"new_password\"\n          type=\"password\"\n          placeholder=\"New Password\"\n          //   required={true}\n          label=\"New Password\"\n          value={updateForm.new_password}\n          handleChange={handlePasswordChange}\n          error={!error}\n          errorText=\"Password must be a minimum of 8 characters including a capital letter and special character\"\n        />\n\n        <button\n          type=\"submit\"\n          className=\"flex items-center justify-center text-white font-medium text-lg px-6 py-1 bg-lkhRed outline-none border-none border-0 mx-auto\"\n        >\n          Update\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default Settings;\n","import { Switch, Route, Redirect } from \"react-router-dom\";\nimport DashLayout from \"../components/DashLayout/DashLayout\";\nimport Dashboard from \"../pages/Dashboard/Dashboard\";\nimport Settings from \"../pages/Dashboard/Settings\";\nimport FullLoader from \"../components/Loaders/FullLoader\";\nimport { useEffect, useState } from \"react\";\nimport userInfo from \"../utils/UserInfo\";\nimport \"../assests/index.css\";\nimport \"../assests/page.css\";\n\nexport const DashRouteList = [\n  { path: \"/user/settings\", component: Settings, exact: true },\n  { path: \"/docs/mydocs\", component: Dashboard, exact: true },\n  { path: \"/docs/shared\", component: Dashboard, exact: true },\n  { path: \"/docs/search\", component: Dashboard, exact: true }\n];\n\nconst DashRoutes = () => {\n  const [userState, setUserState] = useState(userInfo.state);\n\n  const onUserInfoChange = () => {\n    setUserState(userInfo.state);\n  }\n  useEffect(() => {\n    userInfo.event.addListener(onUserInfoChange);\n    userInfo.get();\n\n    return () => {\n      userInfo.event.removeListener(onUserInfoChange);\n    };\n  }, []);\n\n  const PrivateRoute = ({ component: Component, ...rest }) => {\n    return (\n      <Route\n        {...rest}\n        render={props =>\n          userInfo.state === \"available\" ? (\n            <Component {...props} />\n          ) : (\n            <Redirect to=\"/login\" />\n          )\n        }\n      />\n    );\n  };\n\n  return (\n    <>\n      {userInfo.state === \"loading\" && <FullLoader />}\n      <Switch>\n        {userInfo.state !== \"loading\" && (\n          <main className=\"inner-route-body\">\n            <DashLayout>\n              {DashRouteList.map(r => (\n                <PrivateRoute\n                  key={r.path}\n                  component={r.component}\n                  exact={r.exact}\n                  path={r.path}\n                />\n              ))}\n            </DashLayout>\n          </main>\n        )}\n      </Switch>\n    </>\n  );\n};\n\nexport default DashRoutes;\n","const OfflineList = props => {\n    return <div>Offline List</div>;\n}\n\nexport default OfflineList;","const OfflineViewer = props => {\n    return <div>Offline Viewer</div>;\n}\n\nexport default OfflineViewer;","export const dateStr = (ts) => {\n    var date = new Date(ts * 1000);\n    \n    var year = date.getFullYear();\n    var month = date.getMonth() + 1;\n    var day = date.getDate();\n    var hours = date.getHours();\n    var minutes = date.getMinutes();\n    var seconds = date.getSeconds();\n    \n    return year + \"-\" + month + \"-\" + day + \" \" + hours + \":\" + minutes + \":\" + seconds;\n}","\nimport React, { useState, useEffect } from 'react';\nimport { Button } from '@material-ui/core';\nimport { GrNext } from \"react-icons/gr\";\nimport userInfo from '../../utils/UserInfo';\nimport { dateStr } from './DocsLogUtil';\n\nimport { getDocsLogSessions } from '../../utils/ApiRequests';\n\nconst SessionList = props => {\n    let date = new Date();\n    let defKey = date.getFullYear() + \"-\" + date.getMonth();\n    const [key, setKey] = useState(defKey);\n    const [sessions, setSessions] = useState(null);\n    const [token, setToken] = useState(null);\n    const [nextToken, setNextToken] = useState(null);\n    const [loading, setLoading] = useState(false);\n\n    const handleKeyChange = (e) => {\n        setNextToken(null);\n        setKey(e.target.value);\n    }\n\n    const fetchData = () => {\n        setLoading(true);\n        setSessions(null);\n        var elm = document.getElementById('key_text');\n        var parts = elm.value.split(\"-\");\n        var qstr = '';\n        if (parts.length == 2) {\n            qstr = 'year=' + parts[0] + '&month=' + parts[1];\n        } else {\n            qstr = 'docid=' + elm.value;\n        }\n        if (nextToken) {\n            qstr += '&next_token=' + encodeURIComponent(nextToken);\n        }\n        getDocsLogSessions(qstr).then(resp => {\n            setLoading(false);\n            if (resp.data) {\n                setSessions(resp.data.sessions);\n                console.log(resp.data)\n                setNextToken(resp.data.next_token);\n            }\n        });\n    }\n\n    const onUserInfoChange = () => {\n        setToken(userInfo.token);\n    }\n\n    useEffect(() => {\n        userInfo.event.addListener(onUserInfoChange);\n        userInfo.get();\n        return () => {\n          userInfo.event.removeListener(onUserInfoChange);\n        };\n    }, []);\n\n    var items = [];\n    if (sessions) {\n        let count = 0;\n        for (let sess of sessions) {\n            let ds = dateStr(sess.timestamp);\n            items.push(<div className='mt-4 ml-4' key={ds}>\n                <span>[{count}]</span><span> </span>\n                <span>{sess.email}</span><span> </span>\n                <span> [Updates: {sess.num_updates}] </span><span> </span>\n                <span><a target=\"_blank\" className=\"text-blue-700\" href={\"/#/docslog/sessionviewer?sessionid=\" + sess.id}>{'id:' + sess.id}</a></span><span> </span>\n                <span>{'docid:' + sess.docid}</span><span> </span>\n                <span className=\"text-purple-500\">{ds}</span><span> </span>\n                </div>)\n            count++;\n        }\n    }\n    return (<>\n    <div className=\"flex justify-around mt-4\">\n        <input type=\"text\" id=\"key_text\" value={key} onChange={handleKeyChange} className=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5\"></input>\n        <div className=\"mt-2\">1 - 100</div>\n        <Button onClick={fetchData} disabled={token == null}><GrNext/></Button>\n    </div>\n    <hr/>\n    {loading &&<div>Loading..</div>}\n    {!loading && <div style={{overflow: 'auto', height: 'calc(100% - 110px)'}}>{items}</div>}\n    </>);\n}\n\nexport default SessionList;","import OfflineList from \"./OfflineList\";\nimport OfflineViewer from \"./OfflineViewer\";\nimport SessionList from \"./SessionList\";\nimport SessionViewer from \"./SessionViewer\";\n\nconst DocsLogRoutes = [\n    { path: \"/docslog/sessionlist\", component: SessionList, exact: true },\n    { path: \"/docslog/sessionviewer\", component: SessionViewer, exact: true },\n    { path: \"/docslog/offlinelist\", component: OfflineList, exact: true },\n    { path: \"/docslog/offlineviewer\", component: OfflineViewer, exact: true }\n]\n\nexport default DocsLogRoutes;","import { Switch, Redirect, Route } from \"react-router-dom\";\nimport AuthRoutes, { AuthRouteList } from \"./AuthRoutes\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.min.css\";\nimport DashRoutes, { DashRouteList } from \"./DashRoutes\";\nimport DocsLogRoutes from \"../components/DocsLog/DocsLogRoutes\";\n\nconst RouteList = [\n  { path: DashRouteList.map(r => r.path), component: DashRoutes, exact: true },\n  { path: AuthRouteList.map(r => r.path), component: AuthRoutes, exact: true },\n  ...DocsLogRoutes\n];\n\nconst Routes = () => {\n  return (\n    <>\n      <ToastContainer\n        position=\"top-right\"\n        autoClose={5000}\n        hideProgressBar={false}\n        newestOnTop={false}\n        closeOnClick\n        pauseOnHover\n      ></ToastContainer>\n      <Switch>\n        {RouteList.map(r => (\n          <Route\n            key={r.path}\n            exact={r.exact}\n            component={r.component}\n            path={r.path}\n          />\n        ))}\n        <Route path=\"/\" exact={true}>\n          <Redirect to=\"/docs/mydocs\" />\n        </Route>\n      </Switch>\n    </>\n  );\n};\n\nexport default Routes;\n","import { getDoc } from \"./ApiRequests\";\nimport uiConfig from \"../common/UIConfig\";\nimport integ from \"../integ/integ\";\n\nvar docInfo = {\n  state: 'loading',\n  docid: '',\n  data: {name: ''},\n  onChange: () => { },\n}\n\nconst onChange = () => {\n  if (docInfo.onChange) {\n    try {\n      docInfo.onChange();\n    } catch(err) {\n      console.log(err)\n    }\n  }\n}\n\ndocInfo.reset = () => {\n  docInfo.state = 'loading';\n  docInfo.data = {name: ''}\n}\n\ndocInfo.get = async () => {\n  if (!uiConfig.isUsingLekhBackend()) {\n    integ.getDocInfo((state, docid, info) => {\n      docInfo.state = state;\n      docInfo.data = info;\n      docInfo.docid = docid;\n      onChange();\n    });\n    return;\n  }\n\n  docInfo.state = 'loading'\n  try {\n    let resp = await getDoc(docInfo.docid);\n    docInfo.data = resp.data;\n    docInfo.state = 'available';\n  } catch(err) {\n    console.log(err);\n    docInfo.state = 'error';\n  }\n  onChange();\n}\n\nexport default docInfo;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"./App.css\";\nimport AppComponent from \"./App\"\n//import Viewer from \"./common/Viewer\";\nimport { HashRouter } from \"react-router-dom\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport Routes from \"./routes/Routes\";\nimport qs from 'qs';\nimport docInfo from './utils/DocInfo'\nimport {hello} from './utils/ApiRequests'\nimport integ from \"./integ/integ\";\nimport uiConfig from \"./common/UIConfig\";\n\nvar openDoc = false;\nvar viewer = false;\nvar params = qs.parse(window.location.search, { ignoreQueryPrefix: true })\n\nvar docid = params.docid;\nvar _new = params._new;\nvar offline = params.offline;\nvar ref = params.ref;\n\nif (integ.isIntegration(params)) {\n  uiConfig.initForIntegMode(params);\n  openDoc = true;\n  viewer = uiConfig.isIntegViewer();\n} else {\n  if (offline) {\n    uiConfig.initForOfflineMode();\n  } else {\n    uiConfig.initForLekhBackendMode();\n  }\n\n  if (ref) {\n    hello(ref);\n    if (!docid && !_new && window.location.pathname == '/' && window.location.hash == '') {\n      window.history.replaceState({}, \"\", \"/\")\n    }\n  }\n\n  if (window.location.pathname == '/' && (!!docid || _new == 'true' || offline == 'true')) {\n    docInfo.docid = docid;\n    openDoc = true;\n  }\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    {openDoc && !viewer && <AppComponent />}\n    {/*openDoc && viewer && <Viewer />*/}\n    {!openDoc &&<HashRouter>\n      <Routes />\n    </HashRouter>}\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","export default __webpack_public_path__ + \"static/media/Logo.30a79e97.svg\";","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAX4AAAIlCAQAAAB4clveAAAJhnpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjarVhZdsM4DvznKfoIBEAS5HG4vtc3mON3gZIc23H2iRNLkSgARKGwyM3//bvcP/iRJN6FqDmVlDx+QgmFK06yP37q/iYf9vf+0Xme0eN1x9HzPmNcEhzluJHTcaTr+vnAdaSKs3gnKPfzRnu8UcJx5Pwk6FDrxSyy8/N5V84T4eMGnQLqub1Ust5voZ3rRz0F5+PP2Rf3274PpU//B4X3hvlAmKeQeHxnUy72R1LhbMk4sMAgXEg4J4n4jnJtw7z/ytnyeP3N2f7O1CekGt8c/XD9dga3uHukwnVDnhycbseX1ylegq4bctPD95pDuml+uD7pwsycfed5+1tr5LXmsbsaEtyczk1dW9lnWNegQvZTySfnFYeIf3R/Cj4ZEd0RBgP6Gj6dCjGgWhRoUKVFcx87dZgYeLIynM3cgaBdzKJcuIvhF+xDi1WKDCDL0gG54CrfbKGttmx13VGG5kFYygRhhEd+9XE/WbyW+ZbI58NPCAvYxTvaHJkbxb6xzPBfp1PjdvD1ef4xXAUIRnhYIbg4OLYdIlqktywgG2jBwojjwT/ScQqAi6A6whgSIOATiYuUyCuzEsGRGQBVmM4SuAEBipEHjOQgkgBOZji34hGlvZQjH5eL4wokIlimwKZIBVghRMSPhowYqlFiiDGmqDHHEmuSFFJMKWmyhFhVNGjU5FQ1a9GaJYccc8qacy65Fi6ChBlLKlpyKaVW6KyQXPF0xYJaGzdpocWWmrqWW2m1I3x66LGnrj330uvgIQO5Y6ShI48y6qSJUJphxpmmzjzLrAuhtmSFFd1KS1deZdUbanTS9vnzA9ToRI03UrZQb6jhquolgiydRMMMiHGgCParQYCAZsPMZwqBDTnDzBdkPIkMI6OBM8gQA4JhEsdFN+xw0xl0XP+Om9N0w43/gpwz6H6A3HvcXqG2S0zfiMHpdHDQC9iHm4RKxCOtyX5gt5SsumguSryKsptSV++aZY44aWmDL6jqGL3ADqGSZwwCasAoljp09awAeG3xpchagSV2B39UJK1mqvBtCSunOWW1wnP0GRQpETdj8AjIBrfXAThWw8YncuXAYkuMrlohpZl1dHNfbYiZmNrKURekIOfJmg1JHDun3GKhWNekaBYV6kD4sM2tbMYlHqh9Y1CI+LXC/dOje7yguc+2tTGsDjCqzbR1Dp9HpNrGvZtOJ8HtSLUIvWzpvged1OErZKxSsCniSbg2Z+yoEgsAcOtJIw2BD0NrszD8hIKPiCZnkNW8Ul3Vp+bBujah2OQN4JYgHxEuS9ENUMdCmRWtDvQyTAdKa7Eghl1Za2/FYxu5x2oROwuAr3FMwUZGT5FDlJURHBRV3h6+f9bZw6ibDWrs1zqrXx3d7cKiMgD7DDAjb/dq79BZiSpIDe/WDbmHG7aD4xK2bYRU84CgCzCkglyki6YBFjTmPD1H1N+F3bVskQbDI+g9c4Pn+yxlSh9sHp/iEJQgcUYYZkFMltzg0UhxDgWeS4KC3esI5g7foQ8rAwgIB1CiwGEoMTrE7V1VtIx1SW1mch6IAz+EZ6kD7E6t5RrjrDUNbLVMrg2hxIgiLzgBffpaaGuml73nbAFZ1axJdqFNNJ7D7gjojSvZd/vPouudnOm2lGcZ/ibllGFNkC1/JeMwxf3dlsMU93dbDlPcJafIpIbCMAsSUx0oFiO20JHQm2XtEhFmAVk8BmQUJIqOXHNPfxde0/+R/C+p/5AhgwP1/UGP21EQvTmj3iGMUGASiA75WuA8nh35wBNyL1JBnm0U7QpHMOpahJZ2kAE6wIev+bUqiolHDu2FEYxmuavbaQujAywnOPrdkqcV73ewj27nFqQrMPLi4wMbwZWPqWz5fXsXDft5Qr2jutkT0TcI1SuFIi4E/OgNlh4JH401yDevBIwJFIOTd1+ldQVP0fqZCkRI2WxE6dUthsxicHwqUu0Xi+6sfzoSGvi3cHDP8YDknT6tI+8xnAkh4CwGXoTASuh/lqmrpHHNdbjf6kh9iZt7uMC9S80ACustvS8MLGKTTOSY9vSIPGXWwWb0X8hjMGFbu9xMdgIb1FwLKiI1jgC3ZSbd3tIF7/WUP7xTCyo0cjY4fiqwNwZbxVgmn+rHdw69IEctKFJI4wjISqicDGKeUOgHRfkOiReUdh/CsPd+jwOs+gQJ9ykU3zoi4kdY1vmvYDF87vUslu2nxdLdV8v3/BDZFLsn2EUvbXzPTvdEz48Z8cUR8C+dVoGjlUnOKKjXZpF3x7fbLvce4le5t3zIlyvZupdM+0Vz464s3FZ8i0t+26rlz/WN/Ok+T6Dfz5/u8wT6+/b4jYVfkPA5Hbrf5cP36dD9Lh++rmuvWfgdEp4YWV5wdyx8CfDHBHyEyL1h9MRCS6WHM79FQvdJ3fqahHcIue91P18T0D0ycGaylhrqRkx9zMGYOuAyr9bD26xoIz3GmmbzIHleR6/Zl8toXXBuunM9JgksG6gzt3Wgx7EI7j06RgD0KCaL+/+IQfL/hZhuLxLRMjPl2Tu6DozFzQEBuDsFar1RIgyEMtZAAS0QLHBrCZkr/uw1l03t/Jq77kuukkI6Or8WUquQmtFCz+7LKDZRWhkWolXdkIqRMe/eiD3mVewLNJCDuMGGmW/lSffIbFL0k9N3UjC5llQaZVJGzDAjuOxdSdc2MLQVH2OumLE85rpsGRKxUyu6+S2hrpaoSJQh2BI4JfYC1pqJjNibCL+O3ItpsEZMurVDGPlgr5oc4viV+7SpX6MGtb7Ir4kBD4xb6A832ycnDHhIzBbiY6E1cUfp9Risd+mdbdMDTue6ImZ8sjcbXio6oqG169nigFCP7HQ/KarUMfcO6ZQZStA4DUnSY89UimMGRWfz9hZB7bUSpmCfmg3A23ERjoutESd7jxUwoEwBCIlxI4B1mHkRADauLwGfMUiF2iju1z4Wd5iPQ3nVEtsbgk2M7DXMI0vEvBMbcgxFhRjFtBy5k4TQ7NVPy5DaUgYmsatX+LchH2Ji1oNjs8OhOixwmrNXS9jPSNauAt/kd9c6O3Z8PnM+YQTYzzw8AmD2Q249PPOs5/tq3Od6vq/G/WU792rcX7Zzr8b9cDsojT2NiZyHUiioMjWhzMyCkr15CVoOyIggDuYCsHtzEczuRAN0QLlrmN6PsrhGBusWwg4K8oA5gydmEQHbETitZrI3aK3G3MX3g/GWgFGenyrRQlIFQd1/fcx5rRnHjWYAABA9aVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA0LjQuMC1FeGl2MiI+CiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczppcHRjRXh0PSJodHRwOi8vaXB0Yy5vcmcvc3RkL0lwdGM0eG1wRXh0LzIwMDgtMDItMjkvIgogICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIgogICAgeG1sbnM6cGx1cz0iaHR0cDovL25zLnVzZXBsdXMub3JnL2xkZi94bXAvMS4wLyIKICAgIHhtbG5zOkdJTVA9Imh0dHA6Ly93d3cuZ2ltcC5vcmcveG1wLyIKICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIgogICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgIHhtcE1NOkRvY3VtZW50SUQ9ImdpbXA6ZG9jaWQ6Z2ltcDo0YzMwZGYyNi1iODAwLTQzYjktYTg0Ny05NmYzMjhkODgwMjAiCiAgIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NWNmNWNlYTctZGIzNy00M2Y4LTgyOGYtMmY0ZTI4ZjcyODRmIgogICB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6MDBlMTVhODUtMDVlZS00YWZkLWE1MDQtYWM2ODEwYmZkNDgxIgogICBHSU1QOkFQST0iMi4wIgogICBHSU1QOlBsYXRmb3JtPSJNYWMgT1MiCiAgIEdJTVA6VGltZVN0YW1wPSIxNjI5NzE1NTUxMTIwNjE4IgogICBHSU1QOlZlcnNpb249IjIuMTAuOCIKICAgZGM6Rm9ybWF0PSJpbWFnZS9wbmciCiAgIGV4aWY6UGl4ZWxYRGltZW5zaW9uPSIzODIiCiAgIGV4aWY6UGl4ZWxZRGltZW5zaW9uPSI1NDkiCiAgIHRpZmY6SW1hZ2VIZWlnaHQ9IjU0OSIKICAgdGlmZjpJbWFnZVdpZHRoPSIzODIiCiAgIHRpZmY6T3JpZW50YXRpb249IjEiCiAgIHhtcDpDcmVhdG9yVG9vbD0iR0lNUCAyLjEwIj4KICAgPGlwdGNFeHQ6TG9jYXRpb25DcmVhdGVkPgogICAgPHJkZjpCYWcvPgogICA8L2lwdGNFeHQ6TG9jYXRpb25DcmVhdGVkPgogICA8aXB0Y0V4dDpMb2NhdGlvblNob3duPgogICAgPHJkZjpCYWcvPgogICA8L2lwdGNFeHQ6TG9jYXRpb25TaG93bj4KICAgPGlwdGNFeHQ6QXJ0d29ya09yT2JqZWN0PgogICAgPHJkZjpCYWcvPgogICA8L2lwdGNFeHQ6QXJ0d29ya09yT2JqZWN0PgogICA8aXB0Y0V4dDpSZWdpc3RyeUlkPgogICAgPHJkZjpCYWcvPgogICA8L2lwdGNFeHQ6UmVnaXN0cnlJZD4KICAgPHhtcE1NOkhpc3Rvcnk+CiAgICA8cmRmOlNlcT4KICAgICA8cmRmOmxpCiAgICAgIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiCiAgICAgIHN0RXZ0OmNoYW5nZWQ9Ii8iCiAgICAgIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6M2ExY2ZhNjUtNTJiOC00YWM3LWIzMzMtNWU3Y2FjZGFhZGJlIgogICAgICBzdEV2dDpzb2Z0d2FyZUFnZW50PSJHaW1wIDIuMTAgKE1hYyBPUykiCiAgICAgIHN0RXZ0OndoZW49IjIwMjEtMDgtMjNUMTY6MTU6NTErMDU6MzAiLz4KICAgIDwvcmRmOlNlcT4KICAgPC94bXBNTTpIaXN0b3J5PgogICA8cGx1czpJbWFnZVN1cHBsaWVyPgogICAgPHJkZjpTZXEvPgogICA8L3BsdXM6SW1hZ2VTdXBwbGllcj4KICAgPHBsdXM6SW1hZ2VDcmVhdG9yPgogICAgPHJkZjpTZXEvPgogICA8L3BsdXM6SW1hZ2VDcmVhdG9yPgogICA8cGx1czpDb3B5cmlnaHRPd25lcj4KICAgIDxyZGY6U2VxLz4KICAgPC9wbHVzOkNvcHlyaWdodE93bmVyPgogICA8cGx1czpMaWNlbnNvcj4KICAgIDxyZGY6U2VxLz4KICAgPC9wbHVzOkxpY2Vuc29yPgogIDwvcmRmOkRlc2NyaXB0aW9uPgogPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+hRHudAAAAAJiS0dEAP+Hj8y/AAAACXBIWXMAAC4jAAAuIwF4pT92AAAAB3RJTUUH5QgXCi0ykomKzwAAByZJREFUeNrt1r/L1WUYwOH72JkSQsGttVXQqdV/QN0NWlykou3lVXBoCV8572ZEW5G4NzdETdH/0NpsYeAQclqkrfDXie85n+s6yxm/z/18eLhX25k5PTeP5/7R7dlz24EXd+aff8ebE+OgGb/8Cccvf8Lxy59w/PInHL/8Cccvf8Lxy59w/PInHL/8Cccvf8Lxy59w/PInHL/8Cccvf8Lxy59w/PInHL/8Cccvf8Lxy59w/PInHL/8Cccvf8Lxy59w/PInHP/M8eaLzcoIKcY/8/F8KX+a8c/ckj/V+OVPOH75E45f/oTjlz/h+OVPOH75E45f/oTjlz/h+OVPOH75E45f/oTjlz/h+OVPOH75E45f/oTjlz/h+OVPOH75E45f/oTjlz/h+OVPOH75E45f/oTjlz/h+OVPOH75E45f/oTjlz/h+OVPOH75E45f/oTjlz/h+OVPOH75E45f/oTjlz/h+OVPOH75E45f/oTjlz/h+GduzcPNWy6GYvwzH8y38qcZ/8wN+VONX/6E45c/4fjlTzh++ROOX/6E45c/4fjlTzh++ROOX/6E45c/4fjlTzh++ROOX/6E45c/4fjlTzh++ROOX/6E45c/4fjlTzh++ROOX/6E45c/4fjlTzh++ROOX/68gvXBnOTGzOmHR89c6W5tvfxef8Qvf8Qvf8Qvf8Qvf8Qvf8Qvf8Qvf8Qvf8Qvf8Qvf8Qvf8T/BvL/2kXTjH/mmoumGj+IH8QP4kf8IH4QP4gfxA/iB/GD+EH8IH4QP4gfxA/iB/GD+EH8IH4QP4gfxA/iB/GD+EH8IH4QP4gf8YP4QfwgfhA/iB/ED+IH8YP4QfwgfhA/iB/ED+IH8YP4QfwgfhA/iB/ED+IH8YP4QfwgfpiZWRvBTtyci4d5sNX+H+HO9qn4d+nqXDeEhfpsnlp7sPOD+EH8IH4QP4gfxA/iB/GD+EH8IH4QP4gfxA/iB/GD+EH8IH4QP4gfxA/iB/GD+EH8IH4QP+IH8YP4QfwgfhA/iB/ED+IH8YP4QfwgfhA/iB/ED+IH8YP4QfwgfhA/iB/ED+IH8YP4QfwgfsQP4gfxg/hB/CB+ED+IH8QP4gfxg/hB/CB+ED+IH8QP4gfxg/hB/CB+ED+IH8QP4gfxg/gRP4gfxA/iB/GD+EH8IH4QP4gfxA/iB/GD+EH8IH4QP4gfxA/iB/GD+EH88LLWRrAT9+abvf32R/O2+Hl1v+zxt/9l7QHxg/hB/CB+ED+IH8QP4gfxg/hB/CB+ED+IH8QP4gfxg/hB/CB+ED+IH8QP4gfxI34QP4gfxA/iB/GD+EH8IH4QP4gfxA/iB/GD+EH8IH4QP4gfxA/iB/GD+EH8IH4QP4gfxA/iR/wgfhA/iB/ED+IH8YP4QfwgfhA/iB/ED+IH8YP4QfwgfhA/iB/ED+IH8YP4QfwgfhA/iB/Ej/hB/CB+ED+IH8QP4gfxg/hB/CB+ED+IH8QP4gfxg/hB/CB+ED+IH8QP4gfxg/hB/CB+ED//4pH4qfpkvhI/Tdv5qJG/+MnmL36y+YufbP7i57/yfyB+qvl/OvfFT9Xtw81f/GTzFz/Z/MVPNn/xk81f/GTzFz/Z/MVPNn/xk81f/GTzFz/Z/MVPNn/xk81f/GTzFz/Z/MVPNn/xk81f/GTzFz/Z/MVPNn/xk81f/GTzFz/Z/MVPNn/xk81f/GTzFz/Z/MVPNn/xk81/nbiIs5vvDvyEz+b46NfF5T9zvOShrbYzc3puHnuq9txvc2Vx+c+cLDD/89vfrT2H5d35cfOe5cfOL3/5i1/+8he//OUvfvnLX/zyz+cv/sPM/+fNRfmLv+nC/CB/8ctf/uKXv/zFL3/5i1/+7fzFL/9s/uKXfzZ/8cs/m7/45Z/NX/zyz+Z/ZjUrYcg/lf/q+c/LL//s6y9++WfzF7/8l5H/5+Knmv/duSN+qvmf/N/5i1/+2fzFL/9s/uKXfzZ/8cs/m7/45Z/NX/zyz+YvfrL5i59s/uInm7/4yeYvfrL5i59s/uInm7/4yeYvfrL5i59s/uInm7/4yeYvfrL5i59s/uInm7/4yeYvfrL5i59s/uInm7/4yeYvfrL5i59s/uInm7/4yeYvfrL5i59s/uInm7/4yeYvfrL5i59s/uInm7/4yeYvfrL5i59s/uInm7/4yeYvfrL5i59s/uInm7/4yeYvfrL5i59s/uJnV/lfWnr+4mdX+f+0eX+R+W/Fz669M98vMv8/xE81f2sP8hc/2fzFTzZ/8ZPNX/xk8xc/2fzFTzZ/8ZPNX/xk8xc/2fzFTzZ/8ZPNX/xk8xc/2fzFTzZ/8ZPNX/xk8xc/2fzFTzZ/8ZPNX/xk8xc/2fzFTzZ/8ZPNX/xk8xc/2fzFTzZ/8ZPNX/xk8xc/2fzFTzZ/8ZPNX/xk8xc/2fzFTzb/9czMPJnLZsyC/WkEALy+vwEv5uzdltH5GQAAAABJRU5ErkJggg==\""],"sourceRoot":""}