{"version":3,"sources":["assests/icons/Logo.svg","assests/icons/Logo-grey.png","assests/icons/lekhboard-small.svg","assests/icons/avatar.svg","common/Header/HeaderStyle.js","common/GlobalState.js","shapelib/Stencils.js","shapelib/Shapes.js","common/Canvas.js","common/Header/Feedback.js","tip/QuickTip.js","utils/ApiConstants.jsx","utils/ApiUtils.jsx","utils/ApiRequests.jsx","utils/UserInfo.js","components/InputField/InputField.jsx","components/Loaders/MiniLoader.jsx","hooks/useFetch.jsx","utils/EventListener.js","utils/DocsManager.js","components/DashboardItems/ShareModal.jsx","utils/DocInfo.js","common/Header/Menu.js","common/Footer/FooterStyle.js","common/MenuState.js","common/AppInput.js","common/TouchInput.js","common/MouseInput.js","experimental/SpeechCommand.js","common/Command.js","common/Footer/Footer.js","common/SideBarMenu/SideBarStyle.js","common/LibCell.js","Constant.js","common/DrawStyle.js","common/ColorList.js","common/Config.js","common/StrokeStyle.js","common/SelectionGroupPopup.js","common/Util.js","draggable/Panel.js","draggable/LekhDraggable.js","shapelib/MiniLib.js","shapelib/ShapesGroup.js","common/KeyboardInput.js","shapelib/FullLib.js","shapelib/ShapeLibrary.js","common/TextModePopup.js","shapeprops/PropsUtil.js","shapeprops/Help.js","shapeprops/EnumPicker.js","shapeprops/Property.js","shapeprops/LineStyle.js","shapeprops/FillColor.js","shapeprops/FontEditor.js","shapeprops/StyleEditor.js","shapeprops/ArrowCell.js","shapeprops/ConnectionEditor.js","shapeprops/ShapeProps.js","common/SideBarMenu/SideBarMenu.js","common/SideBarMenu/Content.js","common/AppEvent.js","common/AppInit.js","common/Layover.js","common/ContextMenu.js","gestures/Frame.js","gestures/Geometry.js","gestures/Dragger.js","gestures/Gestures.js","gestures/LandmarksFeatures.js","gestures/GestureRecognizer.js","gestures/Transient.js","gestures/LandmarkHandler.js","gestures/GesturePanel.jsx","App.js","reportWebVitals.js","components/AuthLayout/AuthLayout.jsx","components/ModalContainer/ModalContainer.jsx","components/Loaders/FullLoader.jsx","hooks/useQuery.jsx","pages/auth/Confirm.jsx","pages/auth/ConfirmLogin.jsx","pages/auth/EmailLogin.jsx","pages/auth/Forgot.jsx","pages/auth/Login.jsx","pages/auth/OTPLogin.jsx","pages/auth/AuthUtil.jsx","pages/auth/Reset.jsx","pages/auth/SignUp.jsx","routes/PublicRoute.jsx","routes/AuthRoutes.jsx","hooks/useOnClickOutside.jsx","components/DashLayout/DashSidebar.jsx","components/DashLayout/DashboardTop.jsx","components/DashLayout/DashLayout.jsx","components/DashboardItems/DetailsModal.jsx","components/DashboardItems/RenameModal.jsx","components/DashboardItems/MoveModal.jsx","components/DashboardItems/DocumentListItem.jsx","pages/Dashboard/Dashboard.jsx","pages/Dashboard/Settings.jsx","routes/DashRoutes.jsx","routes/Routes.jsx","index.js"],"names":["HeaderStyle","root","flexGrow","title","arrowUp","top","position","MainGrid","display","outClass","margin","bottom","border","paper","background","borderRadius","padding","textAlign","color","marginRight","right","minHeight","content","width","height","borderLeft","borderRight","borderBottom","marginLeft","fontSize","zIndex","responsicePaper","textIcon","paddingRight","checkIcon","appMenu","globalState","zoomHandler","setZoomHandler","cb","onZoom","window","Module","getZoom","stencilUrl","name","stencils","shapes","expanded","libraryColCount","scroll","searchText","loadingUrls","Set","miniGroup","category","num","initEmptyCategs","item","libraryStore","initEmptyCateg","loadTemplate","a","fetch","then","response","json","initObjects","JSON","stringify","loadAll","initNames","libnames","initialize","init","onDisplaySettingChange","groupCount","getShapeLibGroupCount","getGroup","idx","getShapeLibGroup","expandGroup","flag","expandShapeLibGroup","getShapes","group","contentUrl","has","add","delete","getMiniGroup","getDisplaySettings","getShapeLibDisplaySettings","setDisplaySetting","addDisplaySetting","search","text","filterObjects","canvas","moving","fromX","fromY","origScrollX","origScrollY","showGrid","gridType","canvasElement","toggleGrid","drawGrid","onResize","setSize","draw","moveDelta","dx","dy","zm","getScroll","setScroll","x","y","getMidPoint","rect","document","getElementById","getBoundingClientRect","left","isVisible","pad","move","type","sx","sy","mapx","mapy","maprx","mapry","zoomAt","factor","z1","Math","round","z2","setZoom","zoom","fixCanvas","cnv","dpr","devicePixelRatio","style","getContext","scale","panel","tp","exportToImage","format","getBoundsOfAll","cel","createElement","ctx","fillStyle","fillRect","drawCanvasForExport","data","toDataURL","wd","ht","clearRect","rad","step","startx","starty","beginPath","strokeStyle","i","j","moveTo","arc","PI","fill","stroke","lineWidth","lineTo","drawCanvas","drawCell","categ","sz","row","col","drawArrow","size","Feedback","handleClose","useState","feedbackForm","setFeedbackForm","handleChange","e","target","value","newEntry","submitDIsabled","message","className","onClick","htmlFor","id","onChange","required","wsmanager","send","disabled","tip","force","closed","reload","showDoNotShowButton","show","getStorage","Storage","localStorage","showing","storage","showTip","getItem","doNotShowAgain","setItem","QuickTip","props","initialValue","React","state","setState","stateRef","useRef","useEffect","current","useRefState","counterRef","setCounter","setTimeout","vid","paused","setAttribute","Dialog","onClose","open","autoPlay","muted","loop","src","Button","constant","setRefreshTokenToStorage","token","setExpiryTimeToStorage","date","getRefreshTokenFromStorage","removeRefreshTokenFromStorage","removeItem","ApiRequestWithToken","config","baseURL","headers","userInfo","axios","create","ApiRequestWithoutToken","withCredentials","fetcher","url","get","res","login","post","getDocs","qstr","getDoc","docid","allowedUsersForGestures","available","loading","error","getCalled","addEventListener","handleStorageChange","fetchInfo","isLoggedIn","email","loggedIn","refreshTokenStr","console","log","err","onStoreChange","setErr","wasLoggedin","tryToRefreshToken","resp","new_refresh_token","do_retry","retry","refresh_token","code","access_token","renewTokenBeforeExpiry","InputField","label","placeholder","pattern","errorText","readOnly","MiniLoader","useFetch","useSWR","EventListener","this","listeners","addListener","indexOf","push","removeListener","splice","trigger","docsManager","parent","order","orderBy","docs","path","mode","event","arr","split","length","obj","encodeURIComponent","route","qparam","reset","qpath","qs","parse","ignoreQueryPrefix","setPath","qsearch","serializePath","join","searchTerm","pop","deleteDoc","canCreateNewDoc","createDoc","getADoc","getFullPath","doc","unshift","duplicate","getChildFolders","folderId","folders","ShareModal","close","setEmail","setType","access","setAccess","setLoading","viewShares","setViewShares","copied","setCopied","success","setSuccess","setError","docUrl","origin","aria-labelledby","onSubmit","preventDefault","privateForm","shareDoc","mutate","catch","finally","options","defaultValue","onCopy","shares","map","m","deleteShare","toast","docInfo","FileSaver","require","useStyles","makeStyles","Style","AppMenu","classes","snap","setSnap","grid","setGrid","setValue","setOpen","checkable","submenu","shareBoard","dialog","showDialog","shareLoggedInBoard","copyLink","select","execCommand","SearchButton","IconButton","location","DialogTitle","TextField","variant","InputProps","endAdornment","handleMenuClick","focus","feedback","giveFeedback","exportImage","img","exportFile","orient","jsPDF","orientation","addImage","save","exportPdf","saveAs","getSvg","blob","Blob","getLekh","Grid","container","AppBar","boxShadow","Toolbar","href","default","alt","aria-label","currentTarget","handleClick","Menu","PaperProps","marginTop","option","index","checked","parentMenuOpen","subOption","MenuItem","FooterStyle","footer","justifyContent","backClass","backgroundColor","borderColor","filter","cursor","countClass","valueClass","iconClass","countBtn","minWidth","modes","selection","smartDraw","erase","laser","menus","selectionGroup","eraseAll","cameraInput","menuState","popup","selected","inputMode","selectionGroupVal","cameraActive","menu","tpanel","inputReceiver","setMode","InputMode","SELECTION","POINTING","DRAWING","enableRecognition","ERASING","handleMode","hasPopup","removePopup","inDrawMode","AppInput","showContextMenu","showShapeProps","drawPoints","drawing","transparentPanel","tnode","ignoreNextClick","updateCursorLoc","inputFilter","pan","InputType","OTHER","finishTextEditing","val","remove","clearTransparentPanel","drawTemp","lineJoin","lineCap","setCurrentStyleToCtx","dp","dragMoveMode","kind","isEditingText","click","mpt","addClickCircle","pt","tap","dbclick","needTextEditing","getTextEditRect","cx","cy","tid","random","$","getTextForEditing","getTextEditStyle","effectiveFontSize","effectiveFontMultiplier","isFLoating","isEditingFloatingText","tattrs","effectivePlatformFontFamily","effectiveTextAlignHorizontal","updateSize","getTextEditSize","css","append","on","key","initShapeTextEditor","drag","drawLaserCircle","dragLaser","it","START","END","willDrawAt","flushTempDrawing","dragNative","contextmenu","enter","leave","touchInput","active","discarded","touch","timer","twoFingerTap","touches","firstRemoved","secondRemoved","lastPos","lastTouch","buffer","doublePan","origZoom","gestures","activeGesture","activeTouches","initPos","gest","hasZoomCond","d1","dist","d2","abs","findTouches","t1","t2","updatePos","shift","mapTouches","ret","pageX","pageY","identifier","sqrt","attachEvents","ev","start","changedTouches","targetTouches","end","cancel","inProgress","clearTimeout","ts","mid1x","mid1y","mid2x","mid2y","mouseInput","clickTimer","mdown","moved","initialX","initialY","savedZoom","pointerLoc","pointerLocation","ctrlKey","newval","floor","deltaY","deltaX","bean","button","offsetX","offsetY","x1","y1","x2","y2","speechCommand","cmdMap","addShape","recognition","SpeechRecognition","webkitSpeechRecognition","continuous","lang","interimResults","maxAlternatives","onresult","shape","handleText","results","transcript","command","inputModeChanged","getShapeAddLocation","loc","at","del","copy","cut","paste","pasteAt","selectAll","addBox","addObjectToCanvas","addCircle","addUser","addDb","addCloud","addNote","escape","handleEscapeKey","undo","redo","moveToFront","moveObjectToFront","moveToBack","moveObjectToBack","startSpeech","r","c","Footer","count","setCount","curCount","handleCount","handleAddCount","SideBarStyle","sideBar","sideBarMenu","alignItems","flexDirection","menuIcons","marginBottom","menuItem","sideMenuIcons","changeColor","spaceBwt","spaceBwtRound","expandedMenu","expandedMenuItem","expandedMenuItemActive","LibCell","canvasRef","context","enabled","ref","CircleColors","ShapesList","SideBarMenuItems","icon","subMenus","SideBarMenuItemsWithGestures","concat","drawStyle","colorIndex","dashIndex","widthIndex","setColor","carr","colors","toLowerCase","colorNameToVal","setStrokeColor","setDashIndex","setDashType","setWidthIndex","currentStyle","setStrokeWidth","ChessCircle","strokeWidth","WhiteCircle","ColorNameToVal","lineColors","extraColors","fillColors","ColorListOld","selectedIndex","onColorChange","ColorList","curColor","alpha","component","dr","red","dg","green","db","blue","tmp","getSelectedIndex","cl","Config","mediaQuery","StrokeStyle","setColorIndex","widthCircles","dashLines","getDashLines","dashLine","iconsId","onDashChange","getWidthCircles","wcircle","onWidthChange","anchorEl","placement","subMenuIcons","matchMedia","matches","Popper","transition","TransitionProps","Fade","timeout","Paper","SelectionGroupPopup","chooseSelectMode","setSelectionMode","chooseMoveMode","itemClass","itemClassActive","selectStyle","moveStyle","menuClass","util","generateUUID","d","Date","getTime","performance","now","replace","toString","mouseLocation","dragging","update","children","DragPanel","LekhDraggable","setEnabled","updatePanel","cloneElement","onStart","onDrag","onStop","MiniLib","popperRef","createRef","expand","onDragStop","ShapesGroup","canvasId","keyboardInput","showingDialog","postListeners","isMac","navigator","userAgent","handlers","addPostListener","removePostListener","handleKeyDown","handled","handler","shiftKey","altKey","metaKey","searchTimer","SearchBox","searchCompleted","FullLib","showMoreSettings","showMoreSettingsRef","setShowMoreSttings","textBox","activeElement","keyboard","shapesGroupRef","scrollTop","icons","displaySettings","Switch","ShapeLibrary","setExpanded","containerRef","popUpRect","mid","onExpand","TextModePopup","propsUtil","connectionEditMaxHeight","showHelpMaxHeight","propertyEditMaxHeight","styleEditMaxHeight","getPlacement","maxHeight","transform","tpRect","clientWidth","clientHeight","getTopPlacement","Help","needToShowShapeHelp","editor","startPropertyEditing","isValid","setNeedToShowShapeHelp","helpText","getHelpText","getBound","pos","ClickAwayListener","onClickAway","dangerouslySetInnerHTML","__html","EnumPicker","setSelectedVal","properties","getProperties","items","enumItems","done","List","ListItem","setVal","selectItem","ListItemText","primary","ListItemSecondaryAction","Property","showingEnum","setShowingEnum","enumPropIdx","setEnumPropIdx","needPropertyEditing","setNeedPropertyEditing","handleEnumSelect","changeBoolVal","changeNumberVal","plus","prop","minVal","maxVal","changeSliderVal","newVal","min","range","propVal","getSliderVal","max","valueType","toFixed","Slider","finalize","LineStyle","effectiveStrokeWidth","effectiveStrokePaint","solidColor","dashType","getDashType","cls","setLineColor","FillColor","effectiveFillPaint","setFillColor","FontEditor","effectiveTextFill","fontSz","alignV","effectiveTextAlignVertical","alignHz","changeHzAlign","setHorizontalAlignment","changeVAlign","setVerticalAlignment","setFontSize","paddingTop","borderTop","setTextColor","StyleEditor","selectedTab","setSelectedTab","needStyleEditing","startStyleEditing","getObjectBound","setNeedStyleEditing","tab","ArrowCell","drawArrowCell","side","ConnectionEditor","needConnectionEditing","startConnectionEditing","setStartArrow","setEndArrow","arrowCount","startArrowType","endArrowType","arrowsLeft","arrowsRight","clientX","clientY","setNeedConnectionEditing","Select","disableUnderline","shapePropsUtil","ShapeProps","handleKey","isPropertyWindowOpen","dismissWindow","propsEdit","showHelp","styleEdit","connectionEdit","reloadSideBar","SideBarMenu","setAnchorEl","setPlacement","setSubMenuIcons","afterKeyHandling","getIconAndName","sidebar","sideMenuItems","canUseGestures","newPlacement","Content","appEvent","attachEventHandlers","initializer","shapesInitDone","docDetailFetched","docStarted","apiBasePath","permission","toggleDebug","getLekhResource","sc","luaScripts","runtimeInitialized","initialInitDone","docReady","appendScript","scriptToAppend","script","async","body","appendChild","startDoc","URL","searchParams","np","offline","xhttp","XMLHttpRequest","onreadystatechange","readyState","status","hasTouchScreen","maxTouchPoints","msMaxTouchPoints","mQ","media","UA","test","hasTouch","responseText","setRequestHeader","onRuntimeInitialized","initInternal","onDocDetailFetch","createNewDoc","newUrl","ws","WebSocket","onopen","setInterval","onmessage","updateDoc","updateObj","updates","onclose","clearInterval","onerror","continueTrial","Layover","wsstate","key1","key2","div","ContextMenu","mappedPt","handleMenu","showHandler","cmStatus","getContextMenuStatus","canArrage","canSelectAll","canCut","canCopy","canPaste","canDelete","keyName","keepMounted","anchorReference","anchorPosition","rightIcon","divider","canvasCtx","cameraCtx","canvasWidth","canvasHeight","landmarkLines","mirrorPoint","npt","clearCameraCanvas","drawCenterText","font","fz","fillText","strokeText","restore","mkpt","p","z","pt2d","p1","p2","inOrder","pts","inord","p3","eq","LineEq","perp","crosses","A","B","C","eq2","D","Dx","Dy","atan2","LineSegment","len","point","near","solve","contains","distFrom","seg","eq1","got","Dragger","MOVE_DIST_REF","MOVE_DIST_SMALL_REF","MOVE_DIST_SMALL","last","lastRef","points","ptref","addPoint","dx1","dx2","dy1","dy2","handleMove","checkMove","lastDrawMode","updateSidebarMenus","captureDrawMode","Gesture","dragger","ptidx","landmarks","lastpt","Drag1Gesture","track","sendPoints","checkClick","sendLastPoint","Drag2Gesture","ThumbGesture","PinchGesture","Features","backSide","indexBent","middleBent","ringBent","indexInOrder","middleInOrder","ringInOrder","indexCurved","middleCurved","ringCurved","getSide","pval","isCurved","p4","deg","ta","theta","acos","v1x","v1y","v2x","crossProduct","turn","turnAngle","drag1Active","drag2Active","GestureRecognizer","model","drag1Gesture","drag2Gesture","thumbGesture","pinchGesture","noopGesture","features","getFeatures","isPinch","isThumb","isDrag2","dPinch","pinchLike","isDrag1","lastGesture","lastUndoAt","handleGestureTransient","gesture","gestureRecognizer","prevGesture","pendingGesture","initStartTime","flashDuration","showingVideo","flashing","handle","hand","line","drawLandmarks","curGesture","handleLast","activeptIdx","activePoint","drawActivePoint","showVideo","image","translate","drawImage","handleLandmarkResults","multiHandLandmarks","lms","used","multiHandedness","initLandmarkHandler","cameraCanvas","cameraElement","devices","GesturePanel","showList","setShowList","showCamera","setShowCamera","initialized","setInitialized","startMediapipe","devId","frames","startCamera","outCanvas","iframe","mediaDevices","enumerateDevices","deviceInfos","deviceInfo","dev","deviceId","AppComponent","wsState","ctxMenu","ctxMenuPos","sideMenuSelectedItem","docInfoState","wsCallback","handleWSState","bind","layover","docName","substr","loginLink","moveLink","public","Component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","AuthLayout","ModalContainer","parentOnClick","FullLoader","useLocation","useQuery","URLSearchParams","ConfirmUser","query","history","useHistory","ConfirmLogin","expires_at","EmailLogin","loginForm","setloginForm","successText","showSuccessText","proceed","to","Forgot","password","passwordForm","setpasswordForm","Login","formType","OTPLogin","code_type","passwordCheck","Reset","cPassword","apiError","setApiError","SignUp","first_name","last_name","signUpForm","setSignUpForm","PublicRoute","rest","render","AuthRouteList","exact","AuthRoutes","useClickOutside","callback","removeEventListener","NewBoard","setName","action","userid","DashSidebar","openNew","setOpenNew","setDocsState","docsManagerCb","activeClassName","MobileMenu","DashboardTop","settingsRef","openSettings","setOpenSettings","openMenu","setOpenMenu","setText","setSearchMode","getRoute","logout","DashLayout","DetailsModal","setData","inScope","in_my_scope","created_at","toDateString","updated_at","owner","RenameModal","newName","MoveModal","setParent","parentDoc","setParentDoc","Map","cache","childCache","set","getChildren","MoveDoc","DocumentListItem","share","setShare","showDetails","setShowDetails","rename","setRename","setMove","deleting","setDeleting","handleOpen","pushParent","shared","Dashboard","setRoute","pathname","popParentTo","getRootName","Settings","current_password","updateForm","setupdateForm","new_password","DashRouteList","DashRoutes","setUserState","PrivateRoute","RouteList","Routes","autoClose","hideProgressBar","newestOnTop","closeOnClick","pauseOnHover","openDoc","params","_new","hash","replaceState","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.0bd7397b.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Logo.30a79e97.svg\";","export default \"data:image/png;base64,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PgogIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczppcHRjRXh0PSJodHRwOi8vaXB0Yy5vcmcvc3RkL0lwdGM0eG1wRXh0LzIwMDgtMDItMjkvIgogICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIgogICAgeG1sbnM6cGx1cz0iaHR0cDovL25zLnVzZXBsdXMub3JnL2xkZi94bXAvMS4wLyIKICAgIHhtbG5zOkdJTVA9Imh0dHA6Ly93d3cuZ2ltcC5vcmcveG1wLyIKICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIgogICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgIHhtcE1NOkRvY3VtZW50SUQ9ImdpbXA6ZG9jaWQ6Z2ltcDo0YzMwZGYyNi1iODAwLTQzYjktYTg0Ny05NmYzMjhkODgwMjAiCiAgIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NWNmNWNlYTctZGIzNy00M2Y4LTgyOGYtMmY0ZTI4ZjcyODRmIgogICB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6MDBlMTVhODUtMDVlZS00YWZkLWE1MDQtYWM2ODEwYmZkNDgxIgogICBHSU1QOkFQST0iMi4wIgogICBHSU1QOlBsYXRmb3JtPSJNYWMgT1MiCiAgIEdJTVA6VGltZVN0YW1wPSIxNjI5NzE1NTUxMTIwNjE4IgogICBHSU1QOlZlcnNpb249IjIuMTAuOCIKICAgZGM6Rm9ybWF0PSJpbWFnZS9wbmciCiAgIGV4aWY6UGl4ZWxYRGltZW5zaW9uPSIzODIiCiAgIGV4aWY6UGl4ZWxZRGltZW5zaW9uPSI1NDkiCiAgIHRpZmY6SW1hZ2VIZWlnaHQ9IjU0OSIKICAgdGlmZjpJbWFnZVdpZHRoPSIzODIiCiAgIHRpZmY6T3JpZW50YXRpb249IjEiCiAgIHhtcDpDcmVhdG9yVG9vbD0iR0lNUCAyLjEwIj4KICAgPGlwdGNFeHQ6TG9jYXRpb25DcmVhdGVkPgogICAgPHJkZjpCYWcvPgogICA8L2lwdGNFeHQ6TG9jYXRpb25DcmVhdGVkPgogICA8aXB0Y0V4dDpMb2NhdGlvblNob3duPgogICAgPHJkZjpCYWcvPgogICA8L2lwdGNFeHQ6TG9jYXRpb25TaG93bj4KICAgPGlwdGNFeHQ6QXJ0d29ya09yT2JqZWN0PgogICAgPHJkZjpCYWcvPgogICA8L2lwdGNFeHQ6QXJ0d29ya09yT2JqZWN0PgogICA8aXB0Y0V4dDpSZWdpc3RyeUlkPgogICAgPHJkZjpCYWcvPgogICA8L2lwdGNFeHQ6UmVnaXN0cnlJZD4KICAgPHhtcE1NOkhpc3Rvcnk+CiAgICA8cmRmOlNlcT4KICAgICA8cmRmOmxpCiAgICAgIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiCiAgICAgIHN0RXZ0OmNoYW5nZWQ9Ii8iCiAgICAgIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6M2ExY2ZhNjUtNTJiOC00YWM3LWIzMzMtNWU3Y2FjZGFhZGJlIgogICAgICBzdEV2dDpzb2Z0d2FyZUFnZW50PSJHaW1wIDIuMTAgKE1hYyBPUykiCiAgICAgIHN0RXZ0OndoZW49IjIwMjEtMDgtMjNUMTY6MTU6NTErMDU6MzAiLz4KICAgIDwvcmRmOlNlcT4KICAgPC94bXBNTTpIaXN0b3J5PgogICA8cGx1czpJbWFnZVN1cHBsaWVyPgogICAgPHJkZjpTZXEvPgogICA8L3BsdXM6SW1hZ2VTdXBwbGllcj4KICAgPHBsdXM6SW1hZ2VDcmVhdG9yPgogICAgPHJkZjpTZXEvPgogICA8L3BsdXM6SW1hZ2VDcmVhdG9yPgogICA8cGx1czpDb3B5cmlnaHRPd25lcj4KICAgIDxyZGY6U2VxLz4KICAgPC9wbHVzOkNvcHlyaWdodE93bmVyPgogICA8cGx1czpMaWNlbnNvcj4KICAgIDxyZGY6U2VxLz4KICAgPC9wbHVzOkxpY2Vuc29yPgogIDwvcmRmOkRlc2NyaXB0aW9uPgogPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+hRHudAAAAAJiS0dEAP+Hj8y/AAAACXBIWXMAAC4jAAAuIwF4pT92AAAAB3RJTUUH5QgXCi0ykomKzwAAByZJREFUeNrt1r/L1WUYwOH72JkSQsGttVXQqdV/QN0NWlykou3lVXBoCV8572ZEW5G4NzdETdH/0NpsYeAQclqkrfDXie85n+s6yxm/z/18eLhX25k5PTeP5/7R7dlz24EXd+aff8ebE+OgGb/8Cccvf8Lxy59w/PInHL/8Cccvf8Lxy59w/PInHL/8Cccvf8Lxy59w/PInHL/8Cccvf8Lxy59w/PInHL/8Cccvf8Lxy59w/PInHL/8Cccvf8Lxy59w/PInHP/M8eaLzcoIKcY/8/F8KX+a8c/ckj/V+OVPOH75E45f/oTjlz/h+OVPOH75E45f/oTjlz/h+OVPOH75E45f/oTjlz/h+OVPOH75E45f/oTjlz/h+OVPOH75E45f/oTjlz/h+OVPOH75E45f/oTjlz/h+OVPOH75E45f/oTjlz/h+OVPOH75E45f/oTjlz/h+OVPOH75E45f/oTjlz/h+OVPOH75E45f/oTjlz/h+GduzcPNWy6GYvwzH8y38qcZ/8wN+VONX/6E45c/4fjlTzh++ROOX/6E45c/4fjlTzh++ROOX/6E45c/4fjlTzh++ROOX/6E45c/4fjlTzh++ROOX/6E45c/4fjlTzh++ROOX/6E45c/4fjlTzh++ROOX/68gvXBnOTGzOmHR89c6W5tvfxef8Qvf8Qvf8Qvf8Qvf8Qvf8Qvf8Qvf8Qvf8Qvf8Qvf8Qvf8T/BvL/2kXTjH/mmoumGj+IH8QP4kf8IH4QP4gfxA/iB/GD+EH8IH4QP4gfxA/iB/GD+EH8IH4QP4gfxA/iB/GD+EH8IH4QP4gf8YP4QfwgfhA/iB/ED+IH8YP4QfwgfhA/iB/ED+IH8YP4QfwgfhA/iB/ED+IH8YP4QfwgfpiZWRvBTtyci4d5sNX+H+HO9qn4d+nqXDeEhfpsnlp7sPOD+EH8IH4QP4gfxA/iB/GD+EH8IH4QP4gfxA/iB/GD+EH8IH4QP4gfxA/iB/GD+EH8IH4QP+IH8YP4QfwgfhA/iB/ED+IH8YP4QfwgfhA/iB/ED+IH8YP4QfwgfhA/iB/ED+IH8YP4QfwgfsQP4gfxg/hB/CB+ED+IH8QP4gfxg/hB/CB+ED+IH8QP4gfxg/hB/CB+ED+IH8QP4gfxg/gRP4gfxA/iB/GD+EH8IH4QP4gfxA/iB/GD+EH8IH4QP4gfxA/iB/GD+EH88LLWRrAT9+abvf32R/O2+Hl1v+zxt/9l7QHxg/hB/CB+ED+IH8QP4gfxg/hB/CB+ED+IH8QP4gfxg/hB/CB+ED+IH8QP4gfxI34QP4gfxA/iB/GD+EH8IH4QP4gfxA/iB/GD+EH8IH4QP4gfxA/iB/GD+EH8IH4QP4gfxA/iR/wgfhA/iB/ED+IH8YP4QfwgfhA/iB/ED+IH8YP4QfwgfhA/iB/ED+IH8YP4QfwgfhA/iB/Ej/hB/CB+ED+IH8QP4gfxg/hB/CB+ED+IH8QP4gfxg/hB/CB+ED+IH8QP4gfxg/hB/CB+ED//4pH4qfpkvhI/Tdv5qJG/+MnmL36y+YufbP7i57/yfyB+qvl/OvfFT9Xtw81f/GTzFz/Z/MVPNn/xk81f/GTzFz/Z/MVPNn/xk81f/GTzFz/Z/MVPNn/xk81f/GTzFz/Z/MVPNn/xk81f/GTzFz/Z/MVPNn/xk81f/GTzFz/Z/MVPNn/xk81f/GTzFz/Z/MVPNn/xk81/nbiIs5vvDvyEz+b46NfF5T9zvOShrbYzc3puHnuq9txvc2Vx+c+cLDD/89vfrT2H5d35cfOe5cfOL3/5i1/+8he//OUvfvnLX/zyz+cv/sPM/+fNRfmLv+nC/CB/8ctf/uKXv/zFL3/5i1/+7fzFL/9s/uKXfzZ/8cs/m7/45Z/NX/zyz+Z/ZjUrYcg/lf/q+c/LL//s6y9++WfzF7/8l5H/5+Knmv/duSN+qvmf/N/5i1/+2fzFL/9s/uKXfzZ/8cs/m7/45Z/NX/zyz+YvfrL5i59s/uInm7/4yeYvfrL5i59s/uInm7/4yeYvfrL5i59s/uInm7/4yeYvfrL5i59s/uInm7/4yeYvfrL5i59s/uInm7/4yeYvfrL5i59s/uInm7/4yeYvfrL5i59s/uInm7/4yeYvfrL5i59s/uInm7/4yeYvfrL5i59s/uInm7/4yeYvfrL5i59s/uInm7/4yeYvfrL5i59s/uJnV/lfWnr+4mdX+f+0eX+R+W/Fz669M98vMv8/xE81f2sP8hc/2fzFTzZ/8ZPNX/xk8xc/2fzFTzZ/8ZPNX/xk8xc/2fzFTzZ/8ZPNX/xk8xc/2fzFTzZ/8ZPNX/xk8xc/2fzFTzZ/8ZPNX/xk8xc/2fzFTzZ/8ZPNX/xk8xc/2fzFTzZ/8ZPNX/xk8xc/2fzFTzZ/8ZPNX/xk8xc/2fzFTzb/9czMPJnLZsyC/WkEALy+vwEv5uzdltH5GQAAAABJRU5ErkJggg==\"","export default __webpack_public_path__ + \"static/media/lekhboard-small.d3d7afbf.svg\";","export default __webpack_public_path__ + \"static/media/avatar.75fdf75c.svg\";","import React, { useState } from 'react';\n\n\nconst HeaderStyle = {\n    root: {\n        flexGrow: 1,\n    },\n    title: {\n        flexGrow: 1,\n    },\n    arrowUp: {\n        top: '54px',\n        position: 'absolute',\n    },\n    MainGrid: {\n        display: 'flex',\n        position: 'relative',\n    },\n    outClass: {\n        position: 'relative',\n        margin: '0 auto',\n        bottom: '2px',\n        border: '1px solid #d1d1d1',\n    },\n    paper: {\n        background: '#fff',\n        borderRadius: '8px',\n        padding: '15px 126px',\n        textAlign: 'center',\n        color: '#000',\n        position: 'absolute',\n        margin: '20px',\n        marginRight: '0',\n        right: '-10px',\n        top: '4px',\n        minHeight: '180px',\n        '&::before': {\n            content: '\"s\"',\n            position: 'absolute',\n            width: 0,\n            height: 0,\n            borderLeft: '19px solid transparent',\n            borderRight: '19px solid transparent',\n            borderBottom: '28px solid #fff',\n            top: '-28px',\n            right: '27px',\n            marginLeft: 'auto',\n            fontSize: 0,\n            zIndex: 9,\n        }\n    },\n    responsicePaper:{\n            width: '0px',\n            background: '#fff',\n            borderRadius: '8px',\n            padding: '0px 66px',\n            textAlign: 'center',\n            color: '#000',\n            margin: '20px',\n            marginRight: '0',\n            right: '19px',\n            top: '13px',\n            minHeight: '123px',\n        '&::before': {\n            content: '\"s\"',\n            position: 'absolute',\n            width: 0,\n            height: 0,\n            borderLeft: '19px solid transparent',\n            borderRight: '19px solid transparent',\n            borderBottom: '28px solid #fff',\n            top: '-28px',\n            right: '27px',\n            marginLeft: 'auto',\n            fontSize: 0,\n            zIndex: 9,\n        }\n    },\n    textIcon:{\n    margin: '-7px',\n    paddingRight: '8px',\n    },\n    checkIcon:{\n        position:'absolute',\n        margin:'5px'\n    },\n    appMenu: {\n        top: \"16px !important\"\n    }\n\n}\n\nexport default HeaderStyle;","var globalState = { }\n\nvar zoomHandler = null;\n\nglobalState.setZoomHandler = function(cb) {\n    zoomHandler = cb;\n}\n\nglobalState.onZoom = function() {\n    if (zoomHandler != null) {\n        zoomHandler(window.Module.getZoom());\n    }\n}\n\nexport default globalState;\n","function stencilUrl(name) {\n    return \"https://rajeevku02.github.io/lekhboard/stencils/v3/\" + name;\n}\n\nvar stencils = [\n    [\"Font Awesome Brands\", \"fab\", \"UI Mockup\", \"Font Awesome\", stencilUrl(\"fa_brands.json\")],\n    [\"Font Awesome Solid\", \"fa\", \"UI Mockup\", \"Font Awesome\", stencilUrl(\"fa_solid.json\")],\n    [\"Font Awesome Regular\", \"far\", \"UI Mockup\", \"Font Awesome\", stencilUrl(\"fa_regular.json\")],\n    [\"Wireframe Big\", \"avabodh.wireframe.big\", \"Software\", \"UI Wireframe\", stencilUrl(\"wireframe.json\")],\n    [\"Wireframe Buttons\", \"avabodh.wireframe.buttons\", \"Software\", \"UI Wireframe\", stencilUrl(\"wireframe.json\")],\n    [\"Wireframe Forms\", \"avabodh.wireframe.forms\", \"Software\", \"UI Wireframe\", stencilUrl(\"wireframe.json\")],\n    [\"Wireframe Text\", \"avabodh.wireframe.text\", \"Software\", \"UI Wireframe\", stencilUrl(\"wireframe.json\")],\n    [\"Wireframe Layout\", \"avabodh.wireframe.layout\", \"Software\", \"UI Wireframe\", stencilUrl(\"wireframe.json\")],\n    [\"Wireframe Markup\", \"avabodh.wireframe.markup\", \"Software\", \"UI Wireframe\", stencilUrl(\"wireframe.json\")],\n    [\"Wireframe Media\", \"avabodh.wireframe.media\", \"Software\", \"UI Wireframe\", stencilUrl(\"wireframe.json\")],\n    [\"Wireframe iOS\", \"avabodh.wireframe.ios\", \"Software\", \"UI Wireframe\", stencilUrl(\"wireframe.json\")],\n    [\"Wireframe Android\", \"avabodh.wireframe.android\", \"Software\", \"UI Wireframe\", stencilUrl(\"wireframe.json\")],\n    [\"Wireframe Misc\", \"avabodh.wireframe.misc\", \"Software\", \"UI Wireframe\", stencilUrl(\"wireframe.json\")],\n    [\"Wireframe iOS Icons\", \"avabodh.wireframe.iosicons\", \"Software\", \"UI Wireframe\", stencilUrl(\"ios_icons.json\")],\n    [\"Network Infrastructure\", \"avabodh.networks\", \"Network\", \"Network Infrastructure\", stencilUrl(\"networks.json\")],\n    [\"Office Clouds\", \"avabodh.office.clouds\", \"Network\", \"Office\", stencilUrl(\"office_cloud.json\")],\n    [\"Office Communications\", \"avabodh.office.communications\", \"Network\", \"Office\", stencilUrl(\"office_communications.json\")],\n    [\"Office Concepts\", \"avabodh.office.concepts\", \"Network\", \"Office\", stencilUrl(\"office_concepts.json\")],\n    [\"Office Databases\", \"avabodh.office.databases\", \"Network\", \"Office\", stencilUrl(\"office_databases.json\")],\n    [\"Office Devices\", \"avabodh.office.devices\", \"Network\", \"Office\", stencilUrl(\"office_devices.json\")],\n    [\"Office Security\", \"avabodh.office.security\", \"Network\", \"Office\", stencilUrl(\"office_security.json\")],\n    [\"Office Servers\", \"avabodh.office.servers\", \"Network\", \"Office\", stencilUrl(\"office_servers.json\")],\n    [\"Office Services\", \"avabodh.office.services\", \"Network\", \"Office\", stencilUrl(\"office_services.json\")],\n    [\"Office Sites\", \"avabodh.office.sites\", \"Network\", \"Office\", stencilUrl(\"office_sites.json\")],\n    [\"Office Users\", \"avabodh.office.users\", \"Network\", \"Office\", stencilUrl(\"office_users.json\")],\n    [\"AWS Analytics\", \"avabodh.AWS_Simple_Icons_EPS-SVG_v17.1.6.Analytics\", \"Network\", \"AWS\", stencilUrl(\"aws_analytics.json\")],\n    [\"AWS Application Services\", \"avabodh.AWS_Simple_Icons_EPS-SVG_v17.1.6.Application Services\", \"Network\", \"AWS\", stencilUrl(\"aws_application_services.json\")],\n    [\"AWS Artificial Intelligence\", \"avabodh.AWS_Simple_Icons_EPS-SVG_v17.1.6.Artificial Intelligence\", \"Network\", \"AWS\", stencilUrl(\"aws_artificial_intelligence.json\")],\n    [\"AWS Business Productivity\", \"avabodh.AWS_Simple_Icons_EPS-SVG_v17.1.6.Business Productivity\", \"Network\", \"AWS\", stencilUrl(\"aws_business_productivity.json\")],\n    [\"AWS Compute\", \"avabodh.AWS_Simple_Icons_EPS-SVG_v17.1.6.Compute\", \"Network\", \"AWS\", stencilUrl(\"aws_compute.json\")],\n    [\"AWS Database\", \"avabodh.AWS_Simple_Icons_EPS-SVG_v17.1.6.Database\", \"Network\", \"AWS\", stencilUrl(\"aws_database.json\")],\n    [\"AWS Desktop & Streaming\", \"avabodh.AWS_Simple_Icons_EPS-SVG_v17.1.6.Desktop App Streaming\", \"Network\", \"AWS\", stencilUrl(\"aws_desktop_app_streaming.json\")],\n    [\"AWS Developer Tools\", \"avabodh.AWS_Simple_Icons_EPS-SVG_v17.1.6.Developer Tools\", \"Network\", \"AWS\", stencilUrl(\"aws_developer_tools.json\")],\n    [\"AWS Game Development\", \"avabodh.AWS_Simple_Icons_EPS-SVG_v17.1.6.Game Development\", \"Network\", \"AWS\", stencilUrl(\"aws_game_development.json\")],\n    [\"AWS General\", \"avabodh.AWS_Simple_Icons_EPS-SVG_v17.1.6.General\", \"Network\", \"AWS\", stencilUrl(\"aws_general.json\")],\n    [\"AWS Internet of Things\", \"avabodh.AWS_Simple_Icons_EPS-SVG_v17.1.6.Internet of Things\", \"Network\", \"AWS\", stencilUrl(\"aws_internet_of_things.json\")],\n    [\"AWS Management Tools\", \"avabodh.AWS_Simple_Icons_EPS-SVG_v17.1.6.Management Tools\", \"Network\", \"AWS\", stencilUrl(\"aws_management_tools.json\")],\n    [\"AWS Messaging\", \"avabodh.AWS_Simple_Icons_EPS-SVG_v17.1.6.Messaging\", \"Network\", \"AWS\", stencilUrl(\"aws_messaging.json\")],\n    [\"AWS Migration\", \"avabodh.AWS_Simple_Icons_EPS-SVG_v17.1.6.Migration\", \"Network\", \"AWS\", stencilUrl(\"aws_migration.json\")],\n    [\"AWS Mobile Services\", \"avabodh.AWS_Simple_Icons_EPS-SVG_v17.1.6.Mobile Services\", \"Network\", \"AWS\", stencilUrl(\"aws_mobile_services.json\")],\n    [\"AWS Networking & Content Delivery\", \"avabodh.AWS_Simple_Icons_EPS-SVG_v17.1.6.Networking And Content Delivery\", \"Network\", \"AWS\", stencilUrl(\"aws_networking_and_content_delivery.json\")],\n    [\"AWS On Demand Workforce\", \"avabodh.AWS_Simple_Icons_EPS-SVG_v17.1.6.On Demand Workforce\", \"Network\", \"AWS\", stencilUrl(\"aws_on_demand_workforce.json\")],\n    [\"AWS SDKs\", \"avabodh.AWS_Simple_Icons_EPS-SVG_v17.1.6.SDKs\", \"Network\", \"AWS\", stencilUrl(\"aws_sdks.json\")],\n    [\"AWS Security Identity & Compliance\", \"avabodh.AWS_Simple_Icons_EPS-SVG_v17.1.6.Security Identity And Compliance\", \"Network\", \"AWS\", stencilUrl(\"aws_security_identity_and_compliance.json\")],\n    [\"AWS Storage\", \"avabodh.AWS_Simple_Icons_EPS-SVG_v17.1.6.Storage\", \"Network\", \"AWS\", stencilUrl(\"aws_storage.json\")],\n    [\"Azure Common\", \"avabodh.azure\", \"Network\", \"Azure\", stencilUrl(\"azure.json\")],\n    [\"Azure Cloud\", \"avabodh.azure.cloud\", \"Network\", \"Azure\", stencilUrl(\"mscae_cloud.json\")],\n    [\"Azure General\", \"avabodh.azure.general\", \"Network\", \"Azure\", stencilUrl(\"mscae_general.json\")],\n    [\"Azure Enterprise\", \"avabodh.azure.enterprise\", \"Network\", \"Azure\", stencilUrl(\"mscae_enterprise.json\")],\n    [\"Azure Intune\", \"avabodh.azure.intune\", \"Network\", \"Azure\", stencilUrl(\"mscae_intune.json\")],\n    [\"Azure System Center\", \"avabodh.azure.system_center\", \"Network\", \"Azure\", stencilUrl(\"mscae_system_center.json\")],\n    [\"Azure Other\", \"avabodh.azure.other\", \"Network\", \"Azure\", stencilUrl(\"mscae_other.json\")],\n    [\"GCP Big Data\", \"avabodh.GCP.Big Data\", \"Network\", \"Google Cloud Platform\", stencilUrl(\"gcp_big_data.json\")],\n    [\"GCP Compute\", \"avabodh.GCP.Compute\", \"Network\", \"Google Cloud Platform\", stencilUrl(\"gcp_compute.json\")],\n    [\"GCP Developer Tools\", \"avabodh.GCP.Developer Tools\", \"Network\", \"Google Cloud Platform\", stencilUrl(\"gcp_developer_tools.json\")],\n    [\"GCP Extras\", \"avabodh.GCP.Extras\", \"Network\", \"Google Cloud Platform\", stencilUrl(\"gcp_extras.json\")],\n    [\"GCP Identity & Security\", \"avabodh.GCP.Identity And Security\", \"Network\", \"Google Cloud Platform\", stencilUrl(\"gcp_identity_and_security.json\")],\n    [\"GCP Machine Learning\", \"avabodh.GCP.Machine Learning\", \"Network\", \"Google Cloud Platform\", stencilUrl(\"gcp_machine_learning.json\")],\n    [\"GCP Management Tools\", \"avabodh.GCP.Management Tools\", \"Network\", \"Google Cloud Platform\", stencilUrl(\"gcp_management_tools.json\")],\n    [\"GCP Networking\", \"avabodh.GCP.Networking\", \"Network\", \"Google Cloud Platform\", stencilUrl(\"gcp_networking.json\")],\n    [\"GCP Storage & Databases\", \"avabodh.GCP.Storage And Databases\", \"Network\", \"Google Cloud Platform\", stencilUrl(\"gcp_storage_and_databases.json\")],\n    [\"Citrix\", \"avabodh.citrix\", \"Network\", \"Citrix\", stencilUrl(\"citrix.json\")],\n    [\"Cisco Buildings\", \"avabodh.cisco.buildings\", \"Network\", \"Cisco\", stencilUrl(\"cisco_buildings.json\")],\n    [\"Cisco Computers & Peripherals\", \"avabodh.cisco.computers_and_peripherals\", \"Network\", \"Cisco\", stencilUrl(\"cisco_computers_and_peripherals.json\")],\n    [\"Cisco Controllers & Modules\", \"avabodh.cisco.controllers_and_modules\", \"Network\", \"Cisco\", stencilUrl(\"cisco_controllers_and_modules.json\")],\n    [\"Cisco Directors\", \"avabodh.cisco.directors\", \"Network\", \"Cisco\", stencilUrl(\"cisco_directors.json\")],\n    [\"Cisco Hubs & Gateways\", \"avabodh.cisco.hubs_and_gateways\", \"Network\", \"Cisco\", stencilUrl(\"cisco_hubs_and_gateways.json\")],\n    [\"Cisco Misc\", \"avabodh.cisco.misc\", \"Network\", \"Cisco\", stencilUrl(\"cisco_misc.json\")],\n    [\"Cisco Modems & Phones\", \"avabodh.cisco.modems_and_phones\", \"Network\", \"Cisco\", stencilUrl(\"cisco_modems_and_phones.json\")],\n    [\"Cisco People\", \"avabodh.cisco.people\", \"Network\", \"Cisco\", stencilUrl(\"cisco_people.json\")],\n    [\"Cisco Routers\", \"avabodh.cisco.routers\", \"Network\", \"Cisco\", stencilUrl(\"cisco_routers.json\")],\n    [\"Cisco Security\", \"avabodh.cisco.security\", \"Network\", \"Cisco\", stencilUrl(\"cisco_security.json\")],\n    [\"Cisco Servers\", \"avabodh.cisco.servers\", \"Network\", \"Cisco\", stencilUrl(\"cisco_servers.json\")],\n    [\"Cisco Storage\", \"avabodh.cisco.storage\", \"Network\", \"Cisco\", stencilUrl(\"cisco_storage.json\")],\n    [\"Cisco Switches\", \"avabodh.cisco.switches\", \"Network\", \"Cisco\", stencilUrl(\"cisco_switches.json\")],\n    [\"Cisco Wireless\", \"avabodh.cisco.wireless\", \"Network\", \"Cisco\", stencilUrl(\"cisco_wireless.json\")],\n    [\"Rack APC\", \"avabodh.rack.APC\", \"Network\", \"Server Rack\", stencilUrl(\"rack_apc.json\")],\n    [\"Rack Cisco\", \"avabodh.rack.cisco\", \"Network\", \"Server Rack\", stencilUrl(\"rack_cisco.json\")],\n    [\"Rack Dell\", \"avabodh.rack.Dell\", \"Network\", \"Server Rack\", stencilUrl(\"rack_dell.json\")],\n    [\"Rack F5\", \"avabodh.rack.f5\", \"Network\", \"Server Rack\", stencilUrl(\"rack_f5.json\")],\n    [\"Rack General\", \"avabodh.rack.General\", \"Network\", \"Server Rack\", stencilUrl(\"rack_general.json\")],\n    [\"Rack HP\", \"avabodh.rack.HP\", \"Network\", \"Server Rack\", stencilUrl(\"rack_hp.json\")],\n    [\"Rack IBM\", \"avabodh.rack.IBM\", \"Network\", \"Server Rack\", stencilUrl(\"rack_ibm.json\")],\n    [\"Rack Oracle\", \"avabodh.rack.Oracle\", \"Network\", \"Server Rack\", stencilUrl(\"rack_oracle.json\")],\n    [\"Web Icons\", \"avabodh.webicons\", \"Network\", \"Web Icons\", stencilUrl(\"web_icons.json\")],\n    [\"Web Logos\", \"avabodh.weblogos\", \"Network\", \"Web Icons\", stencilUrl(\"web_logos.json\")],\n    [\"Sign Animals\", \"avabodh.signs.animals\", \"Other\", \"Signs And Pictograph\", stencilUrl(\"sign_animals.json\")],\n    [\"Sign Food\", \"avabodh.signs.food\", \"Other\", \"Signs And Pictograph\", stencilUrl(\"sign_food.json\")],\n    [\"Sign Healthcare\", \"avabodh.signs.healthcare\", \"Other\", \"Signs And Pictograph\", stencilUrl(\"sign_healthcare.json\")],\n    [\"Sign Nature\", \"avabodh.signs.nature\", \"Other\", \"Signs And Pictograph\", stencilUrl(\"sign_nature.json\")],\n    [\"Sign People\", \"avabodh.signs.people\", \"Other\", \"Signs And Pictograph\", stencilUrl(\"sign_people.json\")],\n    [\"Sign Safety\", \"avabodh.signs.safety\", \"Other\", \"Signs And Pictograph\", stencilUrl(\"sign_safety.json\")],\n    [\"Sign Science\", \"avabodh.signs.science\", \"Other\", \"Signs And Pictograph\", stencilUrl(\"sign_science.json\")],\n    [\"Sign Sports\", \"avabodh.signs.sports\", \"Other\", \"Signs And Pictograph\", stencilUrl(\"sign_sports.json\")],\n    [\"Sign Tech\", \"avabodh.signs.tech\", \"Other\", \"Signs And Pictograph\", stencilUrl(\"sign_tech.json\")],\n    [\"Sign Transportation\", \"avabodh.signs.transportation\", \"Other\", \"Signs And Pictograph\", stencilUrl(\"sign_transportation.json\")],\n    [\"Sign Travel\", \"avabodh.signs.travel\", \"Other\", \"Signs And Pictograph\", stencilUrl(\"sign_travel.json\")]\n]\n\nexport default stencils;","import stencils from \"./Stencils\"\nimport libnames from '../data/libnames.json'\n\nvar shapes = {\n    expanded: false,\n    libraryColCount: 4,\n    scroll: 0,\n    searchText: ''\n}\n\nconst loadingUrls = new Set()\n\nvar miniGroup = {\n    name: 'Default',\n    shapes: [\n        {category: 0, num: 0, name: ''},\n        {category: 0, num: 2, name: ''},\n        {category: 0, num: 3, name: ''},\n        {category: 0, num: 5, name: ''},\n        {category: 0, num: 6, name: ''},\n        {category: 0, num: 7, name: ''},\n        {category: 0, num: 8, name: ''},\n        {category: 2, num: 1, name: ''},\n        {category: 2, num: 2, name: ''},\n        {category: 2, num: 5, name: ''},\n        {category: 2, num: 6, name: ''},\n        {category: 2, num: 10, name: ''},\n        {category: 2, num: 20, name: ''},\n        {category: 3, num: 0, name: ''},\n        {category: 3, num: 4, name: ''},\n        {category: 5, num: 0, name: ''},\n        {category: 5, num: 4, name: ''},\n        {category: 5, num: 5, name: ''},\n        {category: 5, num: 6, name: ''},\n        {category: 5, num: 7, name: ''},\n        {category: 5, num: 8, name: ''},\n        {category: 5, num: 9, name: ''},\n        {category: 5, num: 10, name: ''},\n        {category: 4, num: 1, name: ''}\n    ]\n}\n\nfunction initEmptyCategs() {\n    for (let item of stencils) {\n        window.Module.libraryStore().initEmptyCateg(item[0], item[1], item[2], item[3], item[4]);\n    }\n}\n\nasync function loadTemplate(name) {\n    await fetch(name)\n      .then(response => response.json())\n      .then(response => {\n        window.Module.libraryStore().initObjects(JSON.stringify(response));\n      })\n}\n  \nasync function loadAll() {\n    window.Module.libraryStore().initNames(JSON.stringify(libnames));\n    await loadTemplate(\"templates/v4/templates.json\")\n    await loadTemplate(\"templates/v4/connection_arrows.json\")\n    await loadTemplate(\"templates/v4/basic.json\")\n    await loadTemplate(\"templates/v4/container.json\")\n    await loadTemplate(\"templates/v4/flowchart.json\")\n    await loadTemplate(\"templates/v4/arrow.json\")\n    await loadTemplate(\"templates/v4/callout.json\")\n    await loadTemplate(\"templates/v4/misc.json\")\n    await loadTemplate(\"templates/v4/uml.json\")\n}\n\nshapes.initialize = async function() {\n    await loadAll();  \n    window.Module.libraryStore().init(shapes.libraryColCount);\n    initEmptyCategs();\n    window.Module.libraryStore().onDisplaySettingChange();\n}\n\nshapes.groupCount = function() {\n    return window.Module.getShapeLibGroupCount();\n}\n\nshapes.getGroup = function(idx) {\n    var group = window.Module.getShapeLibGroup(idx);\n    return group;\n}\n\nshapes.expandGroup = function(idx, flag) {\n    window.Module.expandShapeLibGroup(idx, flag);\n}\n\nshapes.getShapes = function(idx, cb) {\n    var group = window.Module.getShapeLibGroup(idx);\n    if (group == null) {\n        return;\n    }\n    if (group.contentUrl) {\n        if (loadingUrls.has(group.contentUrl)) {\n            return;\n        }\n        loadingUrls.add(group.contentUrl);\n        fetch(group.contentUrl)\n            .then(response => response.json())\n            .then(response => {\n                window.Module.libraryStore().initObjects(JSON.stringify(response));\n                cb();\n                loadingUrls.delete(group.contentUrl);\n            });\n    }\n}\n\nshapes.getMiniGroup = function() {\n    return miniGroup;\n}\n\nshapes.getDisplaySettings = function() {\n    return window.Module.getShapeLibDisplaySettings();\n}\n\nshapes.setDisplaySetting = function(name, flag) {\n    window.Module.libraryStore().addDisplaySetting(name, flag);\n    window.Module.libraryStore().onDisplaySettingChange();\n}\n\nshapes.search = function(text) {\n    shapes.searchText = text;\n    window.Module.libraryStore().filterObjects(text);\n}\n\nexport default shapes\n","import globalState from './GlobalState'\nimport shapes from '../shapelib/Shapes'\n\nvar canvas = {\n    moving: false,\n    fromX: 0,\n    fromY: 0,\n    origScrollX: 0,\n    origScrollY: 0,\n    showGrid: true,\n    gridType: 2,\n };\n\nvar canvasElement = null;\n\ncanvas.toggleGrid = function() {\n    canvas.showGrid = !canvas.showGrid;\n    canvas.drawGrid();\n}\n\ncanvas.onResize = function() {\n    canvasElement = null;\n    canvas.setSize();\n    canvas.draw();\n    canvas.drawGrid();\n}\n\ncanvas.moveDelta = function(dx, dy) {\n    var zm = window.Module.getZoom();\n    var scroll = window.Module.getScroll();\n    dx = dx / zm;\n    dy = dy / zm;\n    window.Module.setScroll({x: scroll.x + dx, y: scroll.y + dy});\n    canvas.drawGrid();\n    canvas.draw();\n}\n\ncanvas.getMidPoint = () => {\n    var tp = document.getElementById('transparentPanel');\n    var rect = tp.getBoundingClientRect();\n    var x = (rect.left + rect.right) / 2;\n    var y = (rect.top + rect.bottom) / 2;\n    return {x: x, y: y};\n}\n\ncanvas.isVisible = (x, y, pad) => {\n    var tp = document.getElementById('transparentPanel');\n    var rect = tp.getBoundingClientRect();\n    return x-pad >= rect.left && x+pad <= rect.right && y-pad >= rect.top && y+pad <= rect.bottom;\n}\n\ncanvas.move = function(x, y, type) {\n    var zm = window.Module.getZoom();\n     if (type == 0) {\n         var scroll = window.Module.getScroll();\n         canvas.moving = true;\n         canvas.fromX = x;\n         canvas.fromY = y;\n         canvas.origScrollX = scroll.x;\n         canvas.origScrollY = scroll.y;\n     }\n     if (type == 1 && canvas.moving) {\n        var dx = x - canvas.fromX;\n        var dy = y - canvas.fromY;\n        var sx = canvas.origScrollX + dx / zm;\n        var sy = canvas.origScrollY + dy / zm;\n        window.Module.setScroll({x: sx, y: sy});\n     }\n\n     if (type == 2 && canvas.moving) {\n         canvas.moving = false;\n     }\n}\n\ncanvas.mapx = function(x) {\n    var zm = window.Module.getZoom();\n    var scroll = window.Module.getScroll();\n    return (x  + scroll.x) * zm;\n}\n\ncanvas.mapy = function(y) {\n    var zm = window.Module.getZoom();\n    var scroll = window.Module.getScroll();\n    return (y  + scroll.y) * zm;\n}\n\ncanvas.maprx = function(x) {\n    var zm = window.Module.getZoom();\n    var scroll = window.Module.getScroll();\n    return x / zm - scroll.x;\n}\n\ncanvas.mapry = function(y) {\n    var zm = window.Module.getZoom();\n    var scroll = window.Module.getScroll();\n    return y / zm - scroll.y;\n}\n\ncanvas.getZoom = function() {\n    return window.Module.getZoom();\n}\n\ncanvas.zoomAt = function(x, y, factor) {\n    // (x + d1) * z1 = x'\n    // (x + d2) * z2 = x'\n    // from these two equations, calculate d2\n    var z1 = window.Module.getZoom();\n    z1 = Math.round(z1 * 100) / 100;\n    var z2 = Math.round(factor * 100) / 100;\n    \n    // If new zoom and old zoom are same in scale of [1 100]\n    // then do not do anything\n    if (Math.round(z1 * 100) == Math.round(z2 * 100)) {\n        return;\n    }\n\n    var scroll = window.Module.getScroll();\n\n    var dx = (x / z2) - (x / z1) + scroll.x;\n    var dy = (y / z2) - (y / z1) + scroll.y;\n\n    window.Module.setScroll({x: dx, y: dy});\n    window.Module.setZoom(Math.round(z2 * 100));\n\n    globalState.onZoom();\n    canvas.drawGrid();\n    canvas.draw();\n }\n\ncanvas.zoom = function(factor) {\n    var vport = document.getElementById(\"viewport\");\n    var rect = vport.getBoundingClientRect();\n    canvas.zoomAt(rect.width / 2, rect.height / 2, factor);\n}\n\nconst fixCanvas = function(cnv, width, height) {\n    var dpr = window.devicePixelRatio || 1;\n    cnv.width = width * dpr;\n    cnv.height = height * dpr;\n    cnv.style.width = width + \"px\";\n    cnv.style.height = height + \"px\";\n    var ctx = cnv.getContext(\"2d\");\n    ctx.scale(dpr, dpr);\n}\ncanvas.setSize = function() {\n    var vport = document.getElementById(\"viewport\");\n    var rect = vport.getBoundingClientRect();\n    var panel = document.getElementById(\"gridCanvas\");\n    fixCanvas(panel, rect.width, rect.height);\n    var canvasElement = document.getElementById(\"drawCanvas\");\n    fixCanvas(canvasElement, rect.width, rect.height);\n    var tp = document.getElementById(\"transparentPanel\");\n    fixCanvas(tp, rect.width, rect.height);\n}\n\ncanvas.exportToImage = function(format) {\n    var padding = 10;\n    var rect = window.Module.getBoundsOfAll();\n    var sx = padding - rect.x;\n    var sy = padding - rect.y;\n    var width = rect.width + 2 * padding;\n    var height = rect.height + 2 * padding;\n\n    var cel = document.createElement(\"canvas\");\n    fixCanvas(cel, width, height);\n    var ctx = cel.getContext(\"2d\");\n\n    if (format == \"jpg\" || format == \"jpeg\") {\n        ctx.fillStyle = '#fff';\n        ctx.fillRect(0, 0, width, height);\n    }\n    window.Module.drawCanvasForExport(ctx, sx, sy);\n    return {data: cel.toDataURL(\"image/\" + format), width: width, height: height }\n}\n\ncanvas.drawGrid = function() {\n    var panel = document.getElementById(\"gridCanvas\");\n    var wd = panel.width;\n    var ht = panel.height;\n    var ctx = panel.getContext('2d');\n    ctx.clearRect(0, 0, panel.width, panel.height);\n    if (!canvas.showGrid) {\n        return;   \n    }\n    var zm = window.Module.getZoom();\n    var scroll = window.Module.getScroll();\n    var rad = 1 * zm;\n    var step = 48 * zm;\n\n    var startx = (scroll.x * zm) % step;\n    var starty = (scroll.y * zm) % step;\n\n    if (canvas.gridType == 1) {\n        if (step < 16) {\n            return;\n        }\n        ctx.beginPath();\n        ctx.fillStyle = \"#c0c0c0\";\n        ctx.strokeStyle = \"#c0c0c0\";\n        for (var i = starty; i < ht; i+= step) {\n            for (var j = startx; j < wd; j+= step) {\n                ctx.moveTo(j + rad, i);\n                ctx.arc(j, i, rad, 0, 2 * Math.PI, false);\n            }\n        }\n        ctx.fill();\n        ctx.stroke();\n    } else {\n        if (step < 8) {\n            return;\n        }\n        ctx.lineWidth = 0.1;\n        ctx.strokeStyle = \"#606060\";\n        ctx.beginPath();\n        for (var i = starty; i < ht; i+= step) {\n          ctx.moveTo(0, i);\n          ctx.lineTo(wd, i);\n        }\n        for (i = startx; i < wd; i+= step) {\n          ctx.moveTo(i, 0);\n          ctx.lineTo(i, ht);\n        }\n        ctx.stroke();\n    }\n}\n  \ncanvas.draw = function() {\n    if (canvasElement == null) {\n        canvasElement = document.getElementById(\"drawCanvas\");\n    }\n    \n    var ctx = canvasElement.getContext(\"2d\");\n    ctx.clearRect(0, 0, canvasElement.width, canvasElement.height);\n    window.Module.drawCanvas(ctx);\n}\n\ncanvas.drawCell = function(categ, num, sz, ctx) {\n    var row = num / shapes.libraryColCount;\n    var col = num % shapes.libraryColCount;\n    var padding = 8;\n    window.Module.drawCell(categ, row, col, sz - padding, sz / 2, sz / 2, ctx);\n}\n\ncanvas.drawArrow = function(type, size, ctx) {\n}\n\nwindow.drawCanvas = canvas.draw;\n\nexport default canvas;","import React, { useState } from \"react\"\nimport { AiOutlineClose } from \"react-icons/ai\"\n\nconst Feedback = ({ handleClose }) => {\n  const [feedbackForm, setFeedbackForm] = useState({})\n\n  const handleChange = e => {\n    const name = e.target.name\n    const value = e.target.value\n    const newEntry = { [name]: value }\n    setFeedbackForm({ ...feedbackForm, ...newEntry })\n  }\n\n  const submitForm = () => {\n    if (feedbackForm.message) {\n      if (window.wsmanager.send) {\n        window.wsmanager.send('', JSON.stringify({\n          'type': 'feedback',\n          'data': feedbackForm\n        }));\n      }\n      handleClose();\n    }\n  }\n\n  var submitDIsabled = !(feedbackForm.message);\n\n  return (\n    <div className=\"feedback \">\n      <div className=\"feedback-form \">\n        <AiOutlineClose\n          className=\"close-feedback\"\n          onClick={() => handleClose()}\n        />\n        <h2>Feedback</h2>\n\n        <div className=\"feedback-input\">\n          <label htmlFor=\"name\">Name</label>\n          <input\n            id=\"name\"\n            onChange={e => handleChange(e)}\n            name=\"name\"\n            required\n          />\n        </div>\n\n        <div className=\"feedback-input\">\n          <label htmlFor=\"email\">Email Address</label>\n          <input\n            id=\"email\"\n            onChange={e => handleChange(e)}\n            name=\"email\"\n            type=\"email\"\n            required\n          />\n        </div>\n\n        <div className=\"feedback-input\">\n          <label htmlFor=\"message\">Message</label>\n          <textarea\n            id=\"message\"\n            onChange={e => handleChange(e)}\n            name=\"message\"\n            type=\"email\"\n            required\n          />\n        </div>\n\n        <button className=\"submit-feedback\" onClick={submitForm} disabled={submitDIsabled}>\n          Submit\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default Feedback\n","import './Tip.css'\n\nimport React from 'react'\nimport { Dialog } from \"@material-ui/core\";\nimport Button from '@material-ui/core/Button';\nimport { AiOutlineClose } from \"react-icons/ai\"\n\nexport const tip = {\n    force: false,\n    closed: false,\n    reload: () => {},\n    showDoNotShowButton: true,\n    show: () => {tip.force = true; tip.closed=false; tip.showDoNotShowButton = false; tip.reload();}\n}\n\nconst getStorage = () => {\n    if (typeof(window.Storage) == \"undefined\") {\n        return null;\n    }\n    try {\n        return window.localStorage;\n    } catch(e) { }\n\n    return null;\n}\n\ntip.showing = () => {\n    if (tip.closed) {\n        return false\n    }\n\n    if (tip.force) {\n        return true;\n    }\n\n    var storage = getStorage();\n    if (!storage) {\n        return false;\n    }\n    var showTip = storage.getItem(\"showTip\");\n    if (showTip == null || typeof(showTip) == 'undefined') {\n        return true;\n    }\n\n    return showTip != \"true\";\n}\n\ntip.doNotShowAgain = () => {\n    var storage = getStorage();\n    if (!storage) {\n        return;\n    }\n    storage.setItem(\"showTip\", \"true\");\n}\n\nconst useRefState = initialValue => {\n    const [state, setState] = React.useState(initialValue)\n    const stateRef = React.useRef(state)\n    React.useEffect(\n      () => { stateRef.current = state },\n      [state]\n    )\n    return [state, stateRef, setState];\n}\n\nconst QuickTip = (props) => {\n    const [counter, counterRef, setCounter] = useRefState(0);\n    const reload = () => {\n        setCounter(counterRef.current + 1);\n    }\n    React.useEffect(() => {\n        tip.reload = () => {\n            reload();\n        }\n\n        window.setTimeout(()=> {\n            var vid = document.getElementById(\"tip_video\");\n            if (vid != null && vid.paused) {\n                vid.setAttribute(\"controls\", \"controls\")\n            }\n        }, 200);\n    }, [])\n\n    if (!tip.showing()) {\n        return null;\n    }\n\n    const handleClose = () => {\n        tip.closed = true;\n        tip.force = false;\n        reload();\n    }\n\n    const doNotShowAgain = () => {\n        handleClose();\n        tip.doNotShowAgain();\n    }\n\n    return <Dialog onClose={handleClose} open={true}>\n        <div className=\"tip_container\">\n            <div className=\"tip_header\">\n                <span className=\"tip_title\">Drawing Tip</span>\n                <AiOutlineClose className=\"tip_close\" onClick={() => handleClose()}></AiOutlineClose>\n            </div>\n            <div>\n                <video id=\"tip_video\" className=\"tip_video\" autoPlay muted loop>\n                    <source src=\"/a1/videos/QuickTip.mp4\" type=\"video/mp4\" />\n                </video>\n            </div>\n            {tip.showDoNotShowButton && <div className=\"tip_donot_show\" >\n                <Button onClick={doNotShowAgain}>Do not show again</Button>\n            </div>}\n        </div>\n    </Dialog>\n}\n\nexport default QuickTip;","export const constant = {\n  tokenName: \"LKH-TKN\",\n  expiryName: \"LKH-EXP\",\n  refreshToken: \"LKH-RFR\",\n  baseUrl: \"https://api.lekh.app\",\n  backendVersion: \"v1.1\",\n  userInfoLoading: 'loading',\n  userInfoError: 'error',\n  userInfoAvailable: 'available'\n}\n","import { constant } from \"./ApiConstants\";\n\nexport const setTokenToStorage = token => {\n  return localStorage.setItem(constant.tokenName, token);\n};\n\nexport const setRefreshTokenToStorage = token => {\n  return localStorage.setItem(constant.refreshToken, token);\n};\n\nexport const setExpiryTimeToStorage = date => {\n  return localStorage.setItem(constant.expiryName, date);\n};\n\nexport const storageContainsToken = () => {\n  return !!localStorage.getItem(constant.tokenName);\n};\n\nexport const storageContainsRefreshToken = () => {\n  return !!localStorage.getItem(constant.tokenName);\n};\n\nexport const getTokenFromStorage = () => {\n  return localStorage.getItem(constant.tokenName);\n};\n\nexport const getRefreshTokenFromStorage = () => {\n  return localStorage.getItem(constant.refreshToken);\n};\n\nexport const getExpiryTimeFromStorage = () => {\n  return localStorage.getItem(constant.expiryName);\n};\n\nexport const tokenStillValid = () => {\n  return (\n    new Date().getTime() <\n    new Date(parseInt(getExpiryTimeFromStorage()) * 1000).getTime()\n  );\n};\n\nexport const checkLogin = () => {\n  if (getRefreshTokenFromStorage()) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nexport const removeTokenFromStorage = () => {\n  localStorage.removeItem(constant.tokenName);\n};\n\nexport const removeRefreshTokenFromStorage = () => {\n  localStorage.removeItem(constant.refreshToken);\n};\n\nexport const removeExpiryDateFromStorage = () => {\n  localStorage.removeItem(constant.expiryName);\n};\n\nexport const logout = () => {\n  return (\n    removeExpiryDateFromStorage() &&\n    removeRefreshTokenFromStorage() &&\n    removeTokenFromStorage()\n  );\n};\n","import axios from \"axios\";\n// import { getTokenFromStorage } from \"./ApiUtils\";\nimport { constant } from \"./ApiConstants\";\nimport userInfo from \"./UserInfo\";\n\nexport const ApiRequestWithToken = () => {\n  const config = { baseURL: constant.baseUrl };\n  config.headers = { \"X-Auth-Token\": userInfo.token };\n  const instance = axios.create(config);\n  return instance;\n};\n\nexport const ApiRequestWithoutToken = () => {\n  const config = { baseURL: constant.baseUrl, withCredentials: true };\n  const instance = axios.create(config);\n  return instance;\n};\n\nexport const fetcher = url =>\n  ApiRequestWithToken()\n    .get(url)\n    .then(res => res.data);\n\nexport const signUp = data =>\n  ApiRequestWithoutToken().post(\"/v1.1/users\", data);\n\nexport const login = data => ApiRequestWithoutToken().post(\"/v1.1/auth\", data);\n\nexport const confirmAccount = data =>\n  ApiRequestWithoutToken().post(\"/v1.1/auth/confirm\", data);\n\nexport const forgotPassword = data =>\n  ApiRequestWithoutToken().post(\"/v1.1/auth/forgot\", data);\n\nexport const resetPassword = data =>\n  ApiRequestWithoutToken().post(\"/v1.1/auth/reset\", data);\n\nexport const refreshToken = data =>\n  ApiRequestWithToken().post(\"/v1.1/auth/refresh\", { refresh_token: data });\n\nexport const loginWithGoogle = data =>\nApiRequestWithoutToken().post(\"/v1.1/auth/googlelogin\", data);\n\nexport const getCurrentUser = () =>\n  ApiRequestWithToken().get(\"/v1.1/users/current\");\n\nexport const getDocs = qstr => ApiRequestWithToken().get(\"/v1.1/docs\" + qstr);\n\nexport const getDoc = docid => ApiRequestWithToken().get(\"/v1.1/docs/\" + docid);\n\nexport const updateCurrentUser = data =>\n  ApiRequestWithToken().post(\"/v1.1/users/current\", data);\n\nexport const createNew = data => ApiRequestWithToken().post(\"/v1.1/docs\", data);\n\nexport const openDoc = id => ApiRequestWithToken().post(`/v1.1/docs/${id}`, {});\n\nexport const deleteDoc = id => ApiRequestWithToken().delete(`/v1.1/docs/${id}`);\n\nexport const claimDoc = id => ApiRequestWithToken().post(`/v1.1/docs/${id}`, {'operation': {'type': 'claim'}});\n\nexport const duplicateDoc = id => ApiRequestWithToken().post(`/v1.1/docs/${id}`, {'operation': {'type': 'duplicate'}});\n\nexport const shareDoc = (id, data) =>\n  ApiRequestWithToken().post(`/v1.1/docs/${id}/share`, data);\n\nexport const RenameDoc = (id, data) =>\n  ApiRequestWithToken().post(`/v1.1/docs/${id}`, data);\n\nexport const MoveDoc = (id, data) =>\n  ApiRequestWithToken().post(`/v1.1/docs/${id}`, data);\n\nexport const deleteShare = (id, email) =>\n  ApiRequestWithToken().delete(`/v1.1/docs/${id}/share?email=${email}\n`);\n\nexport const hello = (ref) => ApiRequestWithoutToken().get('/hello?ref=' + ref, {withCredentials: true});\n","import {\n  getRefreshTokenFromStorage,\n  setRefreshTokenToStorage,\n  removeRefreshTokenFromStorage,\n} from \"./ApiUtils\";\nimport { refreshToken, getCurrentUser } from \"./ApiRequests\";\nimport { constant } from \"./ApiConstants\";\n\nconst allowedUsersForGestures = new Set([\n  'rajeevku02@gmail.com', 'ash@buckhillcapital.com', 'narender.singh@qualitykiosk.com',\n  'rahul.thathoo@gmail.com', 'akhi.rc.ray@gmail.com', 'ndonnauc@gmail.com'\n]);\n/*\nThe user info can be used in react functional component like this\n\n  useEffect(() => {\n    userInfo.onChange = () => {\n      // we need to reload the component as the user token state has changed.\n      // This can be done by setting some state of the component to the value\n      // of userInfo.state\n    }\n    userInfo.get();\n    return () => {\n      userInfo.onChange = () => {};\n    }\n  }, []);\n\n  // use this check while rendering\n  // userInfo.state == 'available' ==> user is logged in\n  // userInfo.state == 'loading' ==> the user info is being fetched\n  // userInfo.state == 'error' ==> unable to fetch the user info. redirect to login page\n\n*/\n\nconst available = constant.userInfoAvailable;\nconst loading = constant.userInfoLoading;\nconst error = constant.userInfoError;\n\nvar getCalled = false;\n\n// state can be one one of: loading, available, error\nvar userInfo = {\n  state: loading,\n  data: {},\n  token: \"\",\n  onChange: () => {}\n};\n\nuserInfo.isLoggedIn = () => {\n  return userInfo.state == available && !!userInfo.token;\n}\n\nuserInfo.logout = () => {\n  userInfo.token = \"\";\n  userInfo.data = { };\n  userInfo.state = \"loading\";\n  getCalled = false;\n  removeRefreshTokenFromStorage();\n}\n\nuserInfo.get = () => {\n  if (getCalled && userInfo.state != error) {\n    return\n  }\n  getCalled = true;\n  window.addEventListener('storage', handleStorageChange);\n  userInfo.state = loading;\n  fetchInfo(false);\n};\n\nuserInfo.canUseGestures = () => {\n  if (!userInfo.isLoggedIn()) {\n    return false;\n  }\n  return allowedUsersForGestures.has(userInfo.data.email);\n}\n\nconst handleStorageChange = () => {\n  var loggedIn = userInfo.isLoggedIn();\n  let refreshTokenStr = getRefreshTokenFromStorage();\n  if (loggedIn && !!refreshTokenStr) {\n    console.log(\"Not responding to storage change\");\n    return;\n  }\n  console.log(\"Responding to storage change\");\n  fetchInfo(true)\n}\n\nconst onChange = () => {\n  try {\n    userInfo.onChange();\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nconst fetchInfo = async (onStoreChange) => {\n  let refreshTokenStr = getRefreshTokenFromStorage();\n  if (!refreshTokenStr) {\n    if (userInfo.state != error) {\n      setErr();\n    }\n    return;\n  }\n  var wasLoggedin = userInfo.isLoggedIn()\n  var resp = await tryToRefreshToken(refreshTokenStr);\n  if (resp.new_refresh_token) {\n    if (!onStoreChange) {\n      setRefreshTokenToStorage(resp.new_refresh_token);\n    }\n    if (!wasLoggedin) {\n      onChange();\n    }\n  } else {\n    if (resp.do_retry) {\n      retry(onStoreChange);\n    } else {\n      removeRefreshTokenFromStorage();\n      setErr();\n    }\n  }\n}\n\nconst setErr = () => {\n  userInfo.state = error;\n  userInfo.data = {};\n  userInfo.token = '';\n  onChange();\n}\n\nconst tryToRefreshToken = async (refreshTokenStr) => {\n  let resp = null;\n  try {\n    resp = await refreshToken(refreshTokenStr);\n  } catch(err) {\n    if (err.response && err.response.data && err.response.data.code) {\n      let code = err.response.data.code;\n      if (code == \"code_expired\" || code == \"refresh_token_expired\" ||\n        code == \"invalid_input\" || code == 'login_failure' || code == 'unknown') {\n        return {new_refresh_token: null, do_retry: false};\n      }\n    }\n    console.log(err);\n    return {new_refresh_token: null, do_retry: true};\n  }\n\n  let new_refresh_token = resp.data.refresh_token\n  userInfo.token = resp.data.access_token;\n\n  try {\n    resp = await getCurrentUser(resp.data.access_token);\n  } catch (err) {\n    console.log(err);\n    return {new_refresh_token: null, do_retry: true};\n  }\n  \n  renewTokenBeforeExpiry();\n\n  userInfo.data = resp.data;\n  userInfo.state = available;\n\n  return {new_refresh_token: new_refresh_token, do_retry: false}\n};\n\nconst renewTokenBeforeExpiry = () => {\n  // TODO: we should look at the expires_at\n  // but for now we will refresh every half an hour\n  let hafHour = 1000 * 60 * 30;\n  setTimeout(() => {\n    fetchInfo(false);\n  }, hafHour);\n};\n\nconst retry = (onStoreChange) => {\n  setTimeout(() => {\n    fetchInfo(onStoreChange);\n  }, 1000 * 10);\n};\n\nexport default userInfo;\n","import React from \"react\";\n\nconst InputField = ({\n  label,\n  type,\n  id,\n  name,\n  value,\n  handleChange,\n  placeholder,\n  pattern,\n  required,\n  error,\n  errorText,\n  readOnly\n}) => {\n  return (\n    <div className=\"flex  flex-col\">\n      {label ? (\n        <label\n          htmlFor={id}\n          className=\"text-prmDGrey mb-2 font-Poppins lg:text-lg\"\n        >\n          {label}\n        </label>\n      ) : (\n        <label\n          htmlFor=\"email\"\n          className=\"text-prmDGrey mb-2 font-Poppins lg:text-lg invisible\"\n        >\n          *****\n        </label>\n      )}\n      {error && (\n        <p className=\"font-italic text-red-400 my-0 mb-2 text-sm\">\n          {errorText}\n        </p>\n      )}\n      <input\n        type={type}\n        id={id}\n        placeholder={placeholder}\n        name={name}\n        value={value}\n        onChange={handleChange}\n        readOnly={readOnly}\n        pattern={pattern}\n        required={required}\n        className={`${\n          readOnly ? \"cursor-not-allowed bg-gray-100\" : \"\"\n        }   \"lg:text-lg outline-none text-prmDGrey border border-1 border-prmLGrey px-3 py-1.5 mb-5 font-Poppins \"`}\n      />\n    </div>\n  );\n};\n\nexport default InputField;\n","import React from \"react\"\n\nconst MiniLoader = () => {\n  return <div className=\"loading-spinner\"></div>\n}\n\nexport default MiniLoader\n","import useSWR from \"swr\"\nimport { fetcher } from \"../utils/ApiRequests\"\n\nconst useFetch = url => {\n  const { data, error } = useSWR(url, fetcher)\n\n  return { data, loading: !error && !data, error }\n}\n\nexport default useFetch\n","class EventListener {\n    constructor() {\n        this.listeners = [];\n\n        this.addListener = (cb) => {\n            var idx = this.listeners.indexOf(cb);\n            if (idx < 0) {\n                this.listeners.push(cb);\n            }\n        };\n\n        this.removeListener = (cb) => {\n            var idx = this.listeners.indexOf(cb);\n            if (idx >= 0) {\n                this.listeners.splice(idx, 1);\n            }\n        };\n\n        this.trigger = (data) => {\n            for (let cb of this.listeners) {\n                try {\n                    cb(data);\n                } catch (e) {\n                    console.log(e);\n                }\n            }\n        };\n    }\n}\n\nexport default EventListener;\n","import qs from 'qs';\nimport { getDocs, getDoc, deleteDoc, createNew, duplicateDoc } from \"./ApiRequests\";\nimport EventListener from './EventListener'\n\nvar nextToken = null;\n\nvar docsManager = {\n  state: \"loading\",\n  parent: null,\n  search: null,\n  order: null,\n  orderBy: null,\n  docs: [],\n  path: [],\n  mode: 'mydocs',\n  event: new EventListener(),\n};\n\ndocsManager.setPath = (path) => {\n  var arr = path.split('/');\n  if (arr.length % 2 != 0) {\n    return;\n  }\n\n  docsManager.path = [];\n  docsManager.parent = null;\n\n  for (let i = 0; i < arr.length; i+= 2) {\n    var obj = {docid: arr[i], name: arr[i + 1]}\n    docsManager.path.push(obj);\n  }\n  if (docsManager.path.length > 0) {\n    docsManager.parent = docsManager.path[docsManager.path.length - 1].docid;\n  } else {\n    docsManager.parent = null;\n  }\n}\n\ndocsManager.serializePath = () => {\n  var path = '';\n  for(let item of docsManager.path) {\n    if (path != '') {\n      path += '/';\n    }\n    path += item.docid + '/' + item.name;\n  }\n  return encodeURIComponent(path);\n}\n\ndocsManager.setRoute = (route, qparam) => {\n  if (route == '/docs/mydocs') {\n    docsManager.mode = 'mydocs';\n  } else if (route == '/docs/shared') {\n    docsManager.mode = 'shared';\n  } else if (route == '/docs/search') {\n    docsManager.mode = 'search';\n  } else {\n    return;\n  }\n  docsManager.reset();\n  var qpath = qs.parse(qparam, { ignoreQueryPrefix: true }).path;\n  if (qpath) {\n    docsManager.setPath(qpath);\n  }\n  var qsearch = qs.parse(qparam, { ignoreQueryPrefix: true }).search;\n  if (qsearch) {\n    docsManager.search = qsearch;\n  }\n}\n\ndocsManager.getRoute = () => {\n  var qs = docsManager.serializePath();\n  var path = '/docs/' + docsManager.mode;\n  var arr = []\n  if (qs != '') {\n    arr.push('path=' + qs);\n  } \n  if (docsManager.mode == 'search' && docsManager.search) {\n    arr.push('search=' + encodeURIComponent(docsManager.search));\n  }\n\n  if (arr.length > 0) {\n    path += '?' + arr.join('&');\n  }\n  return path;\n}\n\ndocsManager.setSearchMode = (searchTerm) => {\n    if (docsManager.mode == 'search') {\n      docsManager.search = searchTerm;\n      return;\n    }\n    docsManager.reset();\n    docsManager.search = searchTerm;\n    docsManager.mode = 'search';\n}\n\ndocsManager.getRootName = () => {\n    if (docsManager.mode == 'shared') {\n        return 'Shared with me';\n    } else if (docsManager.mode == 'search') {\n        return 'Search';\n    } else {\n        return 'My Documents'\n    }\n}\n\ndocsManager.reset = () => {\n  docsManager.state = \"loading\";\n  docsManager.docs = [];\n  docsManager.parent = null;\n  docsManager.search = null;\n  docsManager.order = null;\n  docsManager.orderBy = null;\n  docsManager.path = [];\n  nextToken = null;\n};\n\ndocsManager.pushParent = function (parent) {\n  for (let item of docsManager.docs) {\n    if (item.docid == parent) {\n      docsManager.parent = parent;\n      docsManager.path.push(item);\n      docsManager.docs = [];\n      docsManager.state = 'loading';\n      break;\n    }\n  }\n};\n\ndocsManager.popParentTo = function (parent) {\n  docsManager.docs = [];\n  docsManager.state = 'loading';\n\n  if (!parent) {\n    docsManager.path = [];\n    docsManager.parent = null;\n    return;\n  }\n\n  while (docsManager.path.length > 0) {\n    let item = docsManager.path[docsManager.path.length - 1];\n    if (item.docid == parent) {\n        docsManager.parent = parent;\n        break;\n    }\n    docsManager.path.pop();\n  }\n};\n\ndocsManager.deleteDoc = async docid => {\n  await deleteDoc(docid);\n  await docsManager.reload();\n};\n\ndocsManager.canCreateNewDoc = () => {\n  return docsManager.mode == \"mydocs\" || docsManager.path.length > 0;\n}\n\ndocsManager.createDoc = async (parent, type, name) => {\n  await createNew({ parent: parent, type: type, name: name });\n  await docsManager.reload();\n};\n\ndocsManager.reload = async () => {\n  var qs = [];\n  if (docsManager.parent) {\n    qs.push(\"parent=\" + docsManager.parent);\n  }\n  if (docsManager.mode == 'search' && docsManager.search && !docsManager.parent) {\n    qs.push(\"search=\" + docsManager.search);\n  }\n  if (docsManager.order) {\n    qs.push(\"order=\" + docsManager.order);\n  }\n  if (docsManager.orderBy) {\n    qs.push(\"order_by=\" + docsManager.orderBy);\n  }\n  if (docsManager.mode == 'shared' && !docsManager.parent) {\n    qs.push(\"shared=true\");\n  }\n  var qstr = \"\";\n  if (qs.length > 0) {\n    qstr = \"?\" + qs.join(\"&\");\n  }\n\n  docsManager.state = \"loading\";\n  docsManager.event.trigger();\n  try {\n    var resp = await getDocs(qstr);\n    docsManager.docs = resp.data.docs;\n    docsManager.state = \"available\";\n  } catch (err) {\n    docsManager.state = \"error\";\n    console.log(err);\n  }\n  docsManager.event.trigger();\n};\n\ndocsManager.getADoc = async (docid) => {\n  var resp = await getDoc(docid);\n  return resp.data;\n}\n\ndocsManager.getFullPath = async (docid, root) => {\n  var arr = [];\n  var doc = null;\n  try {\n    doc = await docsManager.getADoc(docid);\n    arr.push({name: doc.name, docid: doc.docid});\n  } catch (err) {\n    console.log(err);\n  }\n\n  while (doc.parent != root) {\n    try {\n      doc = await docsManager.getADoc(doc.parent);\n      arr.unshift({name: doc.name, docid: doc.docid});\n    } catch(err) {\n      console.log(err);\n      break;\n    }\n  }\n  return arr;\n}\n\ndocsManager.get = async () => {\n  if (docsManager.state == \"available\") {\n    return;\n  }\n  docsManager.reload();\n};\n\ndocsManager.duplicate = async (docid) => {\n  await duplicateDoc(docid);\n}\n\ndocsManager.getChildFolders = async folderId => {\n  var qstr = \"?parent=\" + folderId;\n  var docs = [];\n  try {\n    var resp = await getDocs(qstr);\n    docs = resp.data.docs;\n  } catch (err) {\n    console.log(err);\n  }\n\n  var folders = [];\n  for (let item of docs) {\n    if (item.type == \"folder\") {\n      folders.push(item);\n    }\n  }\n  return folders;\n};\n\nexport default docsManager;\n","import { AiOutlineClose } from \"react-icons/ai\";\nimport { Dialog } from \"@material-ui/core\";\nimport Select from \"react-select\";\nimport InputField from \"../InputField/InputField\";\nimport { useState } from \"react\";\nimport { deleteShare, shareDoc } from \"../../utils/ApiRequests\";\nimport MiniLoader from \"../Loaders/MiniLoader\";\nimport { toast } from \"react-toastify\";\nimport { HiInformationCircle } from \"react-icons/hi\";\nimport useFetch from \"../../hooks/useFetch\";\nimport { IoMdMail } from \"react-icons/io\";\nimport { mutate } from \"swr\";\nimport { BiArrowBack } from \"react-icons/bi\";\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\nimport docsManager from \"../../utils/DocsManager\";\nimport { useEffect } from \"react\";\n\nconst ShareModal = ({ state, close, doc }) => {\n  const id = doc.docid;\n  const [email, setEmail] = useState(\"\");\n  const [type, setType] = useState(\"private\");\n  const [access, setAccess] = useState(\"read\");\n  const [loading, setLoading] = useState(false);\n  const [viewShares, setViewShares] = useState(false);\n  const { data, loading: fetch } = useFetch(id ? `/v1.1/docs/${id}/share` : \"\");\n  const [copied, setCopied] = useState(false);\n  const [success, setSuccess] = useState(false);\n  const [error, setError] = useState(null);\n  const options = [\n    { value: \"private\", label: \"Private\" },\n    { value: \"public\", label: \"Public\" }\n  ];\n  const accessOptions = [\n    { value: \"read\", label: \"Read\" },\n    { value: \"write\", label: \"Write\" }\n  ];\n\n  useEffect(() => {\n    setEmail(\"\");\n    setType(\"private\");\n    setAccess(\"read\");\n    setCopied(false);\n    setError(null);\n    setSuccess(false);\n  }, [close]);\n\n  // const handleKeyDown = event => {\n  //   console.log(event.key);\n  //   // if (event.key.toLowerCase() == \"esc\") {\n  //   //   close();\n  //   // }\n  // };\n\n  // useEffect(() => {\n  //   document.addEventListener(\"keydown\", handleKeyDown);\n\n  //   return () => {\n  //     document.removeEventListener(\"keydown\", handleKeyDown);\n  //   };\n  //   // eslint-disable-next-line react-hooks/exhaustive-deps\n  // }, []);\n\n  var docUrl = window.origin + \"/?docid=\" + id;\n  if (doc.type == \"folder\") {\n    docUrl =\n      window.origin +\n      \"/#/docs/shared?path=\" +\n      encodeURIComponent(id + \"/\" + doc.name);\n  }\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const privateForm = {\n      email: email,\n      type: access\n    };\n    setLoading(true);\n    setError(null);\n    shareDoc(id, type === \"private\" ? privateForm : { type: access })\n      .then(res => {\n        mutate(`/v1.1/docs/${id}/share`);\n        setViewShares(true);\n        setError(null);\n        setSuccess(true);\n      })\n      .catch(err => {\n        if (\n          err?.response?.data?.code == \"already_has_permission\" ||\n          err?.response?.data?.code == \"already_has_folder_permission\"\n        ) {\n          setError(\"User already has access\");\n        }\n\n        if (err?.response?.data?.code == \"user_not_found\") {\n          setError(\"User with the given email not found\");\n        }\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  };\n\n  return (\n    <Dialog open={state} className=\"px-5\" aria-labelledby=\"Share\">\n      <div className={`py-4 w-64 lg:w-96 bg-white`}>\n        {!viewShares && (\n          <form onSubmit={handleSubmit}>\n            <div className=\"px-3 flex justify-between items-center mb-3\">\n              <div />\n              <h4 className=\"text-center m-0 text-lg\">Share</h4>\n\n              <AiOutlineClose\n                className=\"text-xl cursor-pointer\"\n                onClick={() => {\n                  if (success === true) {\n                    docsManager.reload();\n                    close();\n                  }\n                  close();\n                }}\n              />\n            </div>\n\n            <hr />\n            <div className=\"px-5 mt-1\">\n              <Select\n                options={\n                  doc.type == \"folder\"\n                    ? [{ value: \"private\", label: \"Private\" }]\n                    : options\n                }\n                className=\"mb-3\"\n                onChange={e => setType(e.value)}\n                placeholder=\"Private\"\n                defaultValue=\"private\"\n              />\n\n              <p className=\"m-0 mb-1 font-medium\">Access Level</p>\n              <Select\n                options={accessOptions}\n                className=\"mb-3\"\n                onChange={e => setAccess(e.value)}\n                defaultValue=\"read\"\n                placeholder=\"Read\"\n              />\n\n              {type === \"public\" && (\n                <CopyToClipboard text={docUrl} onCopy={() => setCopied(true)}>\n                  <div className=\"copy-grid gap-3 items-center w-full\">\n                    <div className=\"-mt-4\">\n                      <InputField required={true} value={docUrl} readOnly />\n                      {/* <span className=\"-mb-2\">Copied</span> */}\n                    </div>\n\n                    <span className=\"text-white font-medium text-center text-sm block py-1 bg-blue-500 cursor-pointer outline-none border-none border-0 \">\n                      Copy\n                    </span>\n                  </div>\n                </CopyToClipboard>\n              )}\n              {copied && <span className=\"-mt-3 block italic\">Copied</span>}\n\n              {type === \"private\" && (\n                <>\n                  <InputField\n                    label=\"Email\"\n                    required={true}\n                    type=\"email\"\n                    placeholder=\"Email\"\n                    handleChange={e => setEmail(e.target.value)}\n                    value={email}\n                  />\n                  {error && !loading && (\n                    <span className=\"-mt-3 block italic text-red-500 text-sm\">\n                      {error}\n                    </span>\n                  )}\n                </>\n              )}\n              <div className=\"mt-3\">\n                {loading ? (\n                  <MiniLoader />\n                ) : (\n                  <div className=\"flex items-center justify-between\">\n                    <p\n                      className=\"m-0 cursor-pointer italic flex items-center space-x-1 \"\n                      onClick={() => setViewShares(true)}\n                    >\n                      <HiInformationCircle className=\"m-0 text-lg\" />\n                      <span>View Shares</span>\n                    </p>\n\n                    <button\n                      type=\"submit\"\n                      className=\"text-white font-medium lg:text-lg px-3 py-1 bg-lkhRed outline-none border-none border-0 \"\n                    >\n                      Share\n                    </button>\n                  </div>\n                )}\n              </div>\n            </div>\n          </form>\n        )}\n        {viewShares && (\n          <div>\n            <div className=\"px-5 flex justify-between items-center mb-3\">\n              <BiArrowBack\n                className=\"text-xl cursor-pointer\"\n                onClick={() => {\n                  setViewShares(false);\n                }}\n              />\n\n              <h4 className=\"text-center m-0 text-lg\">Shares</h4>\n\n              <AiOutlineClose\n                className=\"text-xl cursor-pointer\"\n                onClick={() => {\n                  if (success === true) {\n                    docsManager.reload();\n                    close();\n                  }\n                  close();\n                }}\n              />\n            </div>\n            <hr />\n\n            {fetch && <MiniLoader />}\n\n            {!data?.shares?.length && !fetch && (\n              <p className=\"text-center\">No shares yet</p>\n            )}\n\n            {!fetch &&\n              data?.shares.map((m, i) => (\n                <div className=\"share-grid mb-3 px-5 \" key={i}>\n                  <div className=\"flex items-center space-x-2\">\n                    <IoMdMail />\n                    <p className=\"truncate w-24 lg:w-44\">\n                      {m?.email || \"Public\"}\n                    </p>\n                  </div>\n\n                  <p className=\"m-0\">{m?.type}</p>\n\n                  <AiOutlineClose\n                    className=\"text-base cursor-pointer ml-auto\"\n                    onClick={() => {\n                      deleteShare(id, m?.email)\n                        .then(res => {\n                          mutate(`/v1.1/docs/${id}/share`);\n                        })\n                        .catch(err =>\n                          toast.error(err?.response?.data?.message)\n                        );\n                    }}\n                  />\n                </div>\n              ))}\n          </div>\n        )}\n      </div>\n    </Dialog>\n  );\n};\n\nexport default ShareModal;\n","import { getDoc } from \"./ApiRequests\";\n\nvar docInfo = {\n  state: 'loading',\n  docid: '',\n  data: {name: ''},\n  onChange: () => { },\n}\n\ndocInfo.reset = () => {\n  docInfo.state = 'loading';\n  docInfo.data = {name: ''}\n}\n\ndocInfo.get = async () => {\n  docInfo.state = 'loading'\n  try {\n    let resp = await getDoc(docInfo.docid);\n    docInfo.data = resp.data;\n    docInfo.state = 'available';\n  } catch(err) {\n    console.log(err);\n    docInfo.state = 'error';\n  }\n  if (docInfo.onChange) {\n    try {\n      docInfo.onChange();\n    } catch(err) {\n      console.log(err)\n    }\n  }\n}\n\nexport default docInfo;\n","import React, { useState } from 'react';\nimport { AppBar, Grid, Toolbar, IconButton, Menu, MenuItem } from \"@material-ui/core\";\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Style from './HeaderStyle';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport NestedMenuItem from \"material-ui-nested-menu-item\";\nimport CheckIcon from '@material-ui/icons/Check';\nimport canvas from '../Canvas'\nimport Dialog from '@material-ui/core/Dialog';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { BiCopy } from \"react-icons/bi\";\nimport { jsPDF } from \"jspdf\";\nimport Feedback from \"./Feedback\"\nimport { tip } from '../../tip/QuickTip'\nimport userInfo from '../../utils/UserInfo'\nimport ShareModal from \"../../components/DashboardItems/ShareModal\";\nimport docInfo from '../../utils/DocInfo';\n\nvar FileSaver = require('file-saver');\n\nconst useStyles = makeStyles(Style);\n\n/*\nvar blobToBase64 = function(blob, callback) {\n    var reader = new FileReader();\n    reader.onload = function() {\n        var dataUrl = reader.result;\n        var base64 = dataUrl.split(',')[1];\n        callback(base64);\n    };\n    reader.readAsDataURL(blob);\n};\n\nfunction download(filename, data) {\n    var element = document.createElement('a');\n    element.setAttribute('href', 'data:application/pdf;base64,' + data);\n    element.setAttribute('download', filename);\n  \n    element.style.display = 'none';\n    document.body.appendChild(element);\n  \n    element.click();\n  \n    document.body.removeChild(element);\n  }\n  */\n\n\nconst AppMenu = (props) => {\n    const classes = useStyles();\n    const [snap, setSnap] = useState(true);\n    const [grid, setGrid] = useState(canvas.showGrid);\n\n    const [value, setValue] = useState('');\n    const [open, setOpen] = useState(false);\n\n    const subOptions = [\n        { id: \"pdf\", name: 'PDF' },\n        { id: \"png\", name: 'PNG' },\n        { id: \"jpeg\", name: 'JPEG' },\n        { id: \"svg\", name: 'SVG' },\n        { id: \"lekh\", name: 'LEKH' },\n    ]\n\n    const options = [\n        /*{ id: 1, name: 'Insert diagram' }, */\n        { id: \"share\", name: 'Share board', checkable: false },\n        { id: \"export\", name: 'Export', submenu:  subOptions},\n        { id: \"grid\", name: 'Show grid', checkable: true },\n        { id: \"snap\", name: 'Snap objects', checkable: true },\n        { id: \"contact\", name: 'Contact us', checkable: false },\n        { id: \"feedback\", name: 'Feedback', checkable: false },\n        { id: \"tip\", name: 'Show drawing tip', checkable: false },\n        { id: \"help\", name: 'Help', checkable: false},\n    ];\n\n    const handleClick = (e) => {\n        setValue(e.currentTarget)\n        setOpen(true)\n    }\n\n    const getChecked = function(id) {\n        if (id == 'grid') {\n            return grid;\n        } else if (id == 'snap') {\n            return snap;\n        }\n        return false;\n    }\n\n    const shareLoggedInBoard = () => {\n        var dialog = <ShareModal state={true} close={() => props.showDialog(null)} doc={docInfo.data} />;\n        props.showDialog(dialog);\n    }\n    const shareBoard = function() {\n        if (userInfo.isLoggedIn() && docInfo.data && docInfo.data.docid) {\n            shareLoggedInBoard();\n            return;\n        }\n        const handleClose = function() {\n            props.showDialog(null);\n        };\n\n        const copyLink = ()=>{\n            document.getElementById(\"share-link\").select(); \n            document.execCommand(\"copy\");\n        };\n\n        const SearchButton = () => (\n            <IconButton onClick={copyLink}>\n              <BiCopy />\n            </IconButton>\n            )\n\n        var url = window.location;\n        var dialog = (\n        <Dialog onClose={handleClose} aria-labelledby=\"simple-dialog-title\" open={true}>\n        <DialogTitle id=\"simple-dialog-title\">Get the shareable link from below</DialogTitle>\n        <TextField id=\"share-link\" variant=\"outlined\" size=\"small\" defaultValue={url} InputProps={{\n              readOnly: true,\n              endAdornment: <SearchButton/>\n            }}/>\n        <Button onClick={handleClose}>OK</Button>\n      </Dialog>\n      )\n      props.showDialog(dialog)\n    }\n    const giveFeedback = function () {\n      const handleClose = function () {\n        props.showDialog(null)\n      }\n\n      const feedback = (\n        <Dialog onClose={handleClose} aria-labelledby=\"feedback\" open={true}>\n          <Feedback handleClose={handleClose} />\n        </Dialog>\n      )\n\n      props.showDialog(feedback)\n    }\n\n    const handleMenuClick = (id) => {\n        if (id == \"grid\") {\n            setGrid(!grid);\n            canvas.showGrid = !grid;\n            canvas.drawGrid();\n        }\n        if (id == \"snap\") {\n            setSnap(!snap);\n            window.Module.setSnap(!snap);\n        }\n        if (id == \"help\") {\n            window.open(\"https://lekh.app/help.html\", '_blank').focus();\n        }\n        \n        if (id == \"contact\") {\n            window.open(\"https://lekh.app/contact.html\", '_blank').focus();\n        }\n\n        if (id == \"share\") {\n            shareBoard();\n        }\n        if (id == \"feedback\") {\n          giveFeedback()\n        }\n\n        if (id == \"tip\") {\n            tip.show();\n        }\n\n        setOpen(false)\n    }\n\n    const exportImage = (format) => {\n        var img = null;\n        try {\n            img = canvas.exportToImage(format);\n        } catch (e) { }\n\n        if (img == null || img.data == \"data:,\") {\n            const handleClose = () => props.showDialog(null);\n            var dialog = (\n                <Dialog onClose={handleClose} aria-labelledby=\"simple-dialog-title\" open={true}>\n                    <DialogTitle id=\"simple-dialog-title\">Unable to export. Canvas is probably too large. Please contact support info@lekhapp.com</DialogTitle>\n                    <Button onClick={handleClose}>OK</Button>\n                </Dialog>\n            )\n            props.showDialog(dialog)\n            return null;\n        }\n\n        return img;\n    }\n\n    const exportPdf  = () => {\n        var img = exportImage(\"jpeg\");\n        if (img == null) {\n            return;\n        }\n        var orient = \"landscape\";\n        if (img.height > img.width) {\n            orient = \"portrait\";\n        }\n        var doc = new jsPDF({\n            orientation: orient,\n            format: [img.width, img.height]\n        })\n        doc.addImage(img.data, 'JPEG', 0, 0, img.width, img.height)\n        doc.save(\"drawing.pdf\");\n\n        // The following code uses canvas2pdf which is not working\n        // Two ways to fix:\n        // 1) Fix the canvas2Pdf and use pdfkit\n        // 2) Use jsPdf which also provide html canvas like API\n        //\n        // In either case we need to change the JSPlatform code to \n        // not use Path2D class as it is marked as experimental\n        //\n        ////Create a new PDF canvas context.\n        //var ctx = new window.canvas2pdf.PdfContext(window.blobStream());\n        //\n        ////draw your canvas like you would normally\n        ////ctx.fillStyle='yellow';\n        ////ctx.fillRect(100,100,100,100);\n        //// more canvas drawing, etc...\n        //window.Module.drawCanvasForExport(ctx, 0, 0);\n\n        ////convert your PDF to a Blob and save to file\n        //ctx.stream.on('finish', function () {\n        //    var blob = ctx.stream.toBlob('application/pdf');\n        //    FileSaver.saveAs(blob, \"drawing.pdf\");\n        //});\n        //ctx.end();\n    }\n    const exportFile = (format) => {\n        console.log(\"export \", format);\n        setOpen(false)\n\n        if (format == \"pdf\") {\n            exportPdf();\n        } else if (format == \"png\" || format == \"jpeg\") {\n            var img = exportImage(format);\n            if (img != null) {\n                FileSaver.saveAs(img.data, \"drawing.\" + format);\n            }\n        } else if (format == \"svg\") {\n            var content = window.Module.getSvg();\n            var blob = new Blob([content], {type: \"text/plain;charset=utf-8\"});\n            FileSaver.saveAs(blob, \"drawing.svg\");\n        } else if (format == \"lekh\") {\n            var content = window.Module.getLekh();\n            var blob = new Blob([content], {type: \"text/plain;charset=utf-8\"});\n            FileSaver.saveAs(blob, \"drawing.lekh\");\n        }\n    }\n\n    return (\n        <Grid container>\n            <AppBar className=\"HeaderSection\" position='static' color='transparent' style={{ background: 'transparent', boxShadow: 'none' }}>\n                <Toolbar>\n                    <IconButton className=\"HeaderMenuIcon\" color=\"inherit\" onClick={(e) => window.location.href=\"/\"}>\n                        <img\n                            src={require(\"../../assests/icons/lekhboard-small.svg\").default}\n                            className=\"w-24\"\n                            alt=\"Logo\"\n                        />\n                    </IconButton>\n                    <div style={{width: 10, height: 30}}></div>\n                    <IconButton className=\"HeaderMenuIcon\" color=\"inherit\" aria-label=\"menu\" onClick={(e) => handleClick(e)}>\n                        <MenuIcon />\n                    </IconButton>\n                    <Menu\n                        onClose={() => setOpen(false)}\n                        open={open}\n                        classes={{\n                            paper: classes.appMenu\n                        }}\n                        value={value}\n                        PaperProps={{\n                            style: {\n                                width: 200,\n                                marginTop: 40\n                            },\n                        }}>\n                        {options?.map((option, index) => {\n                            var checked = null;\n                            if (option.checkable && getChecked(option.id)) {\n                                checked = <span className={classes.checkIcon}><CheckIcon /></span>;\n                            }\n                            if (option.submenu) {\n                                return (<NestedMenuItem\n                                    style={{ left: '15px' }}\n                                    label={option.name}\n                                    parentMenuOpen={open}\n                                    className=\"subIcon\"\n                                    key={option.id}>\n                                    {\n                                    option.submenu.map((subOption, index) => (\n                                        <MenuItem key={index} onClick={()=>exportFile(subOption.id)}>{subOption.name}</MenuItem>\n                                    ))}\n                                </NestedMenuItem>);\n                            }\n                            return (\n                                <div key={option.id}>\n                                    { checked }\n                                    <MenuItem style={{ left: '15px' }} value={option.name} \n                                        onClick={() => handleMenuClick(option.id)} key={option.id}>\n                                        {option.name}\n                                    </MenuItem>\n                                </div>\n                            )\n                        })}\n                    </Menu>\n                </Toolbar>\n            </AppBar>\n        </Grid>\n    )\n}\n\nexport default AppMenu;\n","import React from 'react';\n\nconst FooterStyle = {\n\n    footer: {\n        justifyContent: 'center',\n        display: 'flex',\n      },\n      backClass:{\n        border: '1px solid',\n        backgroundColor: '#fff',\n        borderColor: '#fff',\n        borderRadius: '4px',\n        boxShadow:'0 0 0 50px transparent',\n        filter: 'drop-shadow(0 1px 2px rgba(0, 0, 0, .3))',\n        margin: '13px 10px',\n        '&:hover':{\n          cursor:'pointer'\n      }\n      },\n      countClass:{\n        border: '1px solid',\n        margin: '13px 10px',\n        width: '173px',\n        borderColor: '#fff',\n        borderRadius: '4px',\n        backgroundColor: '#fff',\n        boxShadow:'0 0 0 50px transparent',\n        filter: 'drop-shadow(0 1px 2px rgba(0, 0, 0, .3))',\n        display:'flex',\n        '&:hover':{\n          cursor:'pointer'\n      }\n      },\n      valueClass:{\n        margin: '15px 0px',\n        width:'45px',\n        textAlign: 'center',\n      },\n      iconClass:{\n        fontSize:'22px',\n        padding: '8px 8px'\n      },\n      countBtn:{\n        minWidth:'64px',\n        padding: 0,\n      }\n}\n\nexport default FooterStyle;","import canvas from './Canvas'\nimport EventListener from '../utils/EventListener'\n\nvar modes = {\n    selection: 1,\n    move: 2,\n    draw: 3,\n    smartDraw: 4,\n    text: 5,\n    erase: 6,\n    laser: 7\n}\n\nvar menus = {\n    selectionGroup: 0,\n    selection: 1,\n    move: 2,\n    laser: 3,\n    draw: 4,\n    smartDraw: 5,\n    text: 6,\n    shapes: 7,\n    erase: 8,\n    eraseAll: 9,\n    cameraInput: 10\n}\n\nvar menuState = {\n    menus: menus,\n    modes: modes,\n    popup: null,\n    selected: menus.smartDraw,\n    inputMode: modes.smartDraw,\n    selectionGroupVal: modes.selection,\n    cameraActive: false,\n    event: new EventListener()\n} \n\nmenuState.handleMenuClick = function(menu) {\n    if (menu == menus.eraseAll) {\n        window.Module.eraseAll();\n        canvas.draw();\n        return;\n    }\n    \n    if (menu == menus.selectionGroup) {\n        if (menuState.popup == menus.selectionGroup) {\n            menuState.popup = null;\n        } else {\n            menuState.popup = menus.selectionGroup;\n        }\n        menuState.selected = menus.selectionGroup;\n        menuState.inputMode = menuState.selectionGroupVal;\n    } else if (menu == menus.selection) {\n        menuState.popup = null;\n        menuState.selectionGroupVal = modes.selection;\n        menuState.selected = menus.selectionGroup;\n        menuState.inputMode = modes.selection;\n    } else if (menu == menus.move) {\n        menuState.popup = null;\n        menuState.selectionGroupVal = modes.move;\n        menuState.selected = menus.selectionGroup;\n        menuState.inputMode = modes.move;\n    } else if (menu == menus.laser) {\n        menuState.popup = null;\n        menuState.selected = menus.laser;\n        menuState.inputMode = modes.laser;\n    } else if (menu == menus.draw) {\n        if (menuState.popup == menus.draw) {\n            menuState.popup = null;\n        } else {\n            menuState.popup = menus.draw;\n        }\n        menuState.selected = menus.draw;\n        menuState.inputMode = modes.draw;\n    } else if (menu == menus.smartDraw) {\n        if (menuState.popup == menus.smartDraw) {\n            menuState.popup = null;\n        } else {\n            menuState.popup = menus.smartDraw;\n        }\n        menuState.selected = menus.smartDraw;\n        menuState.inputMode = modes.smartDraw;\n    } else if (menu == menus.text) {\n        if (menuState.popup == menus.text) {\n            menuState.popup = null;\n        } else {\n            menuState.popup = menus.text;\n        }\n        menuState.selected = menus.text;\n        menuState.inputMode = modes.text;\n    } else if (menu == menus.shapes) {\n        if (menuState.popup == menus.shapes) {\n            menuState.popup = null;\n        } else {\n            menuState.popup = menus.shapes;\n        }\n    } else if (menu == menus.erase) {\n        menuState.popup = null;\n        menuState.selected = menus.erase;\n        menuState.inputMode = modes.erase;\n    } else if (menu == menus.cameraInput) {\n        menuState.cameraActive = !menuState.cameraActive\n        menuState.popup = null;\n    }\n\n    handleMode();\n    window.setTimeout(()=> {\n        menuState.event.trigger();\n    }, 1);\n}\n\nmenuState.hasPopup = function() {\n    return menuState.popup != null;\n}\n\nmenuState.removePopup = function() {\n    menuState.popup = null;\n}\n\nmenuState.inDrawMode = function() {\n    return menuState.inputMode == modes.draw || menuState.inputMode == modes.smartDraw;\n}\n\nfunction handleMode() {\n    var mode = menuState.inputMode;\n    var tpanel = document.getElementById(\"transparentPanel\");\n\n    if (mode == modes.selection) {\n        window.Module.inputReceiver().setMode(window.Module.InputMode.SELECTION);\n        tpanel.style.cursor = 'auto';\n    } else if (mode == modes.move) {\n        window.Module.inputReceiver().setMode(window.Module.InputMode.SELECTION);\n        tpanel.style.cursor = 'all-scroll';\n    } else if (mode == modes.laser) {\n        window.Module.inputReceiver().setMode(window.Module.InputMode.POINTING);\n        tpanel.style.cursor = 'url(\"/red_circle.svg\") 10 10, auto';\n    } else if (mode == modes.draw) {\n        window.Module.inputReceiver().setMode(window.Module.InputMode.DRAWING);\n        window.Module.enableRecognition(false);\n        tpanel.style.cursor = 'url(\"/pen-solid.svg\") 0 20, auto';\n        //tpanel.style.cursor = 'auto';\n    } else if (mode == modes.smartDraw) {\n        window.Module.inputReceiver().setMode(window.Module.InputMode.DRAWING);\n        window.Module.enableRecognition(true);\n        //tpanel.style.cursor = 'url(\"/pen-solid.svg\") 0 20, auto';\n        tpanel.style.cursor = 'auto';\n    } else if (mode == modes.text) {\n        window.Module.inputReceiver().setMode(window.Module.InputMode.SELECTION);\n        tpanel.style.cursor = 'url(\"/title_black.svg\") 0 20, auto';\n    } else if (mode == modes.erase) {\n        window.Module.inputReceiver().setMode(window.Module.InputMode.ERASING);\n        tpanel.style.cursor = 'url(\"/eraser-solid.svg\"), auto';\n    }\n}\n\nexport default menuState;\n","import $ from 'jquery';\nimport canvas from './Canvas'\nimport menuState from './MenuState'\n\nvar AppInput = {\n  showContextMenu:()=>{},\n  showShapeProps: null\n};\n\nvar drawPoints = [];\nvar drawing = false;\nvar transparentPanel = null;\nvar tnode = null;\nvar ignoreNextClick = false;\n\nconst TextAlignHorizontalDefault = 0;\nconst TextAlignHorizontalCenter = 1;\nconst TextAlignHorizontalLeft = 2;\nconst TextAlignHorizontalRight = 3;\n\nfunction readOnly() {\n  return window.wsmanager && window.wsmanager.readOnly();\n}\n\nfunction updateCursorLoc(x, y) {\n  var docid = window.wsmanager.docid\n  if (!docid || menuState.inputMode != menuState.modes.laser) {\n    return;\n  }\n  window.Module.inputFilter().pan({x:x, y:y}, window.Module.InputType.OTHER);\n}\n\nfunction finishTextEditing() {\n  if (tnode != null) {\n    window.Module.finishTextEditing(tnode.val());\n    tnode.remove();\n    canvas.draw();\n    tnode = null;\n    ignoreNextClick = true;\n    return true;\n  }\n  return false;\n}\n\nfunction initShapeTextEditor() {\n  finishTextEditing()\n  ignoreNextClick = false;\n\n  var rect = window.Module.getTextEditRect();\n\n  var cx = rect.x + rect.width / 2;\n  var cy = rect.y + rect.height / 2;\n\n  var tid = Math.random() + \"t\";\n  tnode = $(\"<textarea id='\" + tid + \"'></textarea>\");\n  tnode.val(window.Module.getTextForEditing());\n  var style = window.Module.getTextEditStyle();\n  var fontSize = style.effectiveFontSize() * style.effectiveFontMultiplier();\n  var isFLoating = window.Module.isEditingFloatingText();\n\n  var tattrs = {\n    \"resize\": \"none\",\n    \"overflow\": \"hidden\",\n    \"position\": \"absolute\",\n    \"font\": style.effectivePlatformFontFamily(),\n    \"line-height\": fontSize + \"px\",\n    \"background-color\": \"transparent\",\n    \"left\": (rect.x)+ \"px\", \n    \"top\": (rect.y) + \"px\", \n    \"width\": rect.width + \"px\",\n    \"height\": rect.height + \"px\",\n    \"z-index\": \"1000\"\n  }\n\n  switch (style.effectiveTextAlignHorizontal().value) {\n    case TextAlignHorizontalDefault:\n    case TextAlignHorizontalCenter:\n      tattrs[\"text-align\"] = \"center\";\n      break;\n    case TextAlignHorizontalLeft:\n      tattrs[\"text-align\"] = \"left\";\n      break;\n    case TextAlignHorizontalRight:\n      tattrs[\"text-align\"] = \"right\";\n      break;\n    default:\n      break;\n  }\n  tnode.css(tattrs);\n  $(\"#drawContent\").append(tnode);\n  tnode.trigger(\"focus\");\n  tnode.on(\"blur\", function(e) {\n    finishTextEditing();\n  });\n  tnode.on(\"keyup\", function(e) {\n    if (e.code == \"Escape\" || e.key == \"Escape\") {\n      finishTextEditing();\n      ignoreNextClick = false;\n    }\n  });\n\n  function updateSize() {\n    if (!tnode) {\n      return;\n    }\n    var text = tnode.val();\n    var sz = window.Module.getTextEditSize(text, isFLoating);\n    if (sz.height == 0) {\n      sz.height = fontSize;\n    }\n    if (sz.width < 50) {\n      sz.width = 50;\n    }\n    sz.height += fontSize / 2;\n    tnode.css(\"top\", (cy - sz.height / 2) + \"px\");\n    tnode.css(\"height\", sz.height + \"px\");\n    if (isFLoating) {\n      var width = sz.width + 150;\n      tnode.css(\"width\", width + \"px\");\n      tnode.css(\"left\", (cx - width / 2) + \"px\");\n    }\n    //console.log(sz);\n  }\n \n  tnode.on('change keyup paste', updateSize);\n  updateSize();\n}\n\nconst drawLaserCircle = function(x, y) {\n  clearTransparentPanel();\n  var ctx = transparentPanel.getContext(\"2d\");\n  ctx.beginPath();\n  ctx.arc(x, y, 32, 0, 2 * Math.PI, false);\n  ctx.fillStyle = 'red';\n  ctx.fill();\n  ctx.lineWidth = 1;\n  ctx.strokeStyle = 'red';\n  ctx.stroke();\n}\n\nconst clearTransparentPanel = function() {\n  if (transparentPanel == null) {\n    transparentPanel = document.getElementById('transparentPanel')\n  }\n  var ctx = transparentPanel.getContext(\"2d\");\n  ctx.clearRect(0, 0, transparentPanel.width, transparentPanel.height);\n}\n\nconst drawTemp = function() {\n  clearTransparentPanel();\n  var ctx = transparentPanel.getContext(\"2d\");\n  ctx.lineJoin = \"round\";\n  ctx.lineCap = \"round\";\n\n  if (drawPoints.length > 0) {\n    window.Module.setCurrentStyleToCtx(ctx);\n    ctx.beginPath();\n    var dp = drawPoints[0];\n    ctx.moveTo(dp.x, dp.y);\n    \n    for (var i = 0; i < drawPoints.length; i++) {\n      ctx.lineTo(drawPoints[i].x, drawPoints[i].y);  \n    }\n    \n    ctx.stroke(); \n  }\n}\n\nAppInput.isEditingText = function() {\n  return tnode != null;\n}\n\nAppInput.onResize = function() {\n  transparentPanel = null;\n}\n\nAppInput.ignoreNextClick = function(val) {\n  ignoreNextClick = val;\n}\n\nAppInput.click = function(x, y) {\n  if (readOnly()) {\n    return;\n  }\n\n  finishTextEditing()\n  if (ignoreNextClick) {\n    ignoreNextClick = false;\n    return true;\n  }\n  if (menuState.inputMode == menuState.modes.move) {\n    // Ignore click for move mode\n    return;\n  }\n  if (menuState.inputMode == menuState.modes.text) {\n    // Text mode. Edit text and return\n    AppInput.dbclick(x, y);\n    return;\n  }\n  if (menuState.inputMode == menuState.modes.draw) {\n    var mpt = {x: canvas.maprx(x), y: canvas.mapry(y)};\n    window.Module.addClickCircle(mpt);\n  } else {\n    var pt = {x: x, y: y }\n    window.Module.inputFilter().tap(pt, 1);\n  }\n  canvas.draw();\n\n  if (AppInput.showShapeProps) {\n    AppInput.showShapeProps();\n  }\n}\n\nAppInput.dbclick = function(x, y) {\n    if (readOnly()) {\n       return;\n    }\n    finishTextEditing()\n    var pt = {x: x, y: y }\n    window.Module.inputFilter().tap(pt, 2);\n    canvas.draw();\n    if (window.Module.inputReceiver().needTextEditing()) {\n        initShapeTextEditor()\n    }\n}\n\nAppInput.drag = function(x, y, kind) {\n    //console.log(x + \", \" + y + \"  ==  \" + kind);\n    finishTextEditing();\n    if (readOnly()) {\n        dragMoveMode(x, y, kind);\n        return;\n    }\n    ignoreNextClick = false;\n    if (menuState.inputMode == menuState.modes.move) {\n        dragMoveMode(x, y, kind);\n    } else if (menuState.inputMode == menuState.modes.text) {\n      // Text mode\n      if (kind == 2) {\n        AppInput.dbclick(x, y);\n      }\n    } else if (menuState.inputMode == menuState.modes.laser) {\n      dragLaser(x, y, kind);\n    }  else {\n      dragNative(x, y, kind);\n    }\n}\n\nfunction dragLaser(x, y, kind) {\n  if (kind == 2) {\n    clearTransparentPanel();\n  } else {\n    drawLaserCircle(x, y);\n  }\n  updateCursorLoc(x, y);\n}\n\nfunction dragNative(x, y, kind) {\n    var it = window.Module.InputType.START;\n    if (kind == 1) {\n        it = window.Module.InputType.OTHER;\n    } else if (kind == 2) {\n        it = window.Module.InputType.END\n    }\n    var pt = {x: x, y: y }\n    var mpt = {x: canvas.maprx(x), y: canvas.mapry(y)};\n\n    if (it == window.Module.InputType.START && menuState.inDrawMode()) {\n      if (window.Module.willDrawAt(mpt)) {\n        drawing = true;\n      }\n    }\n\n    if (drawing) {\n      drawPoints.push(pt);\n      drawTemp();\n    } else {\n      window.Module.inputFilter().pan(pt, it);\n      canvas.draw();\n    }\n\n    if (it == window.Module.InputType.END && drawing) {\n      drawing = false;\n      flushTempDrawing();\n    }\n}\n\nfunction flushTempDrawing() {\n  if (drawPoints.length > 2) {\n    window.Module.inputFilter().pan(drawPoints[0], window.Module.InputType.START);\n    for (var i = 1; i < drawPoints.length - 1; i++) {\n      window.Module.inputFilter().pan(drawPoints[i], window.Module.InputType.OTHER);\n    }\n    var pt = drawPoints[drawPoints.length - 1];\n    window.Module.inputFilter().pan(pt, window.Module.InputType.END);\n  }\n  canvas.draw();\n  drawPoints = [];\n  drawTemp();\n}\n\nfunction dragMoveMode(x, y, kind) {\n    canvas.move(x, y, kind);\n    canvas.drawGrid();\n    canvas.draw();\n}\n\nAppInput.contextmenu = function(x, y) {\n  if (readOnly()) {\n    return;\n  }\n  if (menuState.inputMode == menuState.modes.selection ||\n    menuState.inputMode == menuState.modes.draw ||\n    menuState.inputMode == menuState.modes.smartDraw) {\n    AppInput.showContextMenu(true, x, y);\n  }\n}\n\nAppInput.enter = function(x, y) {\n}\n\nAppInput.move = function(x, y) {\n  updateCursorLoc(x, y)\n}\n\nAppInput.leave = function(x, y) {\n}\n\nexport default AppInput;\n","import AppInput from './AppInput'\nimport canvas from './Canvas'\nimport menuState from './MenuState';\n\nvar touchInput = {}\n\nconst panThreshold = 6;\nconst doublePanThreshold = 12;\nconst zoomThreshold = 25;\nconst doubleTapIntervalMS = 300;\n\nvar tap = {\n    active: false,\n    discarded: false,\n    touch: null,\n    timer: null\n}\n\nvar twoFingerTap = {\n    active: false,\n    discarded: false,\n    touches: [],\n    firstRemoved: false,\n    secondRemoved: false,\n    lastPos: [{x:0, y:0}, {x:0, y:0}, {x:0, y:0}, {x:0, y:0}]\n}\n\nvar pan = {\n    active: false,\n    discarded: false,\n    touch: null,\n    lastTouch: null,\n    buffer: []\n}\n\nvar doublePan = {\n    active: false,\n    discarded: false,\n    touches: [],\n    lastPos: [{x:0, y:0}, {x:0, y:0}, {x:0, y:0}, {x:0, y:0}]\n}\n\nvar zoom = {\n    active: false,\n    discarded: false,\n    touches: [],\n    lastPos: [{x:0, y:0}, {x:0, y:0}, {x:0, y:0}, {x:0, y:0}],\n    origZoom: 1.0\n}\n\nvar gestures = [tap, twoFingerTap, pan, doublePan, zoom];\nvar activeGesture = null;\n\nvar activeTouches = [];\n\nfunction initPos(gest) {\n    gest.lastPos[0].x = gest.touches[0].x;\n    gest.lastPos[0].y = gest.touches[0].y;\n\n    gest.lastPos[1].x = gest.touches[1].x;\n    gest.lastPos[1].y = gest.touches[1].y;\n\n    gest.lastPos[2].x = gest.touches[0].x;\n    gest.lastPos[2].y = gest.touches[0].y;\n\n    gest.lastPos[3].x = gest.touches[1].x;\n    gest.lastPos[3].y = gest.touches[1].y;\n}\n\nfunction hasZoomCond(gest) {\n    var d1 = dist(gest.lastPos[0], gest.lastPos[1]);\n    var d2 = dist(gest.lastPos[2], gest.lastPos[3]);\n    return Math.abs(d1 - d2) > zoomThreshold;\n}\n\nfunction hasPanCond(gest) {\n    if (dist(gest.lastPos[0], gest.lastPos[2]) > doublePanThreshold &&\n        dist(gest.lastPos[1], gest.lastPos[3]) > doublePanThreshold) {\n        var mid1 = {x: (gest.lastPos[0].x + gest.lastPos[1].x) / 2, y: (gest.lastPos[0].y + gest.lastPos[1].y) / 2}\n        var mid2 = {x: (gest.lastPos[2].x + gest.lastPos[3].x) / 2, y: (gest.lastPos[2].y + gest.lastPos[3].y) / 2}\n        return dist(mid1, mid2) > doublePanThreshold;\n    }\n    return false;\n}\n\nfunction findTouches(gest, touches) {\n    var t1 = null;\n    var t2 = null;\n\n    for (var i = 0; i < touches.length; i++) {\n        if (gest.touches.length > 0 && touches[i].id == gest.touches[0].id) {\n            t1 = touches[i];\n        }\n        if (gest.touches.length > 1 && touches[i].id == gest.touches[1].id) {\n            t2 = touches[i];\n        }\n    }\n\n    return {t1: t1, t2: t2};\n}\n\nfunction updatePos(gest, t1, t2, shift) {\n    if (shift) {\n        gest.lastPos[0].x = gest.lastPos[2].x;\n        gest.lastPos[0].y = gest.lastPos[2].y;\n\n        gest.lastPos[1].x = gest.lastPos[3].x;\n        gest.lastPos[1].y = gest.lastPos[3].y;\n    }\n    if (t1 == null) {\n        gest.lastPos[2].x = gest.lastPos[0].x;\n        gest.lastPos[2].y = gest.lastPos[0].y;\n    } else {\n        gest.lastPos[2].x = t1.x;\n        gest.lastPos[2].y = t1.y;\n    }\n    if (t2 == null) {\n        gest.lastPos[3].x = gest.lastPos[1].y;\n        gest.lastPos[3].y = gest.lastPos[1].y;\n    } else {\n        gest.lastPos[3].x = t2.x;\n        gest.lastPos[3].y = t2.y;\n    }\n}\n\nfunction mapTouches(touches) {\n    var ret = []\n    for (var i = 0; i < touches.length; i++) {\n        ret.push({\n            x: touches[i].pageX,\n            y: touches[i].pageY,\n            id: touches[i].identifier\n        });\n    }\n    return ret;\n}\n\nfunction dist(t1, t2) {\n    var dx = t1.x - t2.x;\n    var dy = t1.y - t2.y;\n    return Math.sqrt(dx*dx + dy*dy);\n}\n\ntouchInput.attachEvents = function(canvasElement) {\n    canvasElement.addEventListener('touchstart', function(ev) {\n      ev.preventDefault();\n      touchInput.start(ev.changedTouches);\n    });\n    canvasElement.addEventListener('touchmove', function(ev) {\n      ev.preventDefault();\n      touchInput.move(ev.targetTouches);\n    });\n    canvasElement.addEventListener('touchend', function(ev) {\n      ev.preventDefault();\n      touchInput.end(ev.changedTouches);\n    });\n    canvasElement.addEventListener('touchleave', function(ev) {\n      ev.preventDefault();\n      touchInput.cancel(ev.changedTouches);\n    });\n    canvasElement.addEventListener('touchcancel', function(ev) {\n      ev.preventDefault();\n      touchInput.cancel(ev.changedTouches);\n    });\n  }\n\ntouchInput.inProgress = function() {\n    return activeTouches.length > 0;\n}\n\ntouchInput.start = function(touches) {\n    if (activeGesture != null) {\n        return;\n    }\n    touches = mapTouches(touches);\n\n    for (var i = 0; i < touches.length; i++) {\n        activeTouches.push(touches[i]);\n    }\n    for (var i = 0; i < gestures.length; i++) {\n        if (!gestures[i].discarded) {\n            gestures[i].start(touches);\n            if (gestures[i].active) {\n                activeGesture = gestures[i];\n                break;\n            }\n        }\n    }\n}\n\ntouchInput.move = function(touches) {\n    touches = mapTouches(touches);\n    if (activeGesture != null) {\n        activeGesture.move(touches);\n    } else {\n        for (var i = 0; i < gestures.length; i++) {\n            if (!gestures[i].discarded) {\n                gestures[i].move(touches);\n                if (gestures[i].active) {\n                    activeGesture = gestures[i];\n                    break;\n                }\n            }\n        }\n    }\n}\n\ntouchInput.end = function(touches) {\n    touches = mapTouches(touches);\n    for (var i = 0; i < touches.length; i++) {\n        for (var j = 0; j < activeTouches.length; j++) {\n            if (touches[i].id == activeTouches[j].id) {\n                activeTouches.splice(j, 1);\n                break;\n            }\n        }\n    }\n    if (activeGesture != null) {\n        activeGesture.end(touches);\n    } else {\n        for (var i = 0; i < gestures.length; i++) {\n            if (!gestures[i].discarded) {\n                gestures[i].end(touches);\n                if (gestures[i].active) {\n                    activeGesture = gestures[i];\n                    break;\n                }\n            }\n        }\n    }\n    if (activeTouches.length == 0) {\n        touchInput.reset();\n    }\n}\n\ntouchInput.cancel = function(touches) {\n    touchInput.reset();\n}\n\ntouchInput.reset = function() {\n    for (var i = 0; i < gestures.length; i++) {\n        gestures[i].reset();\n        gestures[i].discarded = false;\n        gestures[i].active = false;\n    }\n    activeGesture = null;\n    activeTouches = [];\n}\n\ntap.start = function(touches) {\n    if (tap.touch != null) {\n        tap.discarded = true;\n        return;\n    }\n    if (touches.length > 1) {\n        tap.discarded = true;\n        return;\n    }\n    tap.touch = touches[0];\n}\n\ntap.move = function(touches) {\n    if (tap.touch == null) {\n        return;\n    }\n    if (touches.length != 1 || touches[0].id != tap.touch.id) {\n        tap.discarded = true;\n    } else {\n        if (dist(tap.touch, touches[0]) > panThreshold) {\n            tap.discarded = true;\n        }\n    }\n}\n\ntap.end = function(touches) {\n    if (tap.touch == null) {\n        return;\n    }\n    if (touches.length != 1 || touches[0].id != tap.touch.id) {\n        tap.discarded = true;\n    } else if (dist(tap.touch, touches[0]) > panThreshold) {\n        tap.discarded = true;\n    } else {\n        var x = tap.touch.x;\n        var y = tap.touch.y;\n        if (tap.timer != null) {\n            clearTimeout(tap.timer);\n            tap.timer = null;\n            AppInput.dbclick(x, y);\n        } else {\n            tap.timer = setTimeout(function() {\n                tap.timer = null;\n                AppInput.click(x, y);\n            }, doubleTapIntervalMS);\n        }\n    }\n    tap.active = false;\n}\n\ntap.reset = function() {\n    tap.touch = null;\n    tap.active = false;\n    if (activeGesture == tap) {\n        activeGesture = null;\n    }\n}\n\ntwoFingerTap.start = function(touches) {\n    if (twoFingerTap.touches.length + touches.length > 2) {\n        twoFingerTap.discarded = true;\n        return;\n    }\n\n    for (var i = 0; i < touches.length; i++) {\n        twoFingerTap.touches.push(touches[i]);\n    }\n\n    if (twoFingerTap.touches.length == 2) {\n        initPos(twoFingerTap);\n        twoFingerTap.firstRemoved = false;\n        twoFingerTap.secondRemoved = false;\n    }\n}\n\ntwoFingerTap.move = function(touches) {\n    if (twoFingerTap.touches.length != 2) {\n        return;\n    }\n\n    var ts = findTouches(twoFingerTap, touches);\n    if (ts.t1 == null && ts.t2 == null) {\n        return;\n    }\n\n    updatePos(twoFingerTap, ts.t1, ts.t2, false);\n}\n\ntwoFingerTap.end = function(touches) {\n    var ts = findTouches(twoFingerTap, touches);\n    if (ts.t1 != null) {\n        twoFingerTap.firstRemoved = true;\n    }\n    if (ts.t2 != null) {\n        twoFingerTap.secondRemoved = true;\n    }\n    if (twoFingerTap.firstRemoved && twoFingerTap.secondRemoved) {\n        if (dist(twoFingerTap.lastPos[0], twoFingerTap.lastPos[2]) < panThreshold &&\n        dist(twoFingerTap.lastPos[1], twoFingerTap.lastPos[3]) < panThreshold) {\n            var x = (twoFingerTap.lastPos[0].x + twoFingerTap.lastPos[1].x) / 2;\n            var y = (twoFingerTap.lastPos[0].y + twoFingerTap.lastPos[1].y) / 2;\n            AppInput.contextmenu(x, y);\n        }\n        twoFingerTap.reset();\n    }\n}\n\ntwoFingerTap.reset = function() {\n    twoFingerTap.touches = [];\n    twoFingerTap.active = false;\n    twoFingerTap.firstRemoved = false;\n    twoFingerTap.secondRemoved = false;\n}\n\npan.start = function(touches) {\n    if (pan.active) {\n        return;\n    }\n\n    if (pan.touch != null) {\n        pan.discarded = true;\n        return;\n    }\n    if (touches.length > 1) {\n        pan.discarded = true;\n        return;\n    }\n    pan.touch = touches[0];\n    pan.lastTouch = pan.touch;\n    pan.buffer.push(touches[0]);\n}\n\npan.move = function(touches) {\n    if (pan.touch == null || touches.length > 1 ||\n        touches[0].id != pan.touch.id) {\n        return;\n    }\n    var touch = touches[0];\n    pan.lastTouch = touch;\n\n    if (pan.active) {\n        AppInput.drag(touch.x, touch.y, 1);\n    } else if (dist(touch, pan.touch) > panThreshold) {\n        pan.active = true;\n        if (pan.buffer.length > 0 && menuState.inputMode == menuState.modes.smartDraw) {\n            // for intelligent mode, ignore the first touch point\n            pan.buffer.splice(0, 1);\n        }\n        if (pan.buffer.length > 0) {\n            AppInput.drag(pan.buffer[0].x, pan.buffer[0].y, 0);    \n        } else {\n            AppInput.drag(touch.x, touch.y, 0);\n        }\n        for (var i = 1; i < pan.buffer.length; i++) {\n            AppInput.drag(pan.buffer[i].x, pan.buffer[i].y, 1);    \n        }\n        AppInput.drag(touch.x, touch.y, 1);\n        pan.buffer = [];\n    } else {\n        pan.buffer.push(touch);\n    }\n}\n\npan.end = function(touches) {\n    pan.reset();\n}\n\npan.reset = function() {\n    if (pan.active) {\n        AppInput.drag(pan.lastTouch.x, pan.lastTouch.y, 2);\n    }\n    pan.active = false;\n    pan.touch = null;\n    pan.lastTouch = null;\n    pan.buffer = [];\n    if (activeGesture == pan) {\n        activeGesture = null;\n    }\n}\n\ndoublePan.start = function(touches) {\n    if (doublePan.active) {\n        return;\n    }\n\n    if (doublePan.touches.length + touches.length > 2) {\n        doublePan.discarded = true;\n        return;\n    }\n\n    for (var i = 0; i < touches.length; i++) {\n        doublePan.touches.push(touches[i]);\n    }\n\n    if (doublePan.touches.length == 2) {\n        initPos(doublePan);\n    }\n}\n\ndoublePan.move = function(touches) {\n    if (doublePan.touches.length != 2) {\n        return;\n    }\n\n    var ts = findTouches(doublePan, touches);\n    if (ts.t1 == null && ts.t2 == null) {\n        return;\n    }\n\n    if (doublePan.active) {\n        updatePos(doublePan, ts.t1, ts.t2, true);\n        var mid1x = (doublePan.lastPos[0].x + doublePan.lastPos[1].x) / 2;\n        var mid1y = (doublePan.lastPos[0].y + doublePan.lastPos[1].y) / 2;\n        var mid2x = (doublePan.lastPos[2].x + doublePan.lastPos[3].x) / 2;\n        var mid2y = (doublePan.lastPos[2].y + doublePan.lastPos[3].y) / 2;\n        canvas.moveDelta(mid2x - mid1x, mid2y - mid1y);\n    } else {\n        updatePos(doublePan, ts.t1, ts.t2, false);\n        if (hasPanCond(doublePan) && !hasZoomCond(doublePan)) {\n            doublePan.active = true;  \n        }\n    }\n}\n\ndoublePan.end = function(touches) {\n    doublePan.reset();\n}\n\ndoublePan.reset = function() {\n    doublePan.touches = [];\n    doublePan.active = false;\n    if (activeGesture == doublePan) {\n        activeGesture = null;\n    }\n}\n\nzoom.start = function(touches) {\n    if (zoom.active) {\n        return;\n    }\n\n    if (zoom.touches.length + touches.length > 2) {\n        zoom.discarded = true;\n        return;\n    }\n\n    for (var i = 0; i < touches.length; i++) {\n        zoom.touches.push(touches[i]);\n    }\n\n    if (zoom.touches.length == 2) {\n        initPos(zoom);\n    }\n}\n\nzoom.move = function(touches) {\n    if (zoom.touches.length != 2) {\n        return;\n    }\n\n    var ts = findTouches(zoom, touches);\n    if (ts.t1 == null && ts.t2 == null) {\n        return;\n    }\n\n    updatePos(zoom, ts.t1, ts.t2, false);\n    if (zoom.active) {\n        var d1 = dist(zoom.lastPos[0], zoom.lastPos[1]);\n        var d2 = dist(zoom.lastPos[2], zoom.lastPos[3]);\n        canvas.zoom((zoom.origZoom * d2) / d1);\n    } else {\n        if (hasZoomCond(zoom)) {\n            zoom.origZoom = window.Module.getZoom()\n            zoom.active = true;\n        }\n    }\n}\n\nzoom.end = function(touches) {\n    zoom.reset();\n}\n\nzoom.reset = function() {\n    zoom.touches = [];\n    zoom.active = false;\n    zoom.origZoom = 1.0;\n    if (activeGesture == zoom) {\n        activeGesture = null;\n    }\n}\n\nexport default touchInput;","import AppInput from './AppInput'\nimport canvas from './Canvas'\nimport touchInput from './TouchInput'\n\nvar mouseInput = { };\n\nconst doubleClickIntervalMS = 300;\nconst dragMinDist = 4;\n\nvar clickTimer = null;\nvar mdown = false;\nvar moved = false;\nvar initialX = null;\nvar initialY = null;\nvar savedZoom = 1.0;\n\nvar pointerLoc = {x: null, y: null};\n\nfunction dist(x1, y1, x2, y2) {\n    var dx = x1 - x2;\n    var dy = y1 - y2;\n    return Math.sqrt(dx*dx + dy*dy);\n}\n\nmouseInput.pointerLocation = () => {\n  return pointerLoc;\n}\n\nmouseInput.attachEvents = function(canvasElement) {\n    canvasElement.addEventListener('wheel', (e) => {\n        e.preventDefault();\n        if (e.ctrlKey) {\n          var zm = canvas.getZoom();\n          var newval  = Math.floor(zm * 100 - e.deltaY);\n          if (newval >= 5) {\n              canvas.zoomAt(e.pageX, e.pageY, newval / 100);\n          }        \n        } else {\n          canvas.moveDelta(-e.deltaX, -e.deltaY);\n        }\n    });\n      \n    canvasElement.addEventListener(\"gesturestart\", function (e) {\n        e.preventDefault();\n        if (touchInput.inProgress()) {\n          return;\n        }\n        savedZoom = window.Module.getZoom();\n    });\n      \n    canvasElement.addEventListener(\"gesturechange\", function (e) {\n        e.preventDefault();\n        if (touchInput.inProgress()) {\n          return;\n        }\n        var newval = Math.round(savedZoom * e.scale * 100) / 100;\n        canvas.zoomAt(e.pageX, e.pageY, newval);\n    });\n      \n    canvasElement.addEventListener(\"gestureend\", function (e) {\n        e.preventDefault();\n    });\n  \n    window.bean.on(canvasElement, 'click', function (e) {\n        e.preventDefault();\n        if (e.button == 2) {\n          AppInput.contextmenu(e);\n          return;\n        }\n        if (e.button != 0) {\n          return;\n        }\n        if (moved) {\n          moved = false;\n          return;\n        }\n  \n        if (clickTimer != null) {\n            clearTimeout(clickTimer);\n            clickTimer = null;\n            AppInput.dbclick(e.offsetX, e.offsetY);\n        } else {\n            clickTimer = setTimeout(function () {\n                clickTimer = null;\n                AppInput.click(e.offsetX, e.offsetY);\n            }, doubleClickIntervalMS);\n        }\n    });\n  \n    window.bean.on(canvasElement, 'mousedown', function (e) {\n        if (e.button != 0) {\n          return;\n        }\n        initialX = e.offsetX;\n        initialY = e.offsetY;\n        mdown = true;\n    });\n  \n    window.bean.on(canvasElement, 'mouseup', function (e) {\n        if (e.button == 0) {\n          mdown = false;\n          if (moved) {\n            AppInput.drag(e.offsetX, e.offsetY, 2);\n          }\n        }\n    });\n  \n    window.bean.on(canvasElement, 'mousemove', function (e) {\n        e.preventDefault();\n        // update pointer location\n        pointerLoc.x = e.offsetX;\n        pointerLoc.y = e.offsetY;\n        \n        if (mdown && e.button != 0) {\n          return;\n        }\n  \n        if (!mdown) {\n          AppInput.move(e.offsetX, e.offsetY);\n          return;\n        }\n        if (moved) {\n          AppInput.drag(e.offsetX, e.offsetY, 1);\n        } else {\n          if (dist(initialX, initialY, e.offsetX, e.offsetY) >= dragMinDist) {\n            moved = true;\n            AppInput.drag(initialX, initialY, 0);\n            AppInput.drag(e.offsetX, e.offsetY, 1);\n          }\n        }\n    });\n  \n    window.bean.on(canvasElement, 'mouseenter', function (e) {\n        AppInput.enter(e.offsetX, e.offsetY);\n    });\n  \n    window.bean.on(canvasElement, 'mouseleave', function (e) {\n        if (moved) {\n          AppInput.drag(e.offsetX, e.offsetY, 2);\n          moved = false;\n          mdown = false;\n        } else {\n            AppInput.leave(e.offsetX, e.offsetY);\n        }\n    });\n  \n    window.bean.on(canvasElement, 'contextmenu', function (e) {\n        e.preventDefault();\n        AppInput.contextmenu(e.offsetX, e.offsetY);\n    });\n}\n\nexport default mouseInput;\n","var speechCommand = { }\n\nconst cmdMap = {\n    \"start a flowchart\": [2, 20],\n    \"start flowchart\": [2, 20],\n    \"start\": [2, 20],\n    \"end\": [2, 20],\n    \"done\": [2, 20],\n    \"end the flowchart\": [2, 20],\n    \"add input\": [2, 4],\n    \"input\": [2, 4],\n    \"add decision\": [2, 1],\n    \"decision\": [2, 1],\n    \"add process\": [2, 0],\n    \"process\": [2, 0],\n}\n\nconst handleText = (text, addShape) => {\n    console.log(text);\n    var shape = cmdMap[text];\n    if (shape) {\n        addShape(shape[0], shape[1]);\n    }\n}\n\nspeechCommand.start = (addShape) => {\n    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition    \n    var recognition = new SpeechRecognition();\n    //var grammar = '#JSGF V1.0; grammar colors; public <color> = aqua | azure | beige | bisque | black | blue | brown | chocolate | coral | crimson | cyan | fuchsia | ghostwhite | gold | goldenrod | gray | green | indigo | ivory | khaki | lavender | lime | linen | magenta | maroon | moccasin | navy | olive | orange | orchid | peru | pink | plum | purple | red | salmon | sienna | silver | snow | tan | teal | thistle | tomato | turquoise | violet | white | yellow ;'\n    //var speechRecognitionList = new SpeechGrammarList();\n    //speechRecognitionList.addFromString(grammar, 1);\n    //recognition.grammars = speechRecognitionList;\n    recognition.continuous = false;\n    recognition.lang = 'en-US';\n    recognition.interimResults = false;\n    recognition.maxAlternatives = 1;\n\n    recognition.onresult = function(event) {\n        var text = event.results[0][0].transcript;\n        handleText(text, addShape);\n    }\n\n    recognition.start();\n    console.log('Ready to receive speech command.');\n}\n\nexport default speechCommand;","import canvas from './Canvas'\nimport mouseInput from './MouseInput'\nimport menuState from './MenuState'\nimport speechCommand from '../experimental/SpeechCommand';\n\nvar command = {inputModeChanged: false };\n\nfunction getShapeAddLocation() {\n    var loc = mouseInput.pointerLocation();\n    var at = null;\n    if (loc.x == null || loc.y == null || !canvas.isVisible(loc.x, loc.y, 40)) {\n        at = canvas.getMidPoint();\n    } else {\n        at = loc;\n    }\n    at = {x: canvas.maprx(at.x), y: canvas.mapry(at.y)};\n    return at;\n}\n\ncommand.del = () => {\n    window.Module.del();\n}\n\ncommand.copy = () => {\n    window.Module.copy();\n}\n\ncommand.cut = () => {\n    window.Module.cut();\n}\n\ncommand.paste = () => {\n    window.Module.paste();\n}\n\ncommand.pasteAt = (at) => {\n    window.Module.pasteAt(at);\n}\n\ncommand.selectAll = () => {\n    command.inputModeChanged = true;\n    menuState.handleMenuClick(menuState.menus.selection);\n    window.Module.selectAll();\n}\n\ncommand.addBox = (at) => {\n    if (typeof at == 'undefined') {\n        at = getShapeAddLocation();\n    }\n    window.Module.libraryStore().addObjectToCanvas(0, 2, at.x, at.y);\n}\n\ncommand.addCircle = (at) => {\n    if (typeof at == 'undefined') {\n        at = getShapeAddLocation();\n    }\n    window.Module.libraryStore().addObjectToCanvas(0, 0, at.x, at.y);\n}\n\ncommand.addUser = (at) => {\n    if (typeof at == 'undefined') {\n        at = getShapeAddLocation();\n    }\n    window.Module.libraryStore().addObjectToCanvas(5, 8, at.x, at.y);\n}\n\ncommand.addDb = (at) => {\n    if (typeof at == 'undefined') {\n        at = getShapeAddLocation();\n    }\n    window.Module.libraryStore().addObjectToCanvas(2, 6, at.x, at.y);\n}\n\ncommand.addCloud = (at) => {\n    if (typeof at == 'undefined') {\n        at = getShapeAddLocation();\n    }\n    window.Module.libraryStore().addObjectToCanvas(5, 9, at.x, at.y);\n}\n\ncommand.addNote = (at) => {\n    if (typeof at == 'undefined') {\n        at = getShapeAddLocation();\n    }\n    window.Module.libraryStore().addObjectToCanvas(5, 7, at.x, at.y);\n}\n\ncommand.escape = () => {\n    window.Module.handleEscapeKey();\n}\n\ncommand.undo = () => {\n    window.Module.inputReceiver().undo();\n}\n\ncommand.redo = () => {\n    window.Module.inputReceiver().redo();\n}\n\ncommand.moveToFront = () => {\n    window.Module.moveObjectToFront();\n}\n\ncommand.moveToBack = () => {\n    window.Module.moveObjectToBack();\n}\n\ncommand.startSpeech = () => {\n    speechCommand.start((r, c) => {\n        var at = getShapeAddLocation();\n        window.Module.libraryStore().addObjectToCanvas(r, c, at.x, at.y);\n        canvas.draw();\n    });\n}\n\nexport default command;\n","import React, { useState } from 'react';\nimport { Button } from '@material-ui/core';\nimport Style from './FooterStyle';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport RefreshIcon from '@material-ui/icons/Refresh';\nimport ReplayIcon from '@material-ui/icons/Replay';\nimport RemoveIcon from '@material-ui/icons/Remove';\nimport AddIcon from '@material-ui/icons/Add';\nimport canvas from '../Canvas'\nimport globalState from '../GlobalState'\nimport command from '../Command'\n\nconst useStyles = makeStyles(Style);\nconst Footer = () => {\n    const classes = useStyles();\n    const [count, setCount] = useState(100);\n\n    /*\n     * Count Increase\n    */\n    const handleCount = () => {\n        var curCount = count - 10;\n        curCount = Math.round(curCount / 10) * 10;\n        if (curCount < 10) {\n            curCount = 5;\n        }\n        setCount(curCount);\n        canvas.zoom(curCount / 100);\n    }\n\n    /*\n     * Count Decrease\n    */\n    const handleAddCount = () => {\n        var curCount = 0;\n        if (count < 10) {\n            curCount = 10;\n        } else {\n            curCount = count + 10;\n            curCount = Math.round(curCount / 10) * 10;\n        }\n        setCount(curCount);\n        canvas.zoom(curCount / 100);\n    }\n\n    const handleUndo = () => {\n        command.undo();\n        canvas.draw();\n    }\n\n    const handleRedo = () => {\n        command.redo();\n        canvas.draw();\n    }\n\n    globalState.setZoomHandler(function(zoom) {\n        var val = Math.round(zoom * 100);\n        setCount(val);\n    });\n\n    return (\n        <>\n        <div className=\"undo-redo-buttons\">\n            <Button className=\"resButton\"><ReplayIcon className={classes.iconClass} onClick={() => handleUndo()}/></Button>\n            <Button className=\"resButton\"><RefreshIcon className={classes.iconClass} onClick={() => handleRedo()}/> </Button>\n        </div>\n        <div className='zoom-info'>\n            <Button className={classes.countBtn}><RemoveIcon className={classes.iconClass} onClick={() => handleCount()} /></Button>\n            <div className={classes.valueClass}> {count}% </div> \n            <Button className={classes.countBtn}><AddIcon className={classes.iconClass} onClick={() => handleAddCount()} /></Button>\n        </div>\n        </>\n    );\n}\n\nexport default Footer;","const SideBarStyle = {\n    sideBar: {\n        boxShadow:'0 0 0 50px transparent',\n        background: 'white',\n        borderRadius: '10px',\n        width: '55px',\n        display: 'inline-block',\n        margin:'0 15px',\n        filter: 'drop-shadow(0 1px 2px rgba(0, 0, 0, .3))',\n    },\n    sideBarMenu: {\n        padding: '11px 12px',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        flexDirection: 'column',\n        '&:hover':{\n            cursor:'pointer'\n        }\n    },\n    menuIcons:{\n        marginBottom:10\n    },\n    menuItem:{\n        textAlign: 'center',\n        fontSize: '13px'\n    },\n    sideMenuIcons:{\n        textAlign:'center',\n        fontSize: '14px'\n    },\n    changeColor:{\n        '&:hover':{\n            cursor:'pointer'\n        }\n    },\n    spaceBwt:{\n      height: '45px',\n    },\n    spaceBwtRound:{\n        height: '47px',\n        border: '1px solid #dfe3e8',\n    },\n    expandedMenu: {\n        display: 'flex',\n        flexDirection: 'row'\n    },\n    expandedMenuItem: {\n        padding: '11px 12px',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        flexDirection: 'column',\n        '&:hover':{\n            cursor:'pointer',\n            'background-color': '#f2f2ff'\n        }\n    },\n    expandedMenuItemActive: {\n        'background-color': '#dedefc'\n    }\n}\n\nexport default SideBarStyle","import React, { useRef, useEffect } from 'react'\nimport canvas from './Canvas'\n\nconst LibCell = props => {\n  const canvasRef = useRef(null)\n  var dpr = window.devicePixelRatio || 1;\n  var width = props.size;\n  var height = props.size;\n\n  const drawCanvas = (canvasElement) => {\n    canvasElement.width = width * dpr;\n    canvasElement.height = height * dpr;\n    canvasElement.style.width = width + \"px\";\n    canvasElement.style.height = height + \"px\";\n    const context = canvasElement.getContext('2d')  \n    context.scale(dpr, dpr);\n    context.fillStyle = \"#ffffff\";\n    context.fillRect(0, 0, canvasElement.width, canvasElement.height);\n    if (props.enabled) {\n      canvas.drawCell(props.category, props.num, props.size, context);\n    }\n  }\n\n  if (canvasRef != null && canvasRef.current != null) {\n    drawCanvas(canvasRef.current)\n  }\n  \n  useEffect(() => {\n    const canvasElement = canvasRef.current;\n    drawCanvas(canvasElement);\n  }, [])\n  \n  return <canvas ref={canvasRef} {...props} width={width+\"px\"} height={height+\"px\"}/>\n}\n\nexport default LibCell","import React from 'react'\nimport { FaShapes, FaMousePointer, FaHandRock, FaEdit, FaEraser, FaPen } from 'react-icons/fa';\nimport { RiDeleteBin5Line, RiCheckboxBlankCircleFill } from \"react-icons/ri\";\nimport {AiOutlineCamera} from 'react-icons/ai'\nimport { MdTitle } from \"react-icons/md\";\nimport { GiTorch } from \"react-icons/gi\";\n\nimport LibCell from './common/LibCell'\nimport menuState from './common/MenuState'\n\nconst CircleColors = [\n    \n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"red\" id='0' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"orange\" id='1' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"teal\" id='2' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"green\" id='3' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"yellow\" id='4' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"tan\" id='5' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"brown\" id='6' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"gray\" id='7' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"pink\" id='8' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"purple\" id='9' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"black\" id='10' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"violet\" id='11' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"plum\" id='12' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"skyblue\" id='13' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"cyan\" id='14' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"blue\" id='15' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"darkcyan\" id='16' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"darkorchid\" id='17' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"gold\" id='18' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"royalblue\" id='11' />,\n]\n\nconst ShapesList = [\n    <LibCell category={0} num={0} drag=\"true\" id=\"0\" size={45}/>,\n    <LibCell category={0} num={2} drag=\"true\" id=\"1\" size={45}/>,\n    <LibCell category={0} num={3} drag=\"true\" id=\"2\" size={45}/>,\n    <LibCell category={0} num={5} drag=\"true\" id=\"3\" size={45}/>,\n    <LibCell category={0} num={6} drag=\"true\" id=\"4\" size={45}/>,\n    <LibCell category={0} num={7} drag=\"true\" id=\"5\" size={45}/>,\n    <LibCell category={0} num={8} drag=\"true\" id=\"6\" size={45}/>,\n    <LibCell category={1} num={1} drag=\"true\" id=\"7\" size={45}/>,\n    <LibCell category={1} num={2} drag=\"true\" id=\"8\" size={45}/>,\n    <LibCell category={1} num={5} drag=\"true\" id=\"9\" size={45}/>,\n    <LibCell category={1} num={6} drag=\"true\" id=\"10\" size={45}/>,\n    <LibCell category={1} num={10} drag=\"true\" id=\"11\" size={45}/>,\n    <LibCell category={1} num={20} drag=\"true\" id=\"12\" size={45}/>,\n    <LibCell category={2} num={0} drag=\"true\" id=\"13\" size={45}/>,\n    <LibCell category={2} num={4} drag=\"true\" id=\"14\" size={45}/>,\n    <LibCell category={3} num={0} drag=\"true\" id=\"15\" size={45}/>,\n    <LibCell category={3} num={4} drag=\"true\" id=\"16\" size={45}/>,\n    <LibCell category={3} num={5} drag=\"true\" id=\"17\" size={45}/>,\n    <LibCell category={3} num={6} drag=\"true\" id=\"18\" size={45}/>,\n    <LibCell category={3} num={7} drag=\"true\" id=\"19\" size={45}/>,\n    <LibCell category={3} num={8} drag=\"true\" id=\"20\" size={45}/>,\n    <LibCell category={4} num={0} drag=\"true\" id=\"21\" size={45}/>,\n    <LibCell category={4} num={1} drag=\"true\" id=\"22\" size={45}/>,\n    <LibCell category={4} num={2} drag=\"true\" id=\"23\" size={45}/>,\n]\n\nconst SideBarMenuItems = [\n    {\n        id: menuState.menus.selectionGroup,\n        icon: <FaMousePointer size=\"1.2em\" color=\"#000000b8\"/>,\n        name: 'Select',\n    },\n    {\n        id: menuState.menus.laser,\n        icon: <GiTorch size=\"1.2em\" color=\"#000000b8\"/>,\n        name: 'Laser',\n    },\n    {\n        id: menuState.menus.draw,\n        icon: <FaPen size=\"1.2em\" color=\"#000000b8\"/>,\n        name: 'Draw',\n        subMenus:CircleColors\n    },\n    {\n        id: menuState.menus.smartDraw,\n        icon: <FaEdit size=\"1.2em\" color=\"#000000b8\"/>,\n        name: 'Smart Draw',\n        subMenus:CircleColors\n    },\n    {\n        id: menuState.menus.text,\n        icon: <MdTitle size=\"1.2em\" color=\"#000000b8\"/>,\n        name: 'Text'\n    },\n    {\n        id: menuState.menus.shapes,\n        icon: <FaShapes size=\"1.2em\" color=\"#000000b8\"/>,\n        name: 'Shapes',\n        subMenus: ShapesList\n    },\n    {\n        id: menuState.menus.erase,\n        icon: <FaEraser size=\"1.2em\" color=\"#000000b8\"/>,\n        name: 'Erase',\n    },\n    {\n        id: menuState.menus.eraseAll,\n        icon: <RiDeleteBin5Line size=\"1.2em\" color=\"#000000b8\"/>,\n        name: 'Erase All',\n    },\n]\n\nexport var SideBarMenuItemsWithGestures = SideBarMenuItems.concat(\n[{\n    id: menuState.menus.cameraInput,\n    icon: <AiOutlineCamera size=\"1.2em\" color=\"#000000b8\"/>,\n    name: 'Gestures',\n}]);\n\nexport default SideBarMenuItems","var drawStyle = {\n    colorIndex: 10,\n    dashIndex: 0,\n    widthIndex: 0\n}\n\ndrawStyle.setColor = function(idx, color) {\n    drawStyle.colorIndex = idx;\n    var carr = colorNameToVal(color)\n    window.Module.setStrokeColor(carr[0], carr[1], carr[2], carr[3]);\n}\n\ndrawStyle.setDashIndex = function(idx) {\n    drawStyle.dashIndex = idx;\n    window.Module.setDashType(idx);\n}\n\ndrawStyle.setWidthIndex = function(idx) {\n    drawStyle.widthIndex = idx;\n    window.Module.inputReceiver().currentStyle().setStrokeWidth((idx + 1) * 2);\n}\n\nfunction colorNameToVal(color)\n{\n    var colors = {\"aliceblue\": [240, 248, 255, 255], \"antiquewhite\": [250, 235, 215, 255], \"aqua\": [0, 255, 255, 255], \"aquamarine\": [127, 255, 212, 255], \"azure\": [240, 255, 255, 255], \"beige\": [245, 245, 220, 255], \"bisque\": [255, 228, 196, 255], \"black\": [0, 0, 0, 255], \"blanchedalmond\": [255, 235, 205, 255], \"blue\": [0, 0, 255, 255], \"blueviolet\": [138, 43, 226, 255], \"brown\": [165, 42, 42, 255], \"burlywood\": [222, 184, 135, 255], \"cadetblue\": [95, 158, 160, 255], \"chartreuse\": [127, 255, 0, 255], \"chocolate\": [210, 105, 30, 255], \"coral\": [255, 127, 80, 255], \"cornflowerblue\": [100, 149, 237, 255], \"cornsilk\": [255, 248, 220, 255], \"crimson\": [220, 20, 60, 255], \"cyan\": [0, 255, 255, 255], \"darkblue\": [0, 0, 139, 255], \"darkcyan\": [0, 139, 139, 255], \"darkgoldenrod\": [184, 134, 11, 255], \"darkgray\": [169, 169, 169, 255], \"darkgreen\": [0, 100, 0, 255], \"darkkhaki\": [189, 183, 107, 255], \"darkmagenta\": [139, 0, 139, 255], \"darkolivegreen\": [85, 107, 47, 255], \"darkorange\": [255, 140, 0, 255], \"darkorchid\": [153, 50, 204, 255], \"darkred\": [139, 0, 0, 255], \"darksalmon\": [233, 150, 122, 255], \"darkseagreen\": [143, 188, 143, 255], \"darkslateblue\": [72, 61, 139, 255], \"darkslategray\": [47, 79, 79, 255], \"darkturquoise\": [0, 206, 209, 255], \"darkviolet\": [148, 0, 211, 255], \"deeppink\": [255, 20, 147, 255], \"deepskyblue\": [0, 191, 255, 255], \"dimgray\": [105, 105, 105, 255], \"dodgerblue\": [30, 144, 255, 255], \"firebrick\": [178, 34, 34, 255], \"floralwhite\": [255, 250, 240, 255], \"forestgreen\": [34, 139, 34, 255], \"fuchsia\": [255, 0, 255, 255], \"gainsboro\": [220, 220, 220, 255], \"ghostwhite\": [248, 248, 255, 255], \"gold\": [255, 215, 0, 255], \"goldenrod\": [218, 165, 32, 255], \"gray\": [128, 128, 128, 255], \"green\": [0, 128, 0, 255], \"greenyellow\": [173, 255, 47, 255], \"honeydew\": [240, 255, 240, 255], \"hotpink\": [255, 105, 180, 255], \"indianred \": [205, 92, 92, 255], \"indigo\": [75, 0, 130, 255], \"ivory\": [255, 255, 240, 255], \"khaki\": [240, 230, 140, 255], \"lavender\": [230, 230, 250, 255], \"lavenderblush\": [255, 240, 245, 255], \"lawngreen\": [124, 252, 0, 255], \"lemonchiffon\": [255, 250, 205, 255], \"lightblue\": [173, 216, 230, 255], \"lightcoral\": [240, 128, 128, 255], \"lightcyan\": [224, 255, 255, 255], \"lightgoldenrodyellow\": [250, 250, 210, 255], \"lightgrey\": [211, 211, 211, 255], \"lightgreen\": [144, 238, 144, 255], \"lightpink\": [255, 182, 193, 255], \"lightsalmon\": [255, 160, 122, 255], \"lightseagreen\": [32, 178, 170, 255], \"lightskyblue\": [135, 206, 250, 255], \"lightslategray\": [119, 136, 153, 255], \"lightsteelblue\": [176, 196, 222, 255], \"lightyellow\": [255, 255, 224, 255], \"lime\": [0, 255, 0, 255], \"limegreen\": [50, 205, 50, 255], \"linen\": [250, 240, 230, 255], \"magenta\": [255, 0, 255, 255], \"maroon\": [128, 0, 0, 255], \"mediumaquamarine\": [102, 205, 170, 255], \"mediumblue\": [0, 0, 205, 255], \"mediumorchid\": [186, 85, 211, 255], \"mediumpurple\": [147, 112, 216, 255], \"mediumseagreen\": [60, 179, 113, 255], \"mediumslateblue\": [123, 104, 238, 255], \"mediumspringgreen\": [0, 250, 154, 255], \"mediumturquoise\": [72, 209, 204, 255], \"mediumvioletred\": [199, 21, 133, 255], \"midnightblue\": [25, 25, 112, 255], \"mintcream\": [245, 255, 250, 255], \"mistyrose\": [255, 228, 225, 255], \"moccasin\": [255, 228, 181, 255], \"navajowhite\": [255, 222, 173, 255], \"navy\": [0, 0, 128, 255], \"oldlace\": [253, 245, 230, 255], \"olive\": [128, 128, 0, 255], \"olivedrab\": [107, 142, 35, 255], \"orange\": [255, 165, 0, 255], \"orangered\": [255, 69, 0, 255], \"orchid\": [218, 112, 214, 255], \"palegoldenrod\": [238, 232, 170, 255], \"palegreen\": [152, 251, 152, 255], \"paleturquoise\": [175, 238, 238, 255], \"palevioletred\": [216, 112, 147, 255], \"papayawhip\": [255, 239, 213, 255], \"peachpuff\": [255, 218, 185, 255], \"peru\": [205, 133, 63, 255], \"pink\": [255, 192, 203, 255], \"plum\": [221, 160, 221, 255], \"powderblue\": [176, 224, 230, 255], \"purple\": [128, 0, 128, 255], \"rebeccapurple\": [102, 51, 153, 255], \"red\": [255, 0, 0, 255], \"rosybrown\": [188, 143, 143, 255], \"royalblue\": [65, 105, 225, 255], \"saddlebrown\": [139, 69, 19, 255], \"salmon\": [250, 128, 114, 255], \"sandybrown\": [244, 164, 96, 255], \"seagreen\": [46, 139, 87, 255], \"seashell\": [255, 245, 238, 255], \"sienna\": [160, 82, 45, 255], \"silver\": [192, 192, 192, 255], \"skyblue\": [135, 206, 235, 255], \"slateblue\": [106, 90, 205, 255], \"slategray\": [112, 128, 144, 255], \"snow\": [255, 250, 250, 255], \"springgreen\": [0, 255, 127, 255], \"steelblue\": [70, 130, 180, 255], \"tan\": [210, 180, 140, 255], \"teal\": [0, 128, 128, 255], \"thistle\": [216, 191, 216, 255], \"tomato\": [255, 99, 71, 255], \"turquoise\": [64, 224, 208, 255], \"violet\": [238, 130, 238, 255], \"wheat\": [245, 222, 179, 255], \"white\": [255, 255, 255, 255], \"whitesmoke\": [245, 245, 245, 255], \"yellow\": [255, 255, 0, 255], \"yellowgreen\": [154, 205, 50, 255]};\n    if (typeof colors[color.toLowerCase()] != 'undefined')\n        return colors[color.toLowerCase()];\n    return [255, 255, 255, 255]\n}\n\nexport default drawStyle;\n","import React from 'react'\nimport { FaCheckCircle } from \"react-icons/fa\";\nimport {FaCheck} from \"react-icons/fa\";\nimport { RiCheckboxBlankCircleFill } from \"react-icons/ri\";\n\nconst ChessCircle = (props) => {\n    if (props.checked) {\n        return <div id={props.id} className=\"chess\">\n            <FaCheck strokeWidth={4}/>\n        </div>\n    }\n    return <div id={props.id} className=\"chess\"></div>\n}\n\nconst WhiteCircle = (props) => {\n    var style = {background: \"#ffffff\", border: \"1px solid #101010\"}\n    if (props.checked) {\n        return <div id={props.id} className=\"chess\" style={style}>\n            <FaCheck strokeWidth={4}/>\n        </div>\n    }\n    return <div id={props.id} className=\"chess\" style={style}></div>\n}\n\nexport const ColorNameToVal = (color) => {\n    var colors = {\"aliceblue\": [240, 248, 255, 255], \"antiquewhite\": [250, 235, 215, 255], \"aqua\": [0, 255, 255, 255], \"aquamarine\": [127, 255, 212, 255], \"azure\": [240, 255, 255, 255], \"beige\": [245, 245, 220, 255], \"bisque\": [255, 228, 196, 255], \"black\": [0, 0, 0, 255], \"blanchedalmond\": [255, 235, 205, 255], \"blue\": [0, 0, 255, 255], \"blueviolet\": [138, 43, 226, 255], \"brown\": [165, 42, 42, 255], \"burlywood\": [222, 184, 135, 255], \"cadetblue\": [95, 158, 160, 255], \"chartreuse\": [127, 255, 0, 255], \"chocolate\": [210, 105, 30, 255], \"coral\": [255, 127, 80, 255], \"cornflowerblue\": [100, 149, 237, 255], \"cornsilk\": [255, 248, 220, 255], \"crimson\": [220, 20, 60, 255], \"cyan\": [0, 255, 255, 255], \"darkblue\": [0, 0, 139, 255], \"darkcyan\": [0, 139, 139, 255], \"darkgoldenrod\": [184, 134, 11, 255], \"darkgray\": [169, 169, 169, 255], \"darkgreen\": [0, 100, 0, 255], \"darkkhaki\": [189, 183, 107, 255], \"darkmagenta\": [139, 0, 139, 255], \"darkolivegreen\": [85, 107, 47, 255], \"darkorange\": [255, 140, 0, 255], \"darkorchid\": [153, 50, 204, 255], \"darkred\": [139, 0, 0, 255], \"darksalmon\": [233, 150, 122, 255], \"darkseagreen\": [143, 188, 143, 255], \"darkslateblue\": [72, 61, 139, 255], \"darkslategray\": [47, 79, 79, 255], \"darkturquoise\": [0, 206, 209, 255], \"darkviolet\": [148, 0, 211, 255], \"deeppink\": [255, 20, 147, 255], \"deepskyblue\": [0, 191, 255, 255], \"dimgray\": [105, 105, 105, 255], \"dodgerblue\": [30, 144, 255, 255], \"firebrick\": [178, 34, 34, 255], \"floralwhite\": [255, 250, 240, 255], \"forestgreen\": [34, 139, 34, 255], \"fuchsia\": [255, 0, 255, 255], \"gainsboro\": [220, 220, 220, 255], \"ghostwhite\": [248, 248, 255, 255], \"gold\": [255, 215, 0, 255], \"goldenrod\": [218, 165, 32, 255], \"gray\": [128, 128, 128, 255], \"green\": [0, 128, 0, 255], \"greenyellow\": [173, 255, 47, 255], \"honeydew\": [240, 255, 240, 255], \"hotpink\": [255, 105, 180, 255], \"indianred \": [205, 92, 92, 255], \"indigo\": [75, 0, 130, 255], \"ivory\": [255, 255, 240, 255], \"khaki\": [240, 230, 140, 255], \"lavender\": [230, 230, 250, 255], \"lavenderblush\": [255, 240, 245, 255], \"lawngreen\": [124, 252, 0, 255], \"lemonchiffon\": [255, 250, 205, 255], \"lightblue\": [173, 216, 230, 255], \"lightcoral\": [240, 128, 128, 255], \"lightcyan\": [224, 255, 255, 255], \"lightgoldenrodyellow\": [250, 250, 210, 255], \"lightgrey\": [211, 211, 211, 255], \"lightgreen\": [144, 238, 144, 255], \"lightpink\": [255, 182, 193, 255], \"lightsalmon\": [255, 160, 122, 255], \"lightseagreen\": [32, 178, 170, 255], \"lightskyblue\": [135, 206, 250, 255], \"lightslategray\": [119, 136, 153, 255], \"lightsteelblue\": [176, 196, 222, 255], \"lightyellow\": [255, 255, 224, 255], \"lime\": [0, 255, 0, 255], \"limegreen\": [50, 205, 50, 255], \"linen\": [250, 240, 230, 255], \"magenta\": [255, 0, 255, 255], \"maroon\": [128, 0, 0, 255], \"mediumaquamarine\": [102, 205, 170, 255], \"mediumblue\": [0, 0, 205, 255], \"mediumorchid\": [186, 85, 211, 255], \"mediumpurple\": [147, 112, 216, 255], \"mediumseagreen\": [60, 179, 113, 255], \"mediumslateblue\": [123, 104, 238, 255], \"mediumspringgreen\": [0, 250, 154, 255], \"mediumturquoise\": [72, 209, 204, 255], \"mediumvioletred\": [199, 21, 133, 255], \"midnightblue\": [25, 25, 112, 255], \"mintcream\": [245, 255, 250, 255], \"mistyrose\": [255, 228, 225, 255], \"moccasin\": [255, 228, 181, 255], \"navajowhite\": [255, 222, 173, 255], \"navy\": [0, 0, 128, 255], \"oldlace\": [253, 245, 230, 255], \"olive\": [128, 128, 0, 255], \"olivedrab\": [107, 142, 35, 255], \"orange\": [255, 165, 0, 255], \"orangered\": [255, 69, 0, 255], \"orchid\": [218, 112, 214, 255], \"palegoldenrod\": [238, 232, 170, 255], \"palegreen\": [152, 251, 152, 255], \"paleturquoise\": [175, 238, 238, 255], \"palevioletred\": [216, 112, 147, 255], \"papayawhip\": [255, 239, 213, 255], \"peachpuff\": [255, 218, 185, 255], \"peru\": [205, 133, 63, 255], \"pink\": [255, 192, 203, 255], \"plum\": [221, 160, 221, 255], \"powderblue\": [176, 224, 230, 255], \"purple\": [128, 0, 128, 255], \"rebeccapurple\": [102, 51, 153, 255], \"red\": [255, 0, 0, 255], \"rosybrown\": [188, 143, 143, 255], \"royalblue\": [65, 105, 225, 255], \"saddlebrown\": [139, 69, 19, 255], \"salmon\": [250, 128, 114, 255], \"sandybrown\": [244, 164, 96, 255], \"seagreen\": [46, 139, 87, 255], \"seashell\": [255, 245, 238, 255], \"sienna\": [160, 82, 45, 255], \"silver\": [192, 192, 192, 255], \"skyblue\": [135, 206, 235, 255], \"slateblue\": [106, 90, 205, 255], \"slategray\": [112, 128, 144, 255], \"snow\": [255, 250, 250, 255], \"springgreen\": [0, 255, 127, 255], \"steelblue\": [70, 130, 180, 255], \"tan\": [210, 180, 140, 255], \"teal\": [0, 128, 128, 255], \"thistle\": [216, 191, 216, 255], \"tomato\": [255, 99, 71, 255], \"turquoise\": [64, 224, 208, 255], \"violet\": [238, 130, 238, 255], \"wheat\": [245, 222, 179, 255], \"white\": [255, 255, 255, 255], \"whitesmoke\": [245, 245, 245, 255], \"yellow\": [255, 255, 0, 255], \"yellowgreen\": [154, 205, 50, 255]};\n    if (typeof colors[color.toLowerCase()] != 'undefined')\n        return colors[color.toLowerCase()];\n    return [255, 255, 255, 255]\n}\n\nconst lineColors = [\n    <WhiteCircle size=\"2em\" color=\"white\" id='10'/>,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"black\" id='11' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"gray\" id='12' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"red\" id='13' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"orange\" id='14' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"green\" id='15' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"yellow\" id='16' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"tan\" id='17' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"brown\" id='18' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"pink\" id='19' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"purple\" id='20' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"violet\" id='21' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"plum\" id='22' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"skyblue\" id='23' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"cyan\" id='24' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"blue\" id='25' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"darkcyan\" id='26' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"darkorchid\" id='27' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"gold\" id='28' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"royalblue\" id='29' />,\n]\n\nconst extraColors = [\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"magenta\" id='50' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"olive\" id='51' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"deepskyblue\" id='52' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"chocolate\" id='53' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"azure\" id='54' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"powderblue\" id='55' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"darkgoldenrod\" id='56' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"greenyellow\" id='57' />,\n    <RiCheckboxBlankCircleFill size=\"2em\" color=\"thistle\" id='58' />,\n]\n\nvar fillColors = [\n    <ChessCircle id={0}/>\n]\n\nfillColors = fillColors.concat(lineColors);\nfillColors = fillColors.concat(extraColors);\n\nconst getSelectedIndex = (colors, curColor, type) => {\n    if (curColor.alpha == 0 && type == 'fill') {\n        return 0;\n    }\n    let idx = 0;\n    let dist = 9999999999; //some big number\n    colors.map((component, index) => {\n        if (type == 'fill' && index == 0) {\n            return;\n        }\n        var color = ColorNameToVal(component.props.color);\n        let dr = color[0] - curColor.red;\n        let dg = color[1] - curColor.green;\n        let db = color[2] - curColor.blue;\n        var tmp = Math.sqrt(dr * dr + dg * dg + db * db);\n        if (tmp < dist) {\n            dist = tmp;\n            idx = index;\n        }\n    });\n    return idx;\n}\n\nconst ColorList = (props) => {\n    let colors = [];\n    if (props.type == 'fill') {\n        colors = fillColors;\n    } else {\n        colors = lineColors;\n    }\n\n    var selectedIndex = getSelectedIndex(colors, props.curColor, props.type);\n\n    const onColorChange = (index, color) => {\n        var val = {red: 0, green:0, blue:0, alpha: 0};\n        if (props.type == 'fill' && index == 0) {\n            val = {red: 0, green:0, blue:0, alpha: 0};\n        } else {\n            var cl = ColorNameToVal(color);\n            val = {red: cl[0], green: cl[1], blue: cl[2], alpha: cl[3]};\n        }\n        props.onColorChange(val);\n    }\n\n    return colors?.map((color, index)=>{\n        var item = null;\n        if (index == selectedIndex) {\n            if (props.type == 'fill' && index == 0) {\n                item = <ChessCircle checked={true}/>\n            } else if (color.props.color == 'white') {\n                item = <WhiteCircle checked={true} size=\"2em\" color={color.props.color}/>;\n            } else {\n                item = <FaCheckCircle size=\"2em\" color={color.props.color}/>;\n            }\n        } else {\n            item = color;\n        }\n        return (\n            <span key={color.props.id} onClick={() => onColorChange(index, color.props.color)}>\n              {item}\n            </span>\n        )\n    })\n}\nexport const ColorListOld = (props) => {\n    const {colors} = props;\n    return colors?.map((color, index)=>{\n        var item = null;\n        if (index == props.selectedIndex) {\n            item = <FaCheckCircle size=\"2em\" color={color.props.color}/>;\n        } else {\n            item = color;\n        }\n        return (\n            <span onClick={() => props.onColorChange(index, color.props.color)}>\n              {item}\n            </span>\n        )\n    })\n}\n\nexport default ColorList;\n","var Config = {\n    mediaQuery: \"only screen and (max-width: 640px)\"\n}\n\nexport default Config;","import React, { useState } from 'react'\nimport Popper from '@material-ui/core/Popper';\nimport Fade from '@material-ui/core/Fade';\nimport Paper from '@material-ui/core/Paper';\nimport Style from './SideBarMenu/SideBarStyle';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { AiOutlineMinus, AiOutlineDash, AiOutlineSmallDash } from \"react-icons/ai\";\nimport { RiCheckboxBlankCircleFill } from \"react-icons/ri\";\nimport drawStyle from './DrawStyle'\nimport {ColorListOld as ColorList } from './ColorList'\nimport Config from './Config'\n\nconst useStyles = makeStyles(Style);\n\nconst StrokeStyle = (props) => {\n    const classes = useStyles();\n\n    const [colorIndex, setColorIndex] = useState(drawStyle.colorIndex)\n    const [dashIndex, setDashIndex] = useState(drawStyle.dashIndex)\n    const [widthIndex, setWidthIndex] = useState(drawStyle.widthIndex)\n\n    const widthCircles = [\n        {icon: <RiCheckboxBlankCircleFill size=\"1em\" id=\"0\" />},\n        {icon: <RiCheckboxBlankCircleFill size=\"1.2em\" id=\"1\" />},\n        {icon: <RiCheckboxBlankCircleFill size=\"1.4em\" id=\"2\" />},\n        {icon: <RiCheckboxBlankCircleFill size=\"1.6em\" id=\"3\" />},\n        {icon: <RiCheckboxBlankCircleFill size=\"1.8em\" id=\"4\" />},\n    ]\n\n    const dashLines = [\n        {icon: <AiOutlineMinus size=\"2.2em\" id=\"0\" />},\n        {icon:<AiOutlineSmallDash size=\"2em\" style={{marginBottom:'3px'}}  id=\"1\"  />},\n        {icon: <AiOutlineDash size=\"2em\" style={{marginBottom:'3px'}}   id=\"2\" />},\n        {icon: <AiOutlineDash size=\"2em\" style={{marginBottom:'3px'}}  id=\"3\" />},\n    ]\n    \n    const onColorChange = (index, color) =>{\n        setColorIndex(index)\n        drawStyle.setColor(index,color);\n    }\n\n    const onDashChange = (index, iconsId) => {\n        setDashIndex(iconsId)\n        drawStyle.setDashIndex(index);\n    }\n\n    const onWidthChange = (index, iconsId) => {\n        setWidthIndex(iconsId)\n        drawStyle.setWidthIndex(index);\n    }\n\n    const getDashLines = () => {\n                      return ( \n                          <div className={classes.spaceBwtRound}>\n                        {\n                           dashLines.map((dashLine, index) =>{\n                                return(\n                                    <span key={index} className={`${dashLine.icon.props.id == dashIndex ? \"changeBorder\" : \"\"} `} \n                                        onClick={() => onDashChange(index, dashLine.icon.props.id) }>\n                                        {dashLine.icon}\n                                    </span>\n                                )\n                            })\n                        }\n                        </div>\n                      )\n    }\n\n    const getWidthCircles = () => {\n        return ( \n            <div className={classes.spaceBwt} >\n          {\n             widthCircles.map((wcircle, index) =>{\n                  return(\n                      <span key={index} className={`${wcircle.icon.props.id == widthIndex ? \"changeBorderRound\" : \"defaultBorder\"} `} \n                        onClick={() => onWidthChange(index, wcircle.icon.props.id) }>\n                          {wcircle.icon}\n                      </span>\n                  )\n              })\n          }\n          </div>\n        )\n    }\n    var {open, anchorEl, placement, subMenuIcons} = props;\n    if (window.matchMedia(Config.mediaQuery).matches) {\n        placement = \"top\";\n    }\n\n    return (\n        <div>\n            <Popper open={open} anchorEl={anchorEl} placement={placement} transition\n            >\n                {({ TransitionProps }) => (\n                    <Fade {...TransitionProps} timeout={350}>\n                        <Paper className=\"smart_draw_paper smart_draw_res\">\n                            {getWidthCircles()}\n                            {getDashLines()}\n                            <ColorList colors={subMenuIcons} selectedIndex={colorIndex} \n                                onColorChange={onColorChange}/>\n                         </Paper>\n                    </Fade>\n                )}\n            </Popper>\n        </div>\n    )\n}\n\nexport default StrokeStyle;\n","import React from 'react'\nimport Popper from '@material-ui/core/Popper';\nimport Fade from '@material-ui/core/Fade';\nimport Paper from '@material-ui/core/Paper';\nimport Config from './Config'\nimport Style from './SideBarMenu/SideBarStyle';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { FaMousePointer, FaHandRock } from 'react-icons/fa';\nimport menuState from './MenuState'\n\nconst useStyles = makeStyles(Style);\n\nconst SelectionGroupPopup = (props) => {\n    const classes = useStyles();\n\n    var {open, anchorEl, placement} = props;\n    if (window.matchMedia(Config.mediaQuery).matches) {\n        placement = \"top\";\n    }\n\n    var chooseSelectMode = () => {\n        props.setSelectionMode(menuState.menus.selection);\n    }\n\n    var chooseMoveMode = () => {\n        props.setSelectionMode(menuState.menus.move);\n    }\n\n    var itemClass = classes.expandedMenuItem;\n    var itemClassActive = classes.expandedMenuItem + ' ' + classes.expandedMenuItemActive\n    var selectStyle = itemClass;\n    var moveStyle = itemClass;\n    if (menuState.selectionGroupVal == menuState.menus.selection) {\n        selectStyle = itemClassActive;\n    } else {\n        moveStyle = itemClassActive;\n    }\n    var menuClass = classes.expandedMenu;\n    const {menuItem} = classes;\n    return (\n        <div>\n            <Popper open={open} anchorEl={anchorEl} placement={placement} transition\n            >\n                {({ TransitionProps }) => (\n                    <Fade {...TransitionProps} timeout={350}>\n                        <Paper className=\"selection_menu_expanded_paper\">\n                            <div className={menuClass}>\n                                <div className={selectStyle} onClick={chooseSelectMode}>\n                                    <div className={menuItem + ' ' + 'sideMenuIcons'}>\n                                        <FaMousePointer size=\"1.2em\" color=\"#000000b8\"/>\n                                    </div>\n                                    <div className={menuItem +' '+ 'menuItems'}>Select</div>\n                                </div>\n                                <div className={moveStyle} onClick={chooseMoveMode}>\n                                    <div className={menuItem + ' ' + 'sideMenuIcons'}>\n                                        <FaHandRock size=\"1.2em\" color=\"#000000b8\"/>\n                                    </div>\n                                    <div className={menuItem +' '+ 'menuItems'}>Move</div>\n                                </div>\n                            </div>\n                         </Paper>\n                    </Fade>\n                )}\n            </Popper>\n        </div>\n    )\n}\n\nexport default SelectionGroupPopup;\n","var util = { };\n\n// Adding into window as this is being used by c++ code\nwindow.generateUUID = function() {\n    var d = new Date().getTime();//Timestamp\n    var d2 = (window.performance && window.performance.now && (window.performance.now()*1000)) || 0;//Time in microseconds since page-load or 0 if unsupported\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n        var r = Math.random() * 16;//random number between 0 and 16\n        if(d > 0){//Use timestamp until depleted\n            r = (d + r)%16 | 0;\n            d = Math.floor(d/16);\n        } else {//Use microseconds since page-load if supported\n            r = (d2 + r)%16 | 0;\n            d2 = Math.floor(d2/16);\n        }\n        return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);\n    });\n}\n\nutil.mouseLocation = (event) => {\n  var x = event.pageX;\n    var y = event.pageY;\n    if (x == null || y == null || typeof x == \"undefined\" || typeof y == \"undefined\") {\n        if (event.changedTouches && event.changedTouches.length > 0) {\n            var touch = event.changedTouches[0];\n            x = touch.pageX;\n            y = touch.pageY;\n        }\n    }\n    if (x == null || y == null || typeof x == \"undefined\" || typeof y == \"undefined\") {\n        return null;\n    }\n    return {x: x, y: y};\n}\n  \nexport default util;\n  ","import * as React from 'react';\n\nvar panel = {\n    dragging: false,\n    update: null,\n    children: null,\n    x: 0,\n    y: 0,\n}\n\nconst useRefState = initialValue => {\n    const [state, setState] = React.useState(initialValue)\n    const stateRef = React.useRef(state)\n    React.useEffect(\n      () => { stateRef.current = state },\n      [state]\n    )\n    return [state, stateRef, setState];\n}\n\nconst DragPanel = (props) => {\n    const [counter, counterRef, setCounter] = useRefState(0);\n\n    React.useEffect(() => {\n        panel.update = () => {\n            setCounter(counterRef.current + 1);\n        }\n        return () => {\n            panel.update = null;\n        };\n    }, []);\n\n    if (!panel.dragging) {\n        return null;\n    }\n\n    var style = {top: panel.y, left: panel.x, position: 'absolute'};\n\n    return <div className=\"dragPanel\"><div style={style}>{panel.children}</div></div>\n}\n\nexport {panel, DragPanel}","import React from 'react'\nimport {DraggableCore} from 'react-draggable';\nimport {panel} from './Panel'\nimport util from '../common/Util'\n\nvar dx = 0;\nvar dy = 0;\n\nconst LekhDraggable = (props) => {\n    const [enabled, setEnabled] = React.useState(true);\n\n    const updatePanel = () => {\n        if (panel.update) {\n            panel.update();\n        }\n    }\n\n    const onDragStart = (e) => {\n        var canvas = document.getElementById(props.id);\n        var rect = canvas.getBoundingClientRect();\n        panel.x = rect.x;\n        panel.y = rect.y;\n       \n        panel.dragging = true;\n        panel.children = React.cloneElement(props.children, {enabled: true});\n\n        var loc = util.mouseLocation(e);\n        if (loc != null) {\n            dx = rect.x - loc.x;\n            dy = rect.y - loc.y;\n        }\n\n        updatePanel();\n        setEnabled(false);\n    }\n\n    const onDrag = (e) => {\n        var loc = util.mouseLocation(e);\n        if (loc != null) {\n            panel.x = loc.x + dx;\n            panel.y = loc.y + dy;\n        }\n        updatePanel();\n    }\n\n    const onDragStop = (e) => {\n        props.onStop(e);\n        window.setTimeout(function() {\n            panel.dragging = false;\n            updatePanel();\n            setEnabled(true);\n        }, 10);\n    }\n\n    var children = React.cloneElement(props.children, {enabled: enabled});\n\n    return (\n        <DraggableCore onStart={onDragStart} onDrag={onDrag} onStop={onDragStop}>\n            {children}\n        </DraggableCore>\n      );\n}\n\nexport {LekhDraggable as default};\n","import React from 'react'\nimport Popper from '@material-ui/core/Popper';\nimport Fade from '@material-ui/core/Fade';\nimport Paper from '@material-ui/core/Paper';\nimport Config from '../common/Config'\nimport LekhDraggable from '../draggable/LekhDraggable';\nimport shapes from './Shapes'\nimport LibCell from '../common/LibCell';\nimport {\n    AiOutlineCaretDown,\n    AiOutlineCaretUp,\n  } from \"react-icons/ai\"\n\nconst MiniLib = (props) => {\n    shapes.search('');\n    const getShapeIcons = () => {\n        return shapes.getMiniGroup().shapes.map((shape, index) => {\n            return (\n                <LekhDraggable id={index} key={index} onStop={(e, data) => {props.onDragStop(e, data, shape.category, shape.num, popperRef)}}>\n                    <LibCell category={shape.category} num={shape.num} id={index} size={45}/>\n                </LekhDraggable>\n            )\n        })\n    }\n\n    var {anchorEl, placement} = props;\n    if (window.matchMedia(Config.mediaQuery).matches) {\n        placement = \"top\";\n    }\n    var popperRef = React.createRef();\n    return (\n        <div>\n            <Popper ref={popperRef} open={true} anchorEl={anchorEl} placement={placement} transition>\n                {({ TransitionProps }) => (\n                    <Fade {...TransitionProps} timeout={350}>\n                        <Paper className=\"popper_paper poper_paper_res\">\n                            {window.matchMedia(Config.mediaQuery).matches && (\n                            <div className=\"shape-count\">\n                                <AiOutlineCaretUp onClick={() => props.expand(true)}/>\n                            </div>)}\n                            {getShapeIcons()}\n                            {!window.matchMedia(Config.mediaQuery).matches && (\n                            <div className=\"shape-count\">\n                                <AiOutlineCaretDown onClick={() => props.expand(true)}/>\n                            </div>)}\n                         </Paper>\n                     </Fade>\n                )}\n            </Popper>\n        </div>\n    )\n}\n\nexport default MiniLib;\n","import React, { useState } from \"react\"\nimport { AiOutlineCaretDown, AiOutlineCaretRight } from \"react-icons/ai\"\nimport LekhDraggable from '../draggable/LekhDraggable';\nimport shapes from './Shapes'\nimport LibCell from '../common/LibCell';\n\nconst useRefState = initialValue => {\n  const [state, setState] = React.useState(initialValue)\n  const stateRef = React.useRef(state)\n  React.useEffect(\n    () => { stateRef.current = state },\n    [state]\n  )\n  return [state, stateRef, setState];\n}\n\nconst ShapesGroup = ({idx, onDragStop}) => {\n  var group = shapes.getGroup(idx);\n  const [counter, counterRef, setCounter] = useRefState(0);\n\n  if (group == null) {\n    return <div></div>;\n  }\n\n  if (group.shapes.length == 0 && group.contentUrl && group.expanded) {\n    shapes.getShapes(idx, function() {\n      setCounter(counterRef.current + 1);\n    });\n  }\n  const handleCaretClick = () => {\n    shapes.expandGroup(idx, !group.expanded)\n    setCounter(counterRef.current + 1);\n  }\n\n  const getShapeIcons = () => {  \n    return group.shapes.map((shape, index) => {\n      var canvasId = idx + '_' + index;\n      return (\n        <div className=\"libCell\">\n        <LekhDraggable id={canvasId} key={index} onStop={(e, data) => {onDragStop(e, data, shape.category, shape.num)}}>\n          <LibCell category={shape.category} num={shape.num} id={canvasId} size={40}/>\n        </LekhDraggable>\n        <span>{shape.name}</span>\n        </div>\n      )\n    })\n  }\n\n  return (\n    <div className=\"\">\n      <div onClick={handleCaretClick} className=\"shapes-group-inner\">\n        <span className=\"caret\">\n          {!group.expanded && <AiOutlineCaretRight />}\n          {group.expanded && <AiOutlineCaretDown />}\n        </span>\n        <h4 className=\"group-shapes-name\">{group.name}</h4>\n      </div>\n      {group.shapes.length == 0 && group.expanded && <span className=\"libCellLoadingSpan\">Loading..</span>}\n      {group.shapes.length > 0 && group.expanded && <div className=\"group-shapes\">{getShapeIcons()}</div>}\n    </div>\n  )\n}\n\nexport default ShapesGroup\n","import canvas from './Canvas';\nimport command from './Command'\nimport AppInput from './AppInput'\n\nvar keyboardInput = { \n    showingDialog: false\n};\n\nvar listeners = [];\nvar postListeners = [];\n\nconst isMac = navigator.userAgent.indexOf(\"OS X\") > 0;\n\nvar handlers = {\n    'a': command.selectAll,\n    'c': command.copy,\n    'x': command.cut,\n    'v': command.paste,\n    'b': command.addBox,\n    'e': command.addCircle,\n    'u': command.addUser,\n    'z': command.undo,\n    //'s': command.startSpeech,\n}\n\nkeyboardInput.addListener = function(cb) {\n    listeners.push(cb);\n}\n\nkeyboardInput.removeListener = function(cb) {\n    for (var i = 0; i < listeners.length; i++) {\n        if (listeners[i] == cb) {\n            listeners.splice(i, 1);\n            return;\n        }\n    }\n}\n\nkeyboardInput.addPostListener = function(cb) {\n    postListeners.push(cb);\n}\n\nkeyboardInput.removePostListener = function(cb) {\n    for (var i = 0; i < postListeners.length; i++) {\n        if (postListeners[i] == cb) {\n            postListeners.splice(i, 1);\n            return;\n        }\n    }\n}\n\nkeyboardInput.handleKeyDown = function(event) {\n    if (AppInput.isEditingText() || keyboardInput.showingDialog) {\n        // do not handle keyboard while showing a dialog or editing shape text\n        return;\n    }\n    if (window.wsmanager && window.wsmanager.readOnly()) {\n        return;\n    }\n\n    for (let cb of listeners) {\n        if (cb(event)) {\n            return;\n        }\n    }\n\n    let key = event.key.toLowerCase();\n    var handled = false;\n    if (key == 'backspace' || key == 'delete') {\n        command.del();\n        handled = true;\n    } else if (key == 'escape') {\n        command.escape();\n        handled = true;\n    } else {\n        var handler = handlers[key];\n        if (!event.shiftKey && !event.altKey) {\n            if (handler && ((isMac && event.metaKey) || (!isMac && event.ctrlKey))) {\n                handler();\n                handled = true;\n            }\n        }\n        if (isMac && key == 'z' && event.shiftKey && event.metaKey) {\n            command.redo();\n            handled = true;\n        }\n        if (!isMac && key == 'z' && event.shiftKey && event.ctrlKey) {\n            command.redo();\n            handled = true;\n        }\n        if (!isMac && key == 'y' && event.ctrlKey && !event.shiftKey && !event.altKey) {\n            command.redo();\n            handled = true;\n        }\n    }\n    if (handled) {\n        event.preventDefault();\n        canvas.draw();\n    }\n\n    for (let cb of postListeners) {\n        cb(event);\n    }\n}\n\nkeyboardInput.attachEvents = function(canvasElement) {\n    document.addEventListener(\"keydown\", function(event) {\n        keyboardInput.handleKeyDown(event);\n    });\n}\n\nexport default keyboardInput;\n","import React, { useState } from \"react\"\nimport Popper from '@material-ui/core/Popper';\nimport Fade from '@material-ui/core/Fade';\nimport Paper from '@material-ui/core/Paper';\nimport Config from '../common/Config'\nimport shapes from './Shapes'\nimport ShapesGroup from './ShapesGroup';\nimport Dialog from \"@material-ui/core/Dialog\"\nimport Switch from \"@material-ui/core/Switch\"\nimport keyboard from '../common/KeyboardInput'\n\nimport {\n    AiOutlineCaretDown,\n    AiOutlineCaretUp,\n    AiOutlineCaretRight,\n    AiTwotoneSetting,\n    AiOutlineClose\n} from \"react-icons/ai\"\n\nconst useRefState = initialValue => {\n    const [state, setState] = React.useState(initialValue)\n    const stateRef = React.useRef(state)\n    React.useEffect(\n        () => { stateRef.current = state },\n        [state]\n    )\n    return [state, stateRef, setState];\n}\n\nvar searchTimer = null;\n\nconst SearchBox = (props) => {\n    const [counter, counterRef, setCounter] = useRefState(0);\n    const reload = function () {\n        setCounter(counterRef.current + 1);\n    }\n    const handleSearch = (e) => {\n        var val = e.target.value;\n        if (!val) {\n            val = '';\n        }\n        shapes.searchText = val;\n        if (searchTimer == null) {\n            searchTimer = window.setTimeout(function() {\n                shapes.search(shapes.searchText);\n                reload();\n                searchTimer = null;\n                props.searchCompleted();\n            }, 500);\n        }\n        reload();\n    }\n    return <input placeholder=\"Search\"\n        id=\"shapeLibSearchBox\"\n        value={shapes.searchText}\n        onChange={handleSearch}\n    />\n}\n\nconst FullLib = (props) => {\n    const [showMoreSettings, showMoreSettingsRef, setShowMoreSttings] = useRefState(false)\n    const [counter, counterRef, setCounter] = useRefState(0);\n\n    var { anchorEl, placement } = props;\n\n    const handleKeyDown = (event) => {\n        var textBox = document.getElementById(\"shapeLibSearchBox\");\n        if (document.activeElement == textBox) {\n            return true;\n        }\n        if (showMoreSettingsRef.current) {\n            let key = event.key.toLowerCase();\n            if (key == 'escape') {\n                setShowMoreSttings(false);\n            }\n            return true;\n        }\n        return false;\n    }\n\n    React.useEffect(() => {\n        keyboard.addListener(handleKeyDown);\n        window.setTimeout(function () {\n            if (shapesGroupRef.current) {\n                shapesGroupRef.current.scrollTop = shapes.scroll;\n                shapesGroupRef.current.addEventListener('scroll', (event) => {\n                    if (shapesGroupRef.current) {\n                        shapes.scroll = shapesGroupRef.current.scrollTop;\n                    }\n                });\n            }\n        }, 5);\n        return () => {\n            keyboard.removeListener(handleKeyDown);\n        }\n    }, [])\n\n    const reload = function () {\n        setCounter(counterRef.current + 1);\n    }\n\n    if (window.matchMedia(Config.mediaQuery).matches) {\n        placement = \"top\";\n    }\n    var popperRef = React.createRef();\n    var shapesGroupRef = React.createRef();\n\n    const onDragStop = (e, data, categ, num) => {\n        props.onDragStop(e, data, categ, num, popperRef);\n    }\n\n    var icons = [];\n    for (let i = 0; i < shapes.groupCount(); i++) {\n        icons.push(<ShapesGroup idx={i} onDragStop={onDragStop} />);\n    }\n    var displaySettings = [];\n    if (showMoreSettings) {\n        displaySettings = shapes.getDisplaySettings();\n    }\n\n    return (\n        <div>\n            <Popper ref={popperRef} open={true} anchorEl={anchorEl} placement={placement} transition>\n                {({ TransitionProps }) => (\n                    <Fade {...TransitionProps} timeout={0}>\n                        <Paper className=\"popper_paper poper_paper_res\">\n                            <div className=\"shapes-settings\">\n                                <SearchBox searchCompleted={reload} />\n                                <AiTwotoneSetting\n                                    className=\"shapes-settings-icon\"\n                                    onClick={() => setShowMoreSttings(true)}\n                                />\n                                <AiOutlineClose className=\"shapes-settings-close\" onClick={() => props.expand(false)}/>\n                            </div>\n                            <div ref={shapesGroupRef} className=\"shapes-group-div\">\n                                {icons}\n                            </div>\n                            {!window.matchMedia(Config.mediaQuery).matches && (\n                                <div className=\"shape-count\">\n                                    <AiOutlineCaretUp onClick={() => props.expand(false)} />\n                                </div>\n                            )}\n                        </Paper>\n                    </Fade>\n                )}\n            </Popper>\n            {showMoreSettings && (\n                <Dialog open={showMoreSettings}>\n                    <div className=\"show-more-settings\">\n                        <div className=\"show-more-settings-title\">\n                            <h2>Manage Shapes</h2>\n\n                            <AiOutlineClose\n                                onClick={() => setShowMoreSttings(false)}\n                                className=\"show-more-close\"\n                            />\n                        </div>\n\n                        <div className=\"show-more-settings-inner\">\n                            {displaySettings.map(c => (\n                                <div>\n                                    <h4>{c.name}</h4>\n                                    <Switch color=\"primary\" checked={c.enabled} onChange={(event) => { shapes.setDisplaySetting(c.name, event.target.checked); reload(); }} />\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n                </Dialog>\n            )}\n        </div>\n    )\n}\n\nexport default FullLib;\n","import './ShapeLib.css'\nimport React from 'react'\nimport canvas from '../common/Canvas'\nimport Config from '../common/Config'\nimport util from '../common/Util'\nimport MiniLib from './MiniLib';\nimport FullLib from './FullLib';\nimport shapes from './Shapes'\n\nconst ShapeLibrary = (props) => {\n    const [expanded, setExpanded] = React.useState(shapes.expanded);\n\n    const onDragStop = (event, data, categ, num, containerRef) => {\n        var loc = util.mouseLocation(event);\n        if (loc == null) {\n            return;\n        }\n        var x = loc.x;\n        var y = loc.y;\n        \n        var popUpRect = containerRef.current.getBoundingClientRect()\n        if (y>= popUpRect.top && y<= popUpRect.bottom && x >= popUpRect.left && x <= popUpRect.right) {\n            var mid = canvas.getMidPoint();\n            x = mid.x;\n            y = mid.y;\n        }\n        x = canvas.maprx(x);\n        y = canvas.mapry(y);\n        window.Module.libraryStore().addObjectToCanvas(categ, num, x, y);\n        canvas.draw();\n    }\n\n    const onExpand = (val) => {\n        setExpanded(val);\n        shapes.expanded = val;\n    }\n\n    var {anchorEl, placement} = props;\n    if (window.matchMedia(Config.mediaQuery).matches) {\n        placement = \"top\";\n    }\n\n    if (expanded) {\n        return <FullLib anchorEl={anchorEl} placement={placement} onDragStop={onDragStop} expand={onExpand} />\n    }\n    return (\n        <MiniLib anchorEl={anchorEl} placement={placement} onDragStop={onDragStop} expand={onExpand}/>\n    )\n}\n\nexport default ShapeLibrary;\n","import React from 'react'\nimport Popper from '@material-ui/core/Popper';\nimport Fade from '@material-ui/core/Fade';\nimport Paper from '@material-ui/core/Paper';\nimport Config from './Config'\n\nconst TextModePopup = (props) => {\n    \n    var {open, anchorEl, placement} = props;\n    if (window.matchMedia(Config.mediaQuery).matches) {\n        placement = \"top\";\n    }\n    return (\n        <div>\n            <Popper open={open} anchorEl={anchorEl} placement={placement} transition>\n                {({ TransitionProps }) => (\n                    <Fade {...TransitionProps} timeout={350}>\n                        <Paper className=\"popper_paper poper_paper_res\">\n                            <span>Text can also be added by double clicking on the board</span>\n                         </Paper>\n                     </Fade>\n                )}\n            </Popper>\n        </div>\n    )\n}\n\nexport default TextModePopup;\n","var propsUtil = { \n    connectionEditMaxHeight: 100,\n    showHelpMaxHeight: 150,\n    propertyEditMaxHeight: 200,\n    styleEditMaxHeight: 300\n}\n\nconst getTopPlacement = (rect) => {\n    const getBoundingClientRect = () =>  {\n        return {\n            x: rect.x,\n            y: rect.y,\n            width:rect.width,\n            height: rect.height,\n            top: rect.y,\n            left: rect.x,\n            bottom: rect.y + rect.height,\n            right: rect.x + rect.width\n        }\n    }\n\n    var anchorEl = {\n        clientWidth: rect.width,\n        clientHeight: rect.height,\n        getBoundingClientRect,\n    }\n\n    return {anchorEl: anchorEl, placement: 'top'}\n}\n\nconst getCenterPlacenemt = (rect) => {\n    return {style: { position: 'fixed', top: '50%', left: '50%', transform: 'translate(-50%, -50%)' }}\n}\n\npropsUtil.getPlacement = (rect, maxHeight) => {\n    rect.y -= 8;\n    rect.height += 16;\n\n    var tp = document.getElementById(\"transparentPanel\");\n    if (tp == null) {\n        return getCenterPlacenemt(rect);\n    }\n    var tpRect = tp.getBoundingClientRect();\n    if (rect.y < maxHeight && tpRect.height - (rect.y + rect.width) < maxHeight) {\n        return getCenterPlacenemt(rect);\n\n    }\n    return getTopPlacement(rect);\n}\n\nexport default propsUtil;","import React from \"react\"\nimport Popper from '@material-ui/core/Popper';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener'\nimport propsUtil from \"./PropsUtil\";\n\nconst Help = (props) => {\n    if (!window.Module.inputReceiver().needToShowShapeHelp()) {\n        props.reload();\n        return null;\n    }\n\n    var editor = window.Module.startPropertyEditing();\n    if (!editor.isValid()) {\n        window.Module.inputReceiver().setNeedToShowShapeHelp(false);\n        props.reload();\n        return null;\n    }\n    var helpText = editor.getHelpText();\n    helpText = helpText.replace(\" tap \", \" click \");\n    var rect = editor.getBound();\n\n    var pos = propsUtil.getPlacement(rect, propsUtil.showHelpMaxHeight);\n\n    const handleClickAway = () => {\n        window.Module.inputReceiver().setNeedToShowShapeHelp(false);\n        props.reload();\n    }\n\n    return (\n        <ClickAwayListener onClickAway={handleClickAway}>\n            <Popper open={true} {...pos}>\n                <div className=\"shape_help_paper\">\n                    {<div dangerouslySetInnerHTML={{ __html: helpText }} />}\n                </div>\n            </Popper>\n        </ClickAwayListener>\n    );\n}\n\nexport default Help;","import React from \"react\"\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport {AiOutlineCheck, AiOutlineLeft} from \"react-icons/ai\";\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport IconButton from '@material-ui/core/IconButton';\n\nimport canvas from '../common/Canvas'\n\nconst EnumPicker = (props) => {\n    const [selectedVal, setSelectedVal] = React.useState('')\n    var properties = props.editor.getProperties();\n    var idx = props.idx;\n    var name = properties[idx].name;\n    var value = properties[idx].value;\n    var items = properties[idx].editor.enumItems;\n\n    const selectItem = (item) => {\n        props.editor.setVal(idx, item);\n        setSelectedVal(item);\n        canvas.draw();\n    }\n\n    return (\n        <div className=\"enum_picker\">\n            <div className=\"enum_picker_header\">\n                <IconButton onClick={props.done}> \n                    <AiOutlineLeft size={18}/>\n                </IconButton>\n                <div>{name}</div>\n            </div>\n            <List component=\"nav\" aria-label=\"contacts\">\n                {items.map((item, index) => {\n                    return (\n                        <ListItem key={item} button onClick={()=>selectItem(item)}>\n                            <ListItemText primary={item} />\n                            {item == value &&\n                                <ListItemSecondaryAction>\n                                    <AiOutlineCheck />\n                                </ListItemSecondaryAction>}\n                        </ListItem>)\n                })}\n            </List>\n        </div>\n    );\n}\n\nexport default EnumPicker;\n","import React from \"react\"\nimport Popper from '@material-ui/core/Popper';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener'\nimport Switch from \"@material-ui/core/Switch\"\nimport { AiOutlinePlus, AiOutlineMinus, AiOutlineRight } from \"react-icons/ai\";\nimport IconButton from '@material-ui/core/IconButton';\nimport Slider from '@material-ui/core/Slider';\nimport EnumPicker from \"./EnumPicker\"\nimport canvas from '../common/Canvas'\nimport propsUtil from \"./PropsUtil\";\n\nconst useRefState = initialValue => {\n    const [state, setState] = React.useState(initialValue)\n    const stateRef = React.useRef(state)\n    React.useEffect(\n        () => { stateRef.current = state },\n        [state]\n    )\n    return [state, stateRef, setState];\n}\n\nconst Property = (props) => {\n    const [counter, counterRef, setCounter] = useRefState(0);\n    \n    const [showingEnum, setShowingEnum] = React.useState(false);\n    const [enumPropIdx, setEnumPropIdx] = React.useState(-1);\n\n    const reload = () => {\n        setCounter(counterRef.current + 1);\n    }\n\n    if (!window.Module.inputReceiver().needPropertyEditing()) {\n        props.reload();\n        return null;\n    }\n\n    var editor = window.Module.startPropertyEditing();\n    if (!editor.isValid()) {\n        window.Module.inputReceiver().setNeedPropertyEditing(false);\n        props.reload();\n        return null;\n    }\n\n    var properties = editor.getProperties();\n    var rect = editor.getBound();\n    var pos = propsUtil.getPlacement(rect, props.propertyEditMaxHeight);\n\n    const handleClickAway = (event) => {\n        event.preventDefault();\n        window.Module.inputReceiver().setNeedPropertyEditing(false);\n        editor.finalize();\n        props.reload();\n    }\n\n    const handleEnumSelect = (idx) => {\n        setEnumPropIdx(idx);\n        setShowingEnum(true);\n    }\n\n    const changeBoolVal = (idx) => {\n        editor.setVal(idx, !properties[idx].value);\n        canvas.draw();\n        reload();\n    }\n\n    const changeNumberVal = (idx, plus) => {\n        var factor = plus? 1 : -1;\n        var prop = properties[idx];\n        if (prop.editor.type == \"IntMinMax\" || prop.editor.type == \"FloatMinMaxStep\") {\n            var step = prop.editor.step;\n            if (step <= 0) {\n                step = 1;\n            }\n            var val = prop.value + (factor * step);\n            if (val < prop.editor.minVal) {\n                val = prop.editor.minVal;\n            }\n            if (val > prop.editor.maxVal) {\n                val = prop.editor.maxVal;\n            }\n            editor.setVal(idx, val);\n        } else if (prop.editor.type == \"Default\") {\n            var val = prop.value + factor;\n            editor.setVal(idx, val);\n        }\n        canvas.draw();\n        reload();\n    }\n\n    const changeSliderVal = (idx, newVal) => {\n        var prop = properties[idx];\n        var min = prop.editor.minVal;\n        var max = prop.editor.maxVal;\n        var range = max - min;\n        if (range > 0) {\n            var propVal = (newVal * range) / 100 + min;\n            editor.setVal(idx, propVal);\n        }\n        canvas.draw();\n        reload();\n    }\n\n    const getSliderVal = (idx) => {\n        var prop = properties[idx];\n        var min = prop.editor.minVal;\n        var max = prop.editor.maxVal;\n        var val = prop.value;\n        var range = max - min;\n        if (range > 0) {\n            return (100 * (val - min)) / range ;\n        } else {\n            return 0;\n        }\n    }\n\n    var items = [];\n    if (showingEnum) {\n        items.push(<EnumPicker editor={editor} idx={enumPropIdx} done={()=>setShowingEnum(false)}></EnumPicker>);\n    } else {\n        items.push(<div key=\"header\" className=\"shape_property_header\">Properties</div>)\n        for (var i = 0; i < properties.length; i++) {\n            let prop = properties[i];\n            if (prop.editor.type != \"Hidden\") {\n                var name = (<div className=\"shape_property_col_1\">\n                    <span>{prop.name}</span>\n                </div>);\n                var val = null;\n                if (prop.valueType == \"bool\") {\n                    let idx = i;\n                    val = (<div className=\"shape_property_col_2\">\n                        <Switch checked={prop.value} color=\"primary\" onChange={()=>{changeBoolVal(idx)}}></Switch>\n                    </div>)\n\n                } else if (prop.valueType == \"int\" || \n                    (prop.valueType == \"float\" && prop.editor.type == \"FloatMinMaxStep\")) {\n                    let idx = i;\n                    val = (<div className=\"shape_property_col_2\">\n                        <IconButton aria-label=\"plus\" onClick={()=>changeNumberVal(idx, true)}>\n                            <AiOutlinePlus />\n                        </IconButton>\n                        <div className=\"shape_property_col_2_val\">{prop.value}</div>\n                        <IconButton aria-label=\"minus\">\n                            <AiOutlineMinus onClick={()=>changeNumberVal(idx, false)}/>\n                        </IconButton>\n                    </div>)\n                } else if (prop.valueType == \"string\") {\n                    if (prop.editor.type == \"EnumString\") {\n                        let idx = i;\n                        val = (<div className=\"shape_property_col_2\">\n                            <IconButton aria-label=\"choose\" onClick={() => { handleEnumSelect(idx) }}>\n                                <AiOutlineRight />\n                            </IconButton>\n                            <div className=\"shape_property_col_2_val\">{prop.value}</div>\n                        </div>)\n                    }\n                } else if (prop.valueType == \"float\" && prop.editor.type == \"FloatMinMax\") {\n                    let idx = i;\n                    var item = (<div key={idx} className=\"shape_property_row_slider\">\n                        <div className=\"shape_property_row\">\n                            {name}\n                            <div className=\"shape_property_col_separator\"></div>\n                            <div className=\"shape_property_col_2\">\n                                <span>{prop.value.toFixed(2)}</span>\n                            </div>\n                        </div>\n                        <Slider className=\"value_slider\" value={getSliderVal(idx)} onChange={(event, val)=>changeSliderVal(idx, val)}></Slider>\n                    </div>);\n                    items.push(item);\n                    name = null;\n                }\n                if (name != null) {\n                    let idx = i;\n                    items.push(\n                        <div key={idx} className=\"shape_property_row\">\n                            {name}\n                            <div className=\"shape_property_col_separator\"></div>\n                            {val}\n                        </div>\n                    )\n                }\n            }\n        }\n    }\n    return (\n        <ClickAwayListener onClickAway={handleClickAway}>\n            <Popper open={true} {...pos}>\n                <div className=\"shape_property_paper\">\n                    {items}\n                </div>\n            </Popper>\n        </ClickAwayListener>\n    );\n}\n\nexport default Property;","import React from 'react'\nimport { AiOutlinePlus, AiOutlineMinus, AiOutlineDash, AiOutlineSmallDash } from \"react-icons/ai\";\nimport IconButton from '@material-ui/core/IconButton';\nimport ColorList from '../common/ColorList';\nimport canvas from '../common/Canvas'\n\nconst dashLines = [\n    {icon: <AiOutlineMinus size=\"2.2em\" id=\"0\" />},\n    {icon:<AiOutlineSmallDash size=\"2em\" style={{marginBottom:'3px'}}  id=\"1\"  />},\n    {icon: <AiOutlineDash size=\"2em\" style={{marginBottom:'3px'}}   id=\"2\" />},\n    {icon: <AiOutlineDash size=\"2em\" style={{marginBottom:'3px'}}  id=\"3\" />},\n]\n\nconst useRefState = initialValue => {\n    const [state, setState] = React.useState(initialValue)\n    const stateRef = React.useRef(state)\n    React.useEffect(\n      () => { stateRef.current = state },\n      [state]\n    )\n    return [state, stateRef, setState];\n}\n\nconst LineStyle = (props) => {\n    const [counter, counterRef, setCounter] = useRefState(0);\n    const reload = () => {\n        setCounter(counterRef.current + 1);\n    }\n    let strokeWidth = props.editor.style().effectiveStrokeWidth();\n    let curColor = props.editor.style().effectiveStrokePaint().solidColor;\n    let dashType = props.editor.getDashType();\n\n    const onDashChange = (val) => {\n        props.editor.setDashType(val);\n        canvas.draw();\n        reload();\n    }\n\n    const onColorChange = (color) => {\n        props.editor.setLineColor(color);\n        canvas.draw();\n        reload();\n    }\n\n    const onStrokeWidthPlus = () => {\n        props.editor.setStrokeWidth(strokeWidth + 0.5);\n        canvas.draw();\n        reload();\n    }\n\n    const onStrokeWidthMinus = () => {\n        const val = strokeWidth - 0.5;\n        if (val <= 0) {\n            return;\n        }\n        props.editor.setStrokeWidth(val);\n        canvas.draw();\n        reload();\n    }\n\n    return (<div className=\"shape_style_line\">\n        <div className=\"shape_style_line_width\">\n            <IconButton aria-label=\"minus\" onClick={onStrokeWidthMinus}>\n                <AiOutlineMinus />\n            </IconButton>\n            <div className=\"shape_style_line_width_text\">{strokeWidth.toFixed(2)}</div>\n            <IconButton aria-label=\"plus\" onClick={onStrokeWidthPlus}>\n                <AiOutlinePlus />\n            </IconButton>\n        </div>\n        <div className=\"shape_style_line_dash\">\n            {dashLines.map((dashLine, index) => {\n                var cls = \"shape_style_line_dash_cell\";\n                if (index == dashType) {\n                    cls = \"shape_style_line_dash_cell changeBorder\"\n                }\n                return (\n                    <div key={index} className={cls} onClick={()=>onDashChange(index)}>\n                        {dashLine.icon}\n                    </div>\n                )\n            })}\n        </div>\n        <div className=\"shape_style_line_colors\">\n            <ColorList curColor={curColor} type='line' onColorChange={onColorChange} />\n        </div>\n    </div>)\n}\n\nexport default LineStyle;\n","import React from \"react\"\nimport ColorList from '../common/ColorList';\nimport canvas from '../common/Canvas'\n\nconst useRefState = initialValue => {\n    const [state, setState] = React.useState(initialValue)\n    const stateRef = React.useRef(state)\n    React.useEffect(\n        () => { stateRef.current = state },\n        [state]\n    )\n    return [state, stateRef, setState];\n}\n\nconst FillColor = (props) => {\n    const [counter, counterRef, setCounter] = useRefState(0);\n    const reload = () => {\n        setCounter(counterRef.current + 1);\n    }\n\n    let curColor = {red:0, green:0, blue:0, alpha: 0};\n    if (props.editor.style().effectiveFillPaint().type.value == 2) {\n        curColor = props.editor.style().effectiveFillPaint().solidColor;\n    }\n    const onColorChange = (color) => {\n        props.editor.setFillColor(color);\n        canvas.draw();\n        reload();\n    }\n\n    return (<div className=\"shape_style_line_colors\" style={{marginTop: 10}}>\n        <ColorList curColor={curColor} type='fill'\n            onColorChange={onColorChange} />\n    </div>);\n}\n\nexport default FillColor;","import React from \"react\"\nimport { AiOutlinePlus, AiOutlineMinus, AiOutlineAlignCenter, \n    AiOutlineAlignLeft, AiOutlineAlignRight, AiOutlineVerticalAlignBottom,\n    AiOutlineVerticalAlignMiddle, AiOutlineVerticalAlignTop } from \"react-icons/ai\";\nimport IconButton from '@material-ui/core/IconButton';\nimport ColorList from '../common/ColorList';\nimport canvas from '../common/Canvas'\n\nconst useRefState = initialValue => {\n    const [state, setState] = React.useState(initialValue)\n    const stateRef = React.useRef(state)\n    React.useEffect(\n        () => { stateRef.current = state },\n        [state]\n    )\n    return [state, stateRef, setState];\n}\n\nconst FontEditor = (props) => {\n    const [counter, counterRef, setCounter] = useRefState(0);\n    const reload = () => {\n        setCounter(counterRef.current + 1);\n    }\n    let curColor = props.editor.style().effectiveTextFill().solidColor;\n    let fontSz = props.editor.style().effectiveFontSize();\n    var alignV = props.editor.style().effectiveTextAlignVertical().value;\n    var alignHz = props.editor.style().effectiveTextAlignHorizontal().value;\n\n    const onColorChange = (color) => {\n        props.editor.setTextColor(color);\n        canvas.draw();\n        reload();\n    }\n\n    const onFontPlus = () => {\n        props.editor.setFontSize(fontSz + 0.5);\n        canvas.draw();\n        reload();\n    }\n\n    const onFontMinus = () => {\n        const val = fontSz - 0.5;\n        if (val <= 0) {\n            return;\n        }\n        props.editor.setFontSize(val);\n        canvas.draw();\n        reload();\n    }\n\n    const changeHzAlign = (val) => {\n        props.editor.setHorizontalAlignment({value:val});\n        canvas.draw();\n        reload();\n    }\n\n    const changeVAlign = (val) => {\n        props.editor.setVerticalAlignment({value:val});\n        canvas.draw();\n        reload();\n    }\n\n    return (<div className=\"shape_style_line\">\n        <div className=\"shape_style_line_width\">\n            <IconButton aria-label=\"plus\" onClick={onFontMinus}>\n                <AiOutlineMinus />\n            </IconButton>\n            <div className=\"shape_style_line_width_text\">{fontSz.toFixed(2)}</div>\n            <IconButton aria-label=\"minus\" onClick={onFontPlus}>\n            <AiOutlinePlus />\n            </IconButton>\n        </div>\n        <div className=\"shape_style_font_align\" style={{paddingTop:5, borderTop: \"1px solid #bebebe\"}}>\n            <div className={alignHz == 2 ? \"shape_style_font_align_left changeBorder\": \"shape_style_font_align_left\"}>\n                <AiOutlineAlignLeft onClick={()=>changeHzAlign(2)}/>\n            </div>\n            <div className={alignHz == 1 ? \"shape_style_font_align_center changeBorder\": \"shape_style_font_align_center\"}>\n                <AiOutlineAlignCenter onClick={()=>changeHzAlign(1)}/>\n            </div>\n            <div className={alignHz == 3 ? \"shape_style_font_align_right changeBorder\": \"shape_style_font_align_right\"}>\n                <AiOutlineAlignRight onClick={()=>changeHzAlign(3)}/>\n            </div>\n        </div>\n        <div className=\"shape_style_font_align\" style={{paddingTop:5, marginTop: 6, borderBottom: \"1px solid #bebebe\"}}>\n            <div className={alignV == 2 ? \"shape_style_font_align_left changeBorder\": \"shape_style_font_align_left\"}>\n                <AiOutlineVerticalAlignTop onClick={()=>changeVAlign(2)}/>\n            </div>\n            <div className={alignV == 1 ? \"shape_style_font_align_center changeBorder\": \"shape_style_font_align_center\"}>\n                <AiOutlineVerticalAlignMiddle onClick={()=>changeVAlign(1)}/>\n            </div>\n            <div className={alignV == 3 ? \"shape_style_font_align_right changeBorder\": \"shape_style_font_align_right\"}>\n                <AiOutlineVerticalAlignBottom onClick={()=>changeVAlign(3)}/>\n            </div>\n        </div>\n        <div className=\"shape_style_line_colors\">\n            <ColorList curColor={curColor} type='text' onColorChange={onColorChange} />\n        </div>\n    </div>)\n}\n\nexport default FontEditor;","import React from \"react\"\nimport Popper from '@material-ui/core/Popper';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener'\nimport LineStyle from \"./LineStyle\";\nimport FillColor from \"./FillColor\";\nimport FontEditor from \"./FontEditor\"\nimport propsUtil from \"./PropsUtil\";\n\nconst useRefState = initialValue => {\n    const [state, setState] = React.useState(initialValue)\n    const stateRef = React.useRef(state)\n    React.useEffect(\n        () => { stateRef.current = state },\n        [state]\n    )\n    return [state, stateRef, setState];\n}\n\nconst StyleEditor = (props) => {\n    const [counter, counterRef, setCounter] = useRefState(0);\n    const [selectedTab, setSelectedTab] = React.useState(0);\n    if (!window.Module.inputReceiver().needStyleEditing()) {\n        props.reload();\n        return null;\n    }\n\n    const reload = () => {\n        setCounter(counterRef.current + 1);\n    }\n\n    var editor = window.Module.startStyleEditing();\n\n    var rect = editor.getObjectBound();\n    var pos = propsUtil.getPlacement(rect, propsUtil.styleEditMaxHeight);\n\n    var tabs = [\"LINE\", \"FILL\", \"TEXT\"];\n    const handleClickAway = () => {\n        window.Module.inputReceiver().setNeedStyleEditing(false);\n        props.reload();\n    }\n\n    return <ClickAwayListener onClickAway={handleClickAway}>\n        <Popper open={true} {...pos}>\n            <div className=\"shape_style_paper\">\n                <div className=\"shape_style_tabs\">\n                    {tabs.map((tab, index)=> {\n                        if (selectedTab == index) {\n                            return <div key={index} className=\"shape_style_tab shape_style_tab_active\"><span onClick={()=>setSelectedTab(index)} className=\"shape_style_tab_span_active\">{tab}</span></div>\n                        } else {\n                            return <div key={index} className=\"shape_style_tab\"><span className=\"shape_style_tab_span\" onClick={()=>setSelectedTab(index)}>{tab}</span></div>        \n                        }\n                    })}\n                </div>\n                {selectedTab == 0 && <LineStyle editor={editor}/>}\n                {selectedTab == 1 && <FillColor editor={editor}/>}\n                {selectedTab == 2 && <FontEditor editor={editor}/>}\n            </div>\n        </Popper>\n    </ClickAwayListener>\n}\n\nexport default StyleEditor;","import React, { useRef, useEffect } from 'react'\n\nconst ArrowCell = props => {\n  const canvasRef = useRef(null)\n  var dpr = window.devicePixelRatio || 1;\n  var width = props.width;\n  var height = props.height;\n\n  const drawCanvas = (canvasElement) => {\n    canvasElement.width = width * dpr;\n    canvasElement.height = height * dpr;\n    canvasElement.style.width = width + \"px\";\n    canvasElement.style.height = height + \"px\";\n    const context = canvasElement.getContext('2d')  \n    context.scale(dpr, dpr);\n    context.fillStyle = \"#ffffff00\";\n    context.fillRect(0, 0, canvasElement.width, canvasElement.height);\n    window.Module.drawArrowCell(props.side, props.type, width, height, context);\n  }\n\n  if (canvasRef != null && canvasRef.current != null) {\n    drawCanvas(canvasRef.current)\n  }\n  \n  useEffect(() => {\n    const canvasElement = canvasRef.current;\n    drawCanvas(canvasElement);\n  }, [])\n  \n  return <canvas ref={canvasRef} {...props} width={width+\"px\"} height={height+\"px\"}/>\n}\n\nexport default ArrowCell","import React from \"react\"\nimport Popper from '@material-ui/core/Popper';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener'\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ArrowCell from \"./ArrowCell\";\nimport canvas from '../common/Canvas'\nimport propsUtil from \"./PropsUtil\";\n\nconst useRefState = initialValue => {\n    const [state, setState] = React.useState(initialValue)\n    const stateRef = React.useRef(state)\n    React.useEffect(\n        () => { stateRef.current = state },\n        [state]\n    )\n    return [state, stateRef, setState];\n}\n\nconst ConnectionEditor = (props) => {\n    const [counter, counterRef, setCounter] = useRefState(0);\n    \n    if (!window.Module.inputReceiver().needConnectionEditing()) {\n        props.reload();\n        return null;\n    }\n\n    const reload = () => {\n        setCounter(counterRef.current + 1);\n    }\n\n    var editor = window.Module.startConnectionEditing();\n\n    var rect = editor.getObjectBound();\n    var pos = propsUtil.getPlacement(rect, propsUtil.connectionEditMaxHeight);\n\n    const handleClickAway = (event) => {\n        var paper = document.getElementById(\"connection_edit_paper\");\n        if (paper == null) {\n            return;\n        }\n        var rect = paper.getBoundingClientRect();\n        if (event.clientX >= rect.left && event.clientX <= rect.right &&\n            event.clientY >= rect.top && event.clientY <= rect.bottom) {\n            return;\n        }\n        window.Module.inputReceiver().setNeedConnectionEditing(false);\n        props.reload();\n    }\n\n    const onChange = (side, event) => {\n        event.preventDefault();\n        if (side == 0) {\n            editor.setStartArrow(event.target.value);\n        } else {\n            editor.setEndArrow(event.target.value);\n        }\n        reload();\n        canvas.draw();\n    }\n\n    var arrowCount = editor.arrowCount();\n    var start = editor.startArrowType();\n    var end = editor.endArrowType();\n\n    var arrowsLeft = []\n    var arrowsRight = []\n    for (var idx = 0; idx < arrowCount; idx++) {\n        var i = idx;\n        arrowsLeft.push(<MenuItem value={i}><ArrowCell side={1} type={i} width={50} height={15}></ArrowCell></MenuItem>);\n        arrowsRight.push(<MenuItem value={i}><ArrowCell side={0} type={i} width={50} height={15}></ArrowCell></MenuItem>);\n    }\n    return (<ClickAwayListener onClickAway={handleClickAway}>\n        <Popper open={true} {...pos}>\n            <div id=\"connection_edit_paper\" className=\"connection_edit_paper\">\n                <div className=\"connection_edit_header\">\n                    <span>Arrows</span>\n                </div>\n                <div className=\"connection_edit_options\">\n                    <Select\n                        disableUnderline\n                        className=\"connection_edit_options_cell\"\n                        id=\"demo-simple-select\"\n                        value={start}\n                        onChange={(event)=>onChange(0, event)}\n                    >\n                        {arrowsLeft}\n                    </Select>\n                    <div className=\"connection_edit_options_cell_space\"></div>\n                    <Select\n                        disableUnderline\n                        className=\"connection_edit_options_cell\"\n                        id=\"demo-simple-select\"\n                        value={end}\n                        onChange={(event)=>onChange(1, event)}\n                    >\n                        {arrowsRight}\n                    </Select>\n                </div>\n            </div>\n        </Popper>\n    </ClickAwayListener>)\n}\n\nexport default ConnectionEditor;","import './ShapeProps.css'\n\nimport React from \"react\"\nimport Help  from \"./Help\"\nimport Property  from \"./Property\"\nimport StyleEditor from './StyleEditor'\nimport AppInput from \"../common/AppInput\"\nimport keyboardInput from '../common/KeyboardInput'\nimport ConnectionEditor from './ConnectionEditor'\n\nvar shapePropsUtil = { }\n\nconst useRefState = initialValue => {\n    const [state, setState] = React.useState(initialValue)\n    const stateRef = React.useRef(state)\n    React.useEffect(\n        () => { stateRef.current = state },\n        [state]\n    )\n    return [state, stateRef, setState];\n}\n\nconst ShapeProps = (props) => {\n    const [counter, counterRef, setCounter] = useRefState(0);\n    const reload = () => {\n        setCounter(counterRef.current + 1);\n    }\n\n    const handleKey = (event) => {\n        let key = event.key.toLowerCase();\n        if (key == 'escape') {\n            if (shapePropsUtil.isPropertyWindowOpen()) {\n                shapePropsUtil.dismissWindow();\n                event.preventDefault();\n                reload();\n                return true\n            }\n        }\n        return false;\n    }\n\n    React.useEffect(() => {\n        keyboardInput.addListener(handleKey);\n        AppInput.showShapeProps = () => {reload()}\n        return () => {\n            keyboardInput.removeListener(handleKey);\n            AppInput.showShapeProps = () => {}\n        }\n      }, [])\n\n    if (!window.Module.inputReceiver) {\n        return null;\n    }\n    var propsEdit = false;\n    var showHelp = false;\n    var styleEdit = false;\n    var connectionEdit = false;\n    if (window.Module.inputReceiver().needPropertyEditing()) {\n        propsEdit = true;\n    } else if (window.Module.inputReceiver().needToShowShapeHelp()) {\n        showHelp = true;\n    } else if (window.Module.inputReceiver().needStyleEditing()) {\n        styleEdit = true;\n    } else if (window.Module.inputReceiver().needConnectionEditing()) {\n        connectionEdit = true;\n    }\n\n    if (propsEdit == false && showHelp == false && styleEdit == false && connectionEdit == false) {\n        return null;\n    }\n\n    if (propsEdit) {\n        return <Property reload={reload} />;\n    } else if (showHelp) {\n        return <Help reload={reload} />;\n    } else if (styleEdit) {\n        return <StyleEditor reload={reload} />\n    } else if (connectionEdit) {\n        return <ConnectionEditor reload={reload} />\n    }\n    return null;\n}\n\nshapePropsUtil.isPropertyWindowOpen = function() {\n    return window.Module.inputReceiver().needPropertyEditing() ||\n        window.Module.inputReceiver().needToShowShapeHelp() ||\n        window.Module.inputReceiver().needStyleEditing() ||\n        window.Module.inputReceiver().needConnectionEditing();\n}\n\nshapePropsUtil.dismissWindow = function() {\n    window.Module.inputReceiver().setNeedPropertyEditing(false);\n    window.Module.inputReceiver().setNeedToShowShapeHelp(false);\n    window.Module.inputReceiver().setNeedStyleEditing(false);\n    window.Module.inputReceiver().setNeedConnectionEditing(false);\n}\n\nexport {shapePropsUtil, ShapeProps};","import React from 'react'\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Style from './SideBarStyle';\nimport SideBarMenuItems, {SideBarMenuItemsWithGestures} from \"../../Constant\"\nimport StrokeStyle from '../StrokeStyle'\nimport SelectionGroupPopup from '../SelectionGroupPopup'\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener'\nimport menuState from '../MenuState'\nimport ShapeLibrary from '../../shapelib/ShapeLibrary'\nimport TextModePopup from '../TextModePopup'\nimport AppInput from '../AppInput'\nimport { FaMousePointer, FaHandRock } from 'react-icons/fa';\nimport keyboardInput from '../KeyboardInput'\nimport command from '../Command'\nimport { shapePropsUtil } from '../../shapeprops/ShapeProps';\nimport userInfo from '../../utils/UserInfo';\n\nconst useStyles = makeStyles(Style);\n\nconst useRefState = initialValue => {\n    const [state, setState] = React.useState(initialValue)\n    const stateRef = React.useRef(state)\n    React.useEffect(\n      () => { stateRef.current = state },\n      [state]\n    )\n    return [state, stateRef, setState];\n}\n\nexport var reloadSideBar = null;\n\nconst SideBarMenu = () => {\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const [placement, setPlacement] = React.useState();\n    const [subMenuIcons, setSubMenuIcons] = React.useState();\n    const [counter, counterRef, setCounter] = useRefState(0);\n    const classes = useStyles();\n\n    const reload = () => {\n        setCounter(counterRef.current + 1);\n    }\n\n    const handleKeyDown = (event) => {\n        let key = event.key.toLowerCase();\n        var handled = false;\n        if (key == 'escape' && !shapePropsUtil.isPropertyWindowOpen()) {\n            if (menuState.hasPopup()) {\n                menuState.removePopup();\n                handled = true;\n            } else if (menuState.selected == menuState.menus.laser ||\n                menuState.selected == menuState.menus.erase ||\n                menuState.selected == menuState.menus.text) {\n                menuState.handleMenuClick(menuState.menus.selection);\n                handled = true;\n            }\n\n            if (handled) {\n                event.preventDefault();\n                AppInput.ignoreNextClick(false);\n                reload();\n            }\n        }\n        return handled;\n    };\n\n    const afterKeyHandling = (event) => {\n        if (command.inputModeChanged) {\n            command.inputModeChanged = false;\n            reload();\n        }\n    }\n    \n    React.useEffect(() => {\n        keyboardInput.addListener(handleKeyDown);\n        keyboardInput.addPostListener(afterKeyHandling);\n        reloadSideBar = reload;\n    \n        // cleanup this component\n        return () => {\n            keyboardInput.removeListener(handleKeyDown);\n            keyboardInput.removePostListener(afterKeyHandling);\n            reloadSideBar = null;\n        };\n    }, []);\n    \n    const handleClick = (event, subMenus, newPlacement,id) => {\n        if (id == menuState.menus.eraseAll) {\n            menuState.handleMenuClick(id);\n            return;\n        }\n        menuState.handleMenuClick(id);\n        setAnchorEl(event.currentTarget);\n\n        setPlacement(newPlacement);\n        setSubMenuIcons(subMenus)\n        reload();\n    };\n\n    const handleClickAway = (e) => {\n        if (menuState.popup == menuState.menus.selectionGroup ||\n            menuState.popup == menuState.menus.text) {\n            menuState.removePopup();\n            reload();\n        }\n    }\n\n    const setSelectionMode = (val) => {\n        menuState.handleMenuClick(val);\n        reload();\n    };\n    \n    const getIconAndName = (sidebar, classes) => {\n        var {icon, name} = sidebar;\n        const {menuItem} = classes;\n        if (sidebar.id == menuState.menus.selectionGroup) {\n            if (menuState.selectionGroupVal == menuState.menus.selection) {\n                icon = <FaMousePointer size=\"1.2em\" color=\"#000000b8\"/>;\n                name = \"Select\";\n            } else {\n                icon = <FaHandRock size=\"1.2em\" color=\"#000000b8\"/>;\n                name = \"Move\";\n            }\n        }\n        return (\n            <div>\n                <div className={menuItem + ' ' + 'sideMenuIcons'}>\n                    {icon}\n                </div>\n                <div className={menuItem +' '+ 'menuItems'}>{name}</div>\n            </div>\n        )\n    }\n    var sideMenuItems = SideBarMenuItems;\n    if (userInfo.canUseGestures()) {\n        sideMenuItems = SideBarMenuItemsWithGestures;\n    }\n    return (\n        <ClickAwayListener onClickAway={handleClickAway}>\n        <div>\n           { (menuState.popup === menuState.menus.selectionGroup) && <SelectionGroupPopup\n                open={true}\n                anchorEl={anchorEl}\n                placement={placement}\n                setSelectionMode={setSelectionMode}\n            /> }\n           { (menuState.popup === menuState.menus.draw || menuState.popup === menuState.menus.smartDraw) && <StrokeStyle\n                open={true}\n                anchorEl={anchorEl}\n                placement={placement}\n                subMenuIcons ={subMenuIcons}\n            /> }\n            { menuState.popup === menuState.menus.text && <TextModePopup\n                open={true}\n                anchorEl={anchorEl}\n                placement=\"right-end\"\n            /> }\n            { menuState.popup === menuState.menus.shapes && <ShapeLibrary\n                open={true}\n                anchorEl={anchorEl}\n                placement=\"right-end\"\n                subMenuIcons ={subMenuIcons}\n            /> }\n            \n            <div className={`${classes.sideBar} side_menus`}>\n                {sideMenuItems.map((sidebar, index) => {\n                    var itemClass = classes.sideBarMenu +' '+ 'sideBarMenu';\n                    if (sidebar.id === menuState.menus.shapes && menuState.popup === menuState.menus.shapes) {\n                        itemClass = classes.sideBarMenu +' '+ 'sideBarMenu selected';\n                    }\n                    if (sidebar.id === menuState.selected) {\n                        itemClass = classes.sideBarMenu +' '+ 'sideBarMenu active';\n                    }\n                    if (sidebar.id === menuState.menus.cameraInput && menuState.cameraActive) {\n                        itemClass = classes.sideBarMenu +' '+ 'sideBarMenu active';\n                    }\n                    return (\n                        <div className={itemClass} key={index} onClick={(event)=>handleClick(event, sidebar.subMenus,'right',sidebar.id)} >\n                            {getIconAndName(sidebar, classes)}\n                        </div>\n                    )\n                })}\n\n            </div>\n        </div>\n        </ClickAwayListener>\n        \n    )\n}\nexport default SideBarMenu","import React from 'react'\nimport menuState from '../MenuState';\n\nconst  Content = () =>  {\n    return (\n        <div className=\"canvasContainer\" id=\"drawContent\">\n            <div id=\"viewport\" className=\"viewport\">\n                <canvas id=\"gridCanvas\" className=\"canvasGridClass\" />\n                {menuState.cameraActive && <canvas id=\"cameraCanvas\" className=\"cameraCanvas\" width=\"1280px\" height=\"720px\"/>}\n                <canvas id=\"drawCanvas\" className=\"canvasClass\" />\n            </div>\n          <canvas id=\"transparentPanel\" className=\"viewport\" />\n        </div>\n    )\n}\n\nexport default Content;\n","import $ from 'jquery';\nimport canvas from './Canvas'\nimport AppInput from './AppInput'\nimport touchInput from './TouchInput'\nimport mouseInput from './MouseInput'\nimport keyboardInput from './KeyboardInput'\n\nvar appEvent = { };\n\nfunction attachResizeHandler() {\n  $(window).on(\"resize\", function() {\n    canvas.onResize();\n    AppInput.onResize();\n  });\n}\n\nappEvent.attachEventHandlers = function() {\n  attachResizeHandler();\n\n  var canvasElement = document.getElementById(\"transparentPanel\");\n  mouseInput.attachEvents(canvasElement);\n  touchInput.attachEvents(canvasElement);\n  keyboardInput.attachEvents(canvasElement);\n}\n\nexport default appEvent;\n","import canvas from './Canvas'\n\nimport appEvent from './AppEvent'\nimport shapes from '../shapelib/Shapes'\n\nimport luaScripts from '../data/lua_script.json'\nimport userInfo from '../utils/UserInfo'\nimport {constant} from '../utils/ApiConstants'\n\nvar initializer = { };\n\nvar shapesInitDone = false;\nvar docDetailFetched = false;\nvar docStarted = false;\n\nvar apiBasePath = constant.baseUrl + \"/\" + constant.backendVersion;\n\n// Adding into window as this is being used by c++ code\nwindow.wsmanager = {\n    // state values: init, ready, disconnected, notfound, offline, prompt\n    state: \"init\",\n    cb: null,\n    docid: null,\n    setState: function(state) {\n        window.wsmanager.state = state;\n        if (window.wsmanager.cb != null) { window.wsmanager.cb(state); }\n    },\n    permission: 'write',\n    readOnly: () => window.wsmanager.permission != 'write',\n}\n\nwindow.toggleDebug = function() {\n    window.Module.toggleDebug();\n}\n\nwindow.getLekhResource = function(name) {\n    var sc = luaScripts[name];\n    if (sc) {\n        return sc;\n    }\n    return \"\";\n}\n\nvar runtimeInitialized = false;\nvar initialInitDone = false;\nvar docReady = false;\n\nconst hasTouch = () => {\n    var hasTouchScreen = false;\n    if (\"maxTouchPoints\" in navigator) {\n        hasTouchScreen = navigator.maxTouchPoints > 0;\n    } else if (\"msMaxTouchPoints\" in navigator) {\n        hasTouchScreen = navigator.msMaxTouchPoints > 0;\n    } else {\n        var mQ = window.matchMedia && matchMedia(\"(pointer:coarse)\");\n        if (mQ && mQ.media === \"(pointer:coarse)\") {\n            hasTouchScreen = !!mQ.matches;\n        } else if ('orientation' in window) {\n            hasTouchScreen = true; // deprecated, but good fallback\n        } else {\n            // Only as a last resort, fall back to user agent sniffing\n            var UA = navigator.userAgent;\n            hasTouchScreen = (\n                /\\b(BlackBerry|webOS|iPhone|IEMobile)\\b/i.test(UA) ||\n                /\\b(Android|Windows Phone|iPad|iPod)\\b/i.test(UA)\n            );\n        }\n    }\n    return hasTouchScreen;\n}\n\nconst appendScript = (scriptToAppend) => {\n    const script = document.createElement(\"script\");\n    script.src = scriptToAppend;\n    script.async = false;\n    document.body.appendChild(script);\n}\n\nconst setStyleAfterDocLoad = () => {\n    //window.Module.inputReceiver().currentStyle().setStrokeWidth(4);\n    window.Module.inputReceiver().currentStyle().setFontSize(18);\n}\n\nwindow.Module = {\n    onRuntimeInitialized: function () {\n        runtimeInitialized = true;\n        initializer.initInternal();\n    }\n};\n\ninitializer.init = function(cb) {\n    docReady = true;\n    window.wsmanager.cb = cb;\n    appendScript(\"a1/bean.min.js\");\n    appendScript(\"a1/lekhapp.js\");\n    initializer.initInternal();\n}\n\ninitializer.onDocDetailFetch = () => {\n    docDetailFetched = true;\n    startDoc();\n}\n\ninitializer.initInternal = function() {\n    if (initialInitDone || !docReady || !runtimeInitialized) {\n        return;\n    }\n    initialInitDone = true;\n    var panel = document.getElementById(\"gridCanvas\");\n    if (!panel) {\n        return;\n    }\n    var canvasElement = document.getElementById(\"drawCanvas\");\n    initialInitDone = true;\n\n    window.Module.init(canvasElement);\n    //window.Module.setZoom(70)\n    canvas.setSize();\n    canvas.drawGrid();\n    \n    shapes.initialize().then(function() {\n        appEvent.attachEventHandlers();\n        shapesInitDone = true;\n        startDoc();\n    });\n}\n\ninitializer.createNewDoc = () => {\n    var url = new URL(window.location);\n    var ref = url.searchParams.get('ref');\n    var xhttp = new XMLHttpRequest();\n    xhttp.onreadystatechange = function() {\n        if (this.readyState == 4) {\n            if (this.status == 200) {\n                var obj = JSON.parse(xhttp.responseText);\n                var url = new URL(window.location);\n                var newUrl = url.origin + \"/?docid=\" + obj.docid;\n                window.location = newUrl;\n            } else {\n                window.wsmanager.setState('error');\n            }\n        }\n    };\n    var url = apiBasePath + \"/docs\"\n    if (ref) {\n        url += \"?ref=\" + ref;\n    }\n    xhttp.open(\"POST\", url);\n    xhttp.withCredentials = true;\n    xhttp.send();\n}\n\nfunction startDoc() {\n    if (!shapesInitDone || !docDetailFetched || docStarted) {\n        return;\n    }\n    docStarted = true;\n\n    var url = new URL(window.location);\n    var docid = url.searchParams.get('docid');\n    var np = url.searchParams.get('_new');\n    var ref = url.searchParams.get('ref');\n    var offline = url.searchParams.get('offline');\n    if (docid) {\n        var xhttp = new XMLHttpRequest();\n        xhttp.onreadystatechange = function() {\n          if (this.readyState == 4) {\n            if (this.status == 200) {\n              var touch = 'false';\n              try {\n                if (hasTouch()) {\n                    touch = 'true';\n                }\n              } catch(e) {\n              }\n              var obj = JSON.parse(xhttp.responseText);\n              let url = obj.location+'?_touch=' + touch;\n              if (userInfo.isLoggedIn()) {\n                url += '&access_token=' + userInfo.token;\n              }\n              window.wsmanager.start(docid, url);\n            } else {\n                if (this.status == 404) {\n                    window.wsmanager.setState('notfound');\n                } else if (this.status == 403) {\n                    window.wsmanager.setState('forbidden');\n                } else {\n                  window.wsmanager.setState('error');\n                }\n            }\n          }\n        };\n        var url = apiBasePath + \"/docs/\" + docid;\n        xhttp.open(\"POST\", url);\n        xhttp.withCredentials = true;\n        if (userInfo.isLoggedIn()) {\n          xhttp.setRequestHeader('x-auth-token', userInfo.token);\n        }\n        xhttp.send();\n    } else if (np == 'true') {\n      window.wsmanager.setState('newwait');\n    } else if (offline == 'true') {\n        window.wsmanager.setState('offline');\n    } else {\n        window.wsmanager.setState('prompt');\n    }\n}\n\nwindow.wsmanager.start = function (docid, location) {\n    var timer;\n  \n    const ws = new window.WebSocket(location);\n    window.Module.startDoc(docid);\n  \n    window.wsmanager.send = function(docid, data) {\n      ws.send(data);\n      return true;\n    }\n  \n    ws.onopen = function(event) {\n        console.log('connection opened: ', event);\n        timer = window.setInterval(function() {\n            ws.send('{}');\n        }, 15000);\n    };\n  \n    ws.onmessage = function(event) {\n        window.Module.updateDoc(event.data);\n        canvas.draw();\n        if (window.wsmanager.state == 'init') {\n            // The first update is supposed to load update\n            // after loading the doc, we can change the default style\n            var updateObj = JSON.parse(event.data);\n            if (updateObj.type == 'update' && updateObj.updates &&\n                updateObj.updates.type == 'load' && updateObj.updates.permission) {\n                window.wsmanager.permission = updateObj.updates.permission;\n            }\n            setStyleAfterDocLoad();\n            window.wsmanager.docid = docid;\n            window.wsmanager.setState('ready');\n        }\n    };\n  \n    ws.onclose = function(event) {\n        console.log('connection closed:', event);\n        window.wsmanager.setState('disconnected');\n        window.clearInterval(timer);\n    };\n  \n    ws.onerror = function(event) {\n        console.log('connection error: ', event);\n        window.wsmanager.setState('disconnected');\n        window.clearInterval(timer);\n    };\n}\n\nexport default initializer;\n","import initializer from './AppInit'\n\nfunction reload() {\n    window.location.reload();\n}\n\nfunction continueTrial() {\n    initializer.createNewDoc();\n}\n\nconst Layover = (props) => {\n    // init, disconnected, notfound, prompt, forbidden, newwait\n    var item = null;\n    if (props.wsstate == \"init\" || props.wsstate == \"ready\") {\n        item = <div className=\"layover-box\">Loading..</div>;\n    } else if (props.wsstate == \"disconnected\") {\n        item = <div className=\"layover-box\">\n            <p><span>Disconnected from server </span><a href=\"#\" onClick={reload}>Reconnect</a></p>\n            </div>;\n    } else if (props.wsstate == \"notfound\") {\n        item = <div className=\"layover-box\">\n            <span>Requested board does not exist</span>\n            </div>;\n    } else if (props.wsstate == \"forbidden\") {\n        item = <div className=\"layover-box\">\n                <span>You do not have permission to access this board</span><br/>\n                <span><a href=\"javascript:void(0)\" onClick={reload}>Reload</a> the page to check access again</span>\n            </div>;\n    } else if (props.wsstate == \"prompt\") {\n        item = <div className=\"layover-box\">\n            <a href=\"/?_new=true\">Start a collaborative board</a>\n            <a href=\"/?offline=true\">Start an offline board</a>\n            </div>;\n    } else if (props.wsstate == 'newwait') {\n        item = <div className=\"layover-box\">\n            <span>You are opening a trial board without login.<br/>This board will be deleted in a few days.<br/><br/>Please login to save your work</span>\n            <a href=\"/#/login\">Login</a>\n            <a href=\"javascript:void(0)\" onClick={continueTrial}>Continue trial</a>\n            </div>;\n    } else {\n        item = <div className=\"layover-box\">\n            <span>Something went wrong</span>\n            <a href=\"#\" onClick={reload}>Reload</a>\n            <a href=\"/?offline=true\">Start an offline board</a>\n            </div>;\n    }\n\n    return (\n        <div className=\"layover-col\">\n            {item}\n        </div>\n    )\n}\n\nexport default Layover\n","import React from 'react';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport NestedMenuItem from \"material-ui-nested-menu-item\";\nimport ListItemText from '@material-ui/core/ListItemText';\nimport canvas from './Canvas'\nimport command from './Command'\nimport ArrowRight from '@material-ui/icons/ArrowRight'\n\nconst shapesMenus = [\n    {id:'box', name: 'Box', key1:'Ctrl + B', key2: '⌘ B', disabled: false},\n    {id:'ellipse', name: 'Circle', key1:' Ctrl + E', key2: '⌘ E', disabled: false},\n    /*{id:'table', name: 'Table', key1:'ctrl l', key2: '⌘ L', disabled: false},*/\n    {id:'user', name: 'User', key1:'Ctrl + U', key2: '⌘ U', disabled: false},\n    {id:'note', name: 'Note', key1:'', key2: '', disabled: false},\n    {id:'db', name: 'Database', key1:'', key2: '', disabled: false},\n    {id:'cloud', name: 'Cloud', key1:'', key2: '', disabled: false},\n    /*{id:'more', name: 'More', key1:'', key2: '', disabled: false},*/\n]\n\nconst arrangeMenus = [\n  {id:'moveToFront', name: 'Move To Front', key1:'', key2: '', disabled: false},\n  {id:'moveToBack', name: 'Move To Back', key1:' ', key2: '', disabled: false},\n]\n\nvar menus = [\n    {id:'add', name: 'Add Shapes', key1: '', key2: '', div: false, disabled: false, submenu: shapesMenus},\n    {id:'arrange', name: 'Arrange', key1: '', key2: '', div: true, disabled: false, submenu: arrangeMenus},\n    {id:'select', name: 'Select All', key1: 'Ctrl + A', key2: '⌘ A', div: true, disabled: false},\n    {id:'cut', name: 'Cut', key1: 'Ctrl + X', key2: '⌘ X', div: false, disabled: false},\n    {id:'copy', name: 'Copy', key1: 'Ctrl + C', key2: '⌘ C', div: false, disabled: false},\n    {id:'paste', name: 'Paste', key1: 'Ctrl + V', key2: '⌘ V', div: false, disabled: false},\n    {id:'del', name: 'Delete', key1: 'Del', key2: 'Delete', div: false, disabled: false},\n    //{id:'line', name: 'Line Style', key1: '', key2: '', div: false, disabled: false},\n    //{id:'fill', name: 'Fill Color', key1: '', key2: '', div: false, disabled: false},\n    //{id:'font', name: 'Font', key1: '', key2: '', div: false, disabled: false},\n]\n\nexport default function ContextMenu(props) {\n  const handleClose = () => {\n    props.showHandler(false);\n  };\n\n  var mappedPt = {y: canvas.mapry(props.pos.y), x: canvas.maprx(props.pos.x)};\n\n  const handleMenu = (id) => {\n      if (id == \"copy\") {\n        command.copy();\n      } else if (id == \"paste\") {\n        command.pasteAt(mappedPt);\n      } else if (id == \"cut\") {\n        command.cut();\n      } else if (id == \"del\") {\n        command.del();\n      } else if (id == \"select\") {\n        command.selectAll();\n      } else if (id == \"box\") {\n        command.addBox({x:mappedPt.x, y:mappedPt.y});\n      } else if (id == \"ellipse\") {\n        command.addCircle({x:mappedPt.x, y:mappedPt.y});\n      } else if (id == \"table\") {        \n      } else if (id == \"user\") {\n        command.addUser({x:mappedPt.x, y:mappedPt.y});\n      } else if (id == \"db\") {\n        command.addDb({x:mappedPt.x, y:mappedPt.y});\n      } else if (id == \"cloud\") {\n        command.addCloud({x:mappedPt.x, y:mappedPt.y});\n      } else if (id == \"note\") {\n        command.addNote({x:mappedPt.x, y:mappedPt.y});\n      } else if (id == \"moveToFront\") {\n        command.moveToFront();\n      } else if (id == \"moveToBack\") {\n        command.moveToBack();\n      }\n\n      canvas.draw();\n      props.showHandler(false);\n  };\n\n  var cmStatus = window.Module.getContextMenuStatus(mappedPt);\n  menus[1].disabled = !cmStatus.canArrage;\n  menus[2].disabled = !cmStatus.canSelectAll;\n  menus[3].disabled = !cmStatus.canCut;\n  menus[4].disabled = !cmStatus.canCopy;\n  menus[5].disabled = !cmStatus.canPaste;\n  menus[6].disabled = !cmStatus.canDelete;\n  canvas.draw();\n\n  var keyName = 'key1';\n  if (navigator.userAgent.indexOf(\"OS X\") > 0) {\n      // This is MAC\n      keyName = \"key2\";\n  }\n  return (\n      <Menu\n        keepMounted\n        open={true}\n        onClose={handleClose}\n        anchorReference=\"anchorPosition\"\n        anchorPosition={{top: props.pos.y, left: props.pos.x}}\n        PaperProps={{\n            style: {\n                border: '2px solid #d3d4d5'\n            },\n        }}>\n      {menus?.map((option, index) => {\n          var subMenus = option.submenu;\n          var rightIcon =  <ArrowRight />;\n          if (index == 1) {\n            rightIcon =  <ArrowRight style={{marginLeft: '126px'}}/>;\n            if (option.disabled) {\n              subMenus = null;\n            }\n          }\n          if (subMenus) {\n            return (<NestedMenuItem\n                label={option.name}\n                style={{ left: '4px' }}\n                parentMenuOpen={true}\n                divider={option.div}\n                rightIcon={rightIcon}\n                className=\"subIcon\"\n                disabled={option.disabled}\n                key={option.id}>\n                {\n                option.submenu.map((subOption, index) => (\n                    <MenuItem onClick={()=>{handleMenu(subOption.id)}} key={subOption.id} divider={subOption.div} disabled={subOption.disabled}>\n                        <ListItemText primary={subOption.name} />\n                        <ListItemSecondaryAction className=\"shortcutKeys\">{subOption[keyName]}</ListItemSecondaryAction>\n                    </MenuItem>\n                    \n                ))}\n            </NestedMenuItem>);\n          }\n          return (\n            <MenuItem onClick={()=>{handleMenu(option.id)}} key={option.id} divider={option.div} disabled={option.disabled} style={{ left: '4px' }}>\n                <ListItemText primary={option.name} />\n                <ListItemSecondaryAction className=\"shortcutKeys\">{option[keyName]}</ListItemSecondaryAction>\n            </MenuItem>\n          )\n       })\n       }\n      </Menu>\n  );\n}\n\n/*\n⌘ – &#x2318; – &#8984; – the Command Key symbol\n⌥ – &#x2325; – &#8997; – the Option Key symbol\n⇧ – &#x21E7; – &#8679; – the Shift Key symbol\n⌃ – &#x2303; – &#8963; – the Control Key symbol\n⎋ – &#x238B; – &#9099; – the ESC Key symbol\n⇪ – &#x21ea; – &#8682; – the Capslock symbol\n⏎ – &#x23ce; – &#9166; – the Return symbol\n⌫ – &#x232b; – &#9003; – the Delete / Backspace symbol\n⇥ – &#x21E5; – &#8677; – the Tab Key symbol\n*/\n\n","var canvasElement = null;\nvar cameraCanvas = null;\n\nvar canvasCtx = null;\nvar cameraCtx = null;\n\nvar canvasWidth = 1280;\nvar canvasHeight = 720;\n\nvar landmarkLines = [\n    [0, 1, 2, 3, 4],\n    [0, 5, 6, 7, 8],\n    [9, 10 , 11, 12],\n    [13, 14, 15, 16],\n    [0, 17, 18, 19, 20],\n    [5, 9, 13, 17]\n];\n\nexport function setCanvas(ce, cameraElement) {\n    canvasElement = ce;\n    canvasCtx = canvasElement.getContext('2d');\n\n    cameraCanvas = cameraElement;\n    cameraCtx = cameraCanvas.getContext('2d');\n}\n\nexport function mirrorPoint(pt) {\n    var npt = {x:pt.x, y:pt.y}\n    npt.x -= 1280;\n    npt.x *= -1;\n    npt.x += 100;\n    npt.y += 70;\n    return npt;\n}\n\nexport function drawActivePoint(pt) {\n    var npt = mkpt(pt);\n    npt.x -= 1280;\n    npt.x *= -1;\n\n    canvasCtx.save();\n    canvasCtx.strokeStyle = '#FF0000';\n    canvasCtx.beginPath();\n    canvasCtx.arc(npt.x, npt.y, 10, 0, 2 * Math.PI);\n    canvasCtx.stroke()\n    canvasCtx.restore();\n}\nexport function drawLandmarks(landmarks) {\n    var pts = [];\n    for (let item of landmarks) {\n        var npt = mkpt(item);\n        npt.x -= 1280;\n        npt.x *= -1;\n        pts.push(npt);\n    }\n\n    canvasCtx.save();\n    canvasCtx.strokeStyle = '#00FF00';\n    canvasCtx.lineWidth = 4;\n    for (let line of landmarkLines) {\n        canvasCtx.beginPath();\n        canvasCtx.moveTo(pts[line[0]].x, pts[line[0]].y);\n        for (let i = 1; i < line.length; i++) {\n            canvasCtx.lineTo(pts[line[i]].x, pts[line[i]].y)\n        }\n        canvasCtx.stroke();\n    }\n    canvasCtx.restore();\n\n    canvasCtx.save();\n    canvasCtx.lineWidth = 1;\n    canvasCtx.fillStyle = '#FF0000';\n    canvasCtx.strokeStyle = '#FF0000';\n    for (let pt of pts) {\n        canvasCtx.beginPath();\n        canvasCtx.arc(pt.x, pt.y, 5, 0, 2 * Math.PI);\n        canvasCtx.fill()\n    }\n    canvasCtx.restore()\n}\n\nexport function clearLandmarkCanvas() {\n    canvasCtx.clearRect(0, 0, canvasWidth, canvasHeight);\n}\n\nexport function clearCameraCanvas() {\n    cameraCtx.clearRect(0, 0, canvasWidth, canvasHeight);\n}\n\nfunction drawCenterText(text) {\n    var fz = 40;\n   \n    canvasCtx.save();\n    canvasCtx.fillStyle = \"#FFFFFFB0\"\n    canvasCtx.fillRect(0, 0, canvasWidth, canvasHeight);\n\n    canvasCtx.font = canvasCtx.font.replace(/\\d+px/, fz + \"px\");\n    canvasCtx.fillStyle = \"red\";\n    canvasCtx.strokeStyle = 'white';\n    canvasCtx.textAlign = \"center\";\n    canvasCtx.fillText(text, canvasWidth/2, canvasHeight/2); \n    canvasCtx.strokeText(text, canvasWidth/2, canvasHeight/2);\n    canvasCtx.restore();\n}\nexport function showInit() {\n    var text = \"Starting camera..\";\n    drawCenterText(text);\n}\n\nexport function showFlashMessage() {\n    var text = \"Make sure you are in front of the camera\";\n    drawCenterText(text);\n}\n\nexport function showCameraImage(image) {\n    if (image == null) {\n        return;\n    }\n    cameraCtx.save();\n    cameraCtx.translate(canvasWidth, 0);\n    cameraCtx.scale(-1, 1);\n    cameraCtx.drawImage(image, 0, 0, canvasWidth, canvasHeight);\n    cameraCtx.restore();\n}\n\nexport function mkpt(p) {\n    return {x: p.x * canvasWidth, y: p.y* canvasHeight, z: p.z * canvasWidth}\n}\n\nexport function pt2d(x, y) {\n    return {x: x, y:y , z: 0}\n}\n","import { pt2d } from \"./Frame\";\n\nconst RANGE_DELTA = 0.5;\n\nexport function dist(p1, p2) {\n    var dx, dy;\n    dx = (p2.x - p1.x);\n    dy = (p2.y - p1.y);\n    return Math.sqrt(((dx * dx) + (dy * dy)));\n}\n\nexport function dist2(p1, p2) {\n    var dx, dy, dz;\n    dx = (p2.x - p1.x);\n    dy = (p2.y - p1.y);\n    dz = (p2.z - p1.z);\n    return Math.sqrt((((dx * dx) + (dy * dy)) + (dz * dz)));\n}\n\nexport function inOrder(pts) {\n    if (pts.length < 3) {\n        return true;\n    }\n\n    function inord(p1, p2, p3) {\n        var eq = new LineEq(p1, p2);\n        eq = eq.perp(p2);\n        return eq.crosses(p1, p3);\n    }\n    for (let i = 0; i < pts.length - 2; i++) {\n        if (!inord(pts[i], pts[i + 1], pts[i + 2])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nexport function turnAngle(pts) {\n    if (pts.length < 3) {\n        return 0;\n    }\n\n    function ta(p1, p2, p3) {\n        var dp = (p2.x - p1.x) * (p3.x - p2.x) + (p2.y - p1.y) * (p3.y - p2.y);\n        var d1 = dist(p1, p2);\n        var d2 = dist(p2, p3);\n        var D = d1 * d2;\n        // if D is very small\n        if (Math.abs(D) < 0.0001) {\n            return 0;\n        }\n        var theta = Math.acos(dp / D);\n        var cp = crossProduct(p1, p2, p3);\n        if (cp < 0) {\n            return -theta;\n        }\n        return theta;\n    }\n\n    var turn = 0;\n    for (let i = 0; i < pts.length - 2; i++) {\n        turn += ta(pts[i], pts[i+1], pts[i+2]);\n    }\n    return turn;\n}\n\nexport function crossProduct(p1, p2, p3) {\n    var v1x = p2.x - p1.x;\n    var v1y = p2.y - p1.y;\n\n    var v2x = p3.x - p2.x;\n    var v2y = p3.y - p2.y;\n\n    return v1x * v2y - v2x * v1y;\n}\n\nexport class LineEq {\n    constructor(p1, p2) {\n        this.A = (p2.y - p1.y);\n        this.B = (p1.x - p2.x);\n        this.C = ((p1.y * p2.x) - (p1.x * p2.y));\n    }\n\n    distFrom(pt) {\n        var dist = (Math.abs((((this.A * pt.x) + (this.B * pt.y)) + this.C)) / Math.sqrt(((this.A * this.A) + (this.B * this.B))));\n        return dist;\n    }\n\n    solve(eq2) {\n        var D = ((this.A * eq2.B) - (eq2.A * this.B));\n        var Dx = ((eq2.B * (- this.C)) - (this.B * (- eq2.C)));\n        var Dy = ((this.A * (- eq2.C)) - (eq2.A * (- this.C)));\n        if ((D === 0)) {\n            return [false, null];\n        }\n        return [true, pt2d(Dx / D, Dy / D)];\n    }\n\n    angleWithHz() {\n        return Math.atan2(this.A, (- this.B));\n    }\n\n    crosses(p1, p2) {\n        var d1 = (((this.A * p1.x) + (this.B * p1.y)) + this.C);\n        var d2 = (((this.A * p2.x) + (this.B * p2.y)) + this.C);\n        return ((d1 * d2) <= 0);\n    }\n\n    perp(p) {\n        var eq = new LineEq(pt2d(0, 0), pt2d(1, 1));\n        eq.A = (- this.B);\n        eq.B = this.A;\n        eq.C = (((- eq.A) * p.x) - (eq.B * p.y));\n        return eq;\n    }\n\n    pval(pt) {\n        return pt.x * this.A + pt.y*this.B + this.C;\n    }\n}\n\nexport class LineSegment {\n    constructor(p1, p2) {\n        this.p1 = p1;\n        this.p2 = p2;\n    }\n\n    length() {\n        return dist(this.p1, this.p2);\n    }\n\n    eq() {\n        return new LineEq(this.p1, this.p2);\n    }\n\n    contains(pt) {\n        var d1 = dist(pt, this.p1);\n        var d2 = dist(pt, this.p2);\n        var len = this.length();\n        var diff = Math.abs((len - (d1 + d2)));\n        return (diff < RANGE_DELTA);\n    }\n\n    distFrom(point) {\n        var _, d1, d2, eq, eq2, near;\n        eq = new LineEq(this.p1, this.p2);\n        eq2 = eq.perp(point);\n        [_, near] = eq.solve(eq2);\n        if (this.contains(near)) {\n            return eq.distFrom(point);\n        }\n        d1 = dist(this.p1, point);\n        d2 = dist(this.p2, point);\n        return Math.min(d1, d2);\n    }\n\n    intersect(seg) {\n        var at, eq1, eq2, got;\n        eq1 = new LineEq(this.p1, this.p2);\n        eq2 = new LineEq(seg.p1, seg.p2);\n        [got, at] = eq1.solve(eq2);\n        if ((((! got) || (! this.contains(at))) || (! seg.contains(at)))) {\n            return [false, pt2d(0, 0)];\n        }\n        return [true, at];\n    }\n\n    intersectEq(eq) {\n        var at, eq1, got;\n        eq1 = new LineEq(this.p1, this.p2);\n        [got, at] = eq1.solve(eq);\n        if (((! got) || (! this.contains(at)))) {\n            return [false, pt2d(0, 0)];\n        }\n        return [true, at];\n    }\n}\n\n","import {dist} from './Geometry';\nimport { mirrorPoint } from './Frame';\n\nexport class Dragger {\n    constructor() {\n        this.reset();\n        this.MOVE_DIST_REF = 10.0;\n        this.MOVE_DIST_SMALL_REF = 5.0;\n        this.MOVE_DIST_SMALL = 8.0;\n    }\n\n    reset() {\n        this.last = null;\n        this.lastRef = null;\n        this.moving = false;\n        this.points = [];\n    }\n\n    start() {\n        this.reset();\n    }\n\n    addPoint(pt) {\n        this.points.push(mirrorPoint(pt));\n    }\n\n    checkMove(pt, ptref) {\n        if (this.lastRef === null) {\n            this.lastRef = ptref;\n            this.last = pt;\n            return;\n        }\n\n        var d = dist(ptref, this.lastRef);\n        if (d > this.MOVE_DIST_REF) {\n            this.moving = true;\n            this.addPoint(this.last);\n            this.last = pt;\n            this.lastRef = ptref;\n        }\n    }\n\n    validMove(pt, ptref) {\n        var dx1 = (ptref.x - this.lastRef.x);\n        var dx2 = (pt.x - this.last.x);\n        var dy1 = (ptref.y - this.lastRef.y);\n        var dy2 = (pt.y - this.last.y);\n        var valid_x = (((dx1 <= 0) && (dx2 <= 0)) || ((dx1 >= 0) && (dx2 >= 0)));\n        var valid_y = (((dy1 <= 0) && (dy2 <= 0)) || ((dy1 >= 0) && (dy2 >= 0)));\n        return (valid_x && valid_y);\n    }\n\n    handleMove(pt, ptref) {\n        var d = dist(ptref, this.lastRef);\n        if ((d > this.MOVE_DIST_SMALL_REF)) {\n            d = dist(pt, this.last);\n            if (d > this.MOVE_DIST_SMALL) {\n                this.addPoint(pt);\n                this.last = pt;\n                this.lastRef = ptref;\n            }\n        }\n    }\n\n    track(pt, ptref) {\n        if (this.moving) {\n            this.handleMove(pt, ptref);\n        } else {\n            this.checkMove(pt, ptref);\n        }\n    }\n}\n\n","import {Dragger} from './Dragger';\nimport AppInput from '../common/AppInput'\nimport canvas from '../common/Canvas'\nimport { mirrorPoint } from './Frame';\nimport menuState from '../common/MenuState';\nimport { reloadSideBar } from '../common/SideBarMenu/SideBarMenu';\n\nvar lastDrawMode = menuState.menus.smartDraw;\n\nvar clickTimer = null;\nconst DOUBLE_CLICK_DURATION = 0;\n\nfunction handleClick(pt) {\n    var mpt = mirrorPoint(pt);\n    if (clickTimer != null) {\n        window.clearTimeout(clickTimer);\n        clickTimer = null;\n        AppInput.dbclick(mpt.x, mpt.y);\n    } else {\n        clickTimer = window.setTimeout(() => {\n            clickTimer = null;\n            AppInput.click(mpt.x, mpt.y);\n        }, DOUBLE_CLICK_DURATION);\n    }\n}\n\nfunction updateSidebarMenus() {\n    if (reloadSideBar) {\n        reloadSideBar();\n    }\n}\n\nfunction captureDrawMode() {\n    if (menuState.selected == menuState.menus.smartDraw ||\n        menuState.selected == menuState.menus.draw) {\n            lastDrawMode = menuState.selected;\n    }\n}\n\nfunction setDrawMode() {\n    if (menuState.selected == menuState.menus.smartDraw ||\n        menuState.selected == menuState.menus.draw) {\n            return;\n    }\n    if (!(lastDrawMode == menuState.menus.draw ||\n        lastDrawMode == menuState.menus.smartDraw)) {\n            lastDrawMode = menuState.menus.smartDraw;\n    }\n    menuState.handleMenuClick(lastDrawMode);\n    menuState.popup = null;\n    updateSidebarMenus();\n}\n\nfunction setSelectionMode() {\n    if (menuState.selected == menuState.menus.selectionGroup &&\n        menuState.inputMode == menuState.modes.selection) {\n        return;\n    }\n\n    captureDrawMode();\n    menuState.handleMenuClick(menuState.menus.selection);\n    menuState.popup = null;\n    updateSidebarMenus();\n}\n\nfunction setEraseMode() {\n    if (menuState.selected == menuState.menus.erase) {\n        return;\n    }\n    \n    captureDrawMode();\n    menuState.handleMenuClick(menuState.menus.erase);\n    menuState.popup = null;\n    updateSidebarMenus();\n}\n\nfunction checkModeBeforeClick() {\n    if (menuState.selected == menuState.menus.smartDraw ||\n        menuState.selected == menuState.menus.draw) {\n            return;\n    }\n    setSelectionMode();\n}\n\nexport class Gesture {\n    constructor(id) {\n        this.dragger = new Dragger();\n        this.id = id;\n        this.ptidx = 0;\n    }\n    \n    done() {\n    }\n\n    move(landmarks) {\n    }\n\n    setMode() {\n    }\n\n    sendPoints() {\n        var pts = this.dragger.points;\n        if (pts.length > this.ptidx) {\n            if (this.ptidx == 0) {\n                this.setMode();\n                AppInput.drag(pts[0].x, pts[0].y, 0);\n                this.ptidx = 1;\n            }\n            while (this.ptidx < pts.length) {\n                AppInput.drag(pts[this.ptidx].x, pts[this.ptidx].y, 1);\n                this.ptidx++;\n            }\n        }\n    }\n\n    checkClick() {\n        if (!this.dragger.moving && this.dragger.last != null)  {\n            checkModeBeforeClick();\n            handleClick(this.dragger.last);\n            this.dragger.points = []\n        }\n    }\n\n    sendLastPoint() {\n        var pts = this.dragger.points;\n        if (pts.length > 0 && this.ptidx > 0) {\n            var lastpt = pts[pts.length - 1];\n            AppInput.drag(lastpt.x, lastpt.y, 2);\n        }\n        this.ptidx = 0;\n        this.dragger.reset();\n    }\n\n    activePoint() {\n        return -1;\n    }\n}\n\nexport class Drag1Gesture extends Gesture {\n    constructor() {\n        super(\"drag1\");\n    }\n\n    setMode() {\n        setSelectionMode();\n    }\n\n    move(landmarks) {\n        this.dragger.track(landmarks[4], landmarks[0]);\n        this.sendPoints();\n    }\n\n    done() {\n        this.checkClick();\n        this.sendLastPoint();\n    }\n\n    activePoint() {\n        return 4;\n    }\n}\n\nexport class Drag2Gesture extends Gesture {\n    constructor() {\n        super(\"drag2\");\n        \n    }\n\n    setMode() {\n        setDrawMode();\n    }\n\n    move(landmarks) {\n        this.dragger.track(landmarks[8], landmarks[0]);\n        this.sendPoints();\n    }\n\n    done() {\n        this.checkClick();\n        this.sendLastPoint()\n    }\n\n    activePoint() {\n        return 8;\n    }\n}\n\nexport class ThumbGesture extends Gesture {\n    constructor() {\n        super(\"thumb\");\n        this.dragger.MOVE_DIST_REF = 1.0;\n    }\n\n    setMode() {\n        setEraseMode();\n    }\n\n    move(landmarks) {\n        this.dragger.track(landmarks[4], landmarks[0]);\n        this.sendPoints();\n    }\n\n    done() {\n        this.sendLastPoint();\n    }\n\n    activePoint() {\n        return 4;\n    }\n}\n\nexport class PinchGesture extends Gesture {\n    constructor() {\n        super(\"pinch\");\n        this.dragger.MOVE_DIST_REF = 1.0;\n        this.dragger.MOVE_DIST_SMALL = 1.0;\n        this.dragger.MOVE_DIST_SMALL_REF = 2.0;\n    }\n\n    move(landmarks) {\n        this.dragger.track(landmarks[0], landmarks[0]);\n        var pts = this.dragger.points;\n        while (this.ptidx < pts.length) {\n            if (this.ptidx > 0) {\n                let p2 = pts[this.ptidx];\n                let p1 = pts[this.ptidx - 1];\n                canvas.moveDelta(p2.x - p1.x, p2.y - p1.y)\n            }\n            this.ptidx++;\n        }\n    \n    }\n\n    done() {\n        this.ptidx = 0;\n        this.dragger.reset();\n    }\n}\n\n","import {LineEq, inOrder, turnAngle} from './Geometry'\n\nclass Features {\n    constructor() {\n        this.backSide = false;\n\n        this.indexBent = false;\n        this.middleBent = false;\n        this.ringBent = false;\n\n        this.indexInOrder = false;\n        this.middleInOrder = false;\n        this.ringInOrder = false;\n\n        this.indexCurved = false;\n        this.middleCurved = false;\n        this.ringCurved = false;\n    }\n    print() {\n        console.log(\"idb:\", this.indexBent, \", midb\", \n        this.middleBent, \", rb\", this.ringBent, ', back:', this.backSide,\n        ', idxs', this.indexInOrder)\n    }\n}\n\nfunction getSide(p1, p2, p3) {\n    var eq = new LineEq(p1, p2);\n    return eq.pval(p3) >= 0;\n}\n\nfunction isCurved(p1, p2, p3, p4) {\n    var ta = turnAngle([p1, p2, p3, p4]);\n    var deg = (ta * 180) / Math.PI;\n    return Math.abs(deg) >= 90;\n}\n\nexport function getFeatures(pts) {\n    var features = new Features();\n    \n    features.indexBent = !inOrder([pts[0], pts[5], pts[8]]);\n    features.middleBent = !inOrder([pts[0], pts[9], pts[12]]);\n    features.ringBent = !inOrder([pts[0], pts[13], pts[16]]);\n\n    features.indexInOrder = inOrder([pts[5], pts[6], pts[7], pts[8]]);\n    //features.middleInOrder = inOrder([pts[9], pts[10], pts[11], pts[12]]);\n    //features.ringInOrder = inOrder([pts[13], pts[14], pts[15], pts[16]]);\n\n    features.indexCurved = isCurved(pts[5], pts[6], pts[7], pts[8]);\n    features.middleCurved = isCurved(pts[9], pts[10], pts[11], pts[12]);\n    features.ringCurved = isCurved(pts[13], pts[14], pts[15], pts[16]);\n                             \n    features.backSide = !getSide(pts[0], pts[5], pts[9]) || \n                        !getSide(pts[0], pts[5], pts[13]) ||\n                        !getSide(pts[0], pts[5], pts[17])\n    return features;\n}","import {Drag1Gesture, Drag2Gesture, ThumbGesture, PinchGesture, Gesture} from './Gestures'\nimport { mkpt } from './Frame';\nimport { getFeatures } from './LandmarksFeatures';\nimport { dist, LineSegment, inOrder } from './Geometry';\n\nvar drag1Active = false;\nvar drag2Active = false;\n\nfunction isDrag2(pts, features) {\n    if (features.backSide) {\n        return false;\n    }\n\n    if (features.indexBent || !features.middleBent ||\n        !features.ringBent || !features.indexInOrder) {\n        return false;\n    }\n    //const THREASHOLD_1 = 0.32;\n    //const THREASHOLD_2 = 0.42;\n    //var d1 = dist(pts[0], pts[5]);\n\n    const THREASHOLD_1 = 1.1;\n    const THREASHOLD_2 = 1.2;\n    var d1 = dist(pts[5], pts[9]);\n\n    if (dist(pts[10], pts[11]) < 0.0001) {\n        return false;\n    }\n    var seg = new LineSegment(pts[10], pts[11]);\n    var d2 = seg.distFrom(pts[4]);\n\n    var target1 = d1 * THREASHOLD_1;\n    var target2 = d1 * THREASHOLD_2;\n\n    if (!drag2Active) {\n        if (d2 < target1) {\n            drag2Active = true;\n        }\n    } else {\n        if (d2 > target2) {\n            drag2Active = false;\n        }\n    }\n    return drag2Active;\n}\n\nfunction isDrag1(pts, features) {\n    if (features.middleBent || features.ringBent || features.backSide) {\n        return false;\n    }\n\n    const THRESHOLD_1 = 0.3;\n    const THRESHOLD_2 = 0.4;\n    const THREASHOLD_3 = 0.5;\n\n    var d1 = dist(pts[0], pts[5]);\n\n    var dPinch = d1 * THREASHOLD_3;\n    var pinchLike = true;\n    for (let id of [8, 12, 16, 20]) {\n        let tmp = dist(pts[id], pts[4]);\n        if (tmp > dPinch) {\n            pinchLike = false;\n            break;\n        }\n    }\n    if (pinchLike) {\n        return false;\n    }\n\n    var d2 = dist(pts[4], pts[8]);\n    var factor = 100.0;\n    if (d1 !== 0) {\n        factor = d2 / d1;\n    }\n    if (drag1Active) {\n        if (factor > THRESHOLD_2) {\n            drag1Active = false;\n        }\n    } else {\n        if (factor < THRESHOLD_1) {\n            drag1Active = true;\n        }\n    }\n    return drag1Active;\n}\n\nfunction isThumb(pts, features) {\n    const FACTOR = 0.3;\n    var d1 = dist(pts[0], pts[5]) * FACTOR;\n    var d2 = dist(pts[4], pts[8]);\n    if (d2 < d1) {\n        return false;\n    }\n\n    if (features.indexBent && features.middleBent && features.ringBent) {\n        if (features.indexCurved || features.middleCurved || features.ringCurved) {\n            return true;\n        }\n    }\n    if (pts[4].y < pts[5].y && pts[4].y < pts[9].y && pts[4].y < pts[13].y) {\n        if (inOrder([pts[5], pts[8], pts[6]]) &&\n            inOrder([pts[9], pts[12], pts[10]]) &&\n            inOrder([pts[13], pts[16], pts[14]])) {\n            return true;\n        }\n    }\n    return false;\n}\n\nfunction isPinch(pts, features) {\n    const FACTOR = 0.4;\n    var d1 = dist(pts[0], pts[5]) * FACTOR;\n    for (let id of [8, 12, 16, 20]) {\n        let d2 = dist(pts[id], pts[4]);\n        if (d2 > d1) {\n            return false\n        } \n\n    }\n    return true;\n}\n\nexport class GestureRecognizer {\n    constructor(model) {\n        this.model = model;\n        this.drag1Gesture = new Drag1Gesture();\n        this.drag2Gesture = new Drag2Gesture();\n        this.thumbGesture = new ThumbGesture();\n        this.pinchGesture = new PinchGesture();\n        this.noopGesture = new Gesture(\"noop\");\n    }\n\n    get(landmarks) {\n        var pts = [];\n        for (let item of landmarks) {\n            pts.push(mkpt(item))\n        }\n    \n        var features = getFeatures(pts);\n        //features.print()\n\n        if (isPinch(pts, features)) {\n            return this.pinchGesture;\n        }\n\n        if (isThumb(pts, features)) {\n            return this.thumbGesture;\n        }\n\n        if (features.backSide) {\n            if (drag1Active) {\n                return this.drag1Gesture;\n            }\n            if (drag2Active) {\n                return this.drag2Gesture;\n            }\n\n            return this.noopGesture;\n        }\n\n        if (isDrag2(pts, features)) {\n            drag1Active = false;\n            return this.drag2Gesture;\n        }\n\n        if (isDrag1(pts, features)) {\n            drag2Active = false;\n            return this.drag1Gesture;\n        }\n\n        return this.noopGesture;\n    }\n}\n\n/*\n\n// older drag2 detector\n\nfunction isDrag2_1(pts, features) {\n    if (features.backSide) {\n        return false;\n    }\n\n    if (features.indexBent || !features.middleBent ||\n        !features.ringBent || !features.indexInOrder) {\n        return false;\n    }\n    const THREASHOLD_1 = 1.1\n    const THREASHOLD_2 = 0.9\n\n    function thumbMiddleOpposite(pts) {\n        var eq = new LineEq(pts[5], pts[6]);\n        return eq.crosses(pts[2], pts[10]);\n    }\n    \n    function thumbCorsses(pts) {\n        var eq = new LineEq(pts[5], pts[6]);\n        var seg = new LineSegment(pts[3], pts[4]);\n        var [it, _] = seg.intersectEq(eq);\n        return it;\n    }\n\n    function checkForCross(pts) {\n        var eq = new LineEq(pts[5], pts[6]);\n        var d1 = eq.distFrom(pts[4]);\n        var d2 = eq.distFrom(pts[10]);\n        if (d1 > (d2 / 4)) {\n            return true;\n        }\n        return false;\n    }\n\n    var opp = thumbMiddleOpposite(pts);\n    var crosses = thumbCorsses(pts);\n    if (opp && crosses) {\n        if (checkForCross(pts)) {\n            drag2Active = true;\n            return true;\n        }\n    }\n\n    var d1 = dist(pts[4], pts[10]);\n    var d2 = dist(pts[10], pts[11]);\n    var factor = 100.0;\n    if (d1 !== 0) {\n        factor = (d2 / d1);\n    }\n\n    if (drag2Active) {\n        if (factor < THREASHOLD_2) {\n            drag2Active = false;\n        }\n    } else {\n        if (factor > THREASHOLD_1) {\n            drag2Active = true;\n        }\n    }\n    return drag2Active;\n}\n\n// Neural network based gesture identification\n\nvar gesturesNames = {\n    0: \"drag1\",\n    1: \"drag2\",\n    2: \"thumb\",\n    3: \"pinch\",\n    4: \"thumb_index\",\n    5: \"open\",\n    6: \"other\"\n};\n\n    predict(landmarks) {\n        var arr = [];\n        for (let item of landmarks) {\n            arr.push(item.x);\n            arr.push(item.y);\n            arr.push(item.z);\n        }\n        if (arr.length != 63) {\n            return 6;\n        }\n        var inp = window.tf.tensor2d([arr]);\n        var out = this.model.predict(inp);\n        var idx = out.argMax(-1).arraySync()[0]\n        return idx\n    }\n\n    get2(landmarks) {\n        var ges, idx, pts;\n        idx = this.predict(landmarks);\n        pts = [];\n        for (let item of landmarks) {\n            pts.push(mkpt(item))\n        }\n    \n        var features = getFeatures(pts);\n        features.print();\n\n        ges = this.checkDrag2(idx, pts);\n        if (ges !== null) {\n            deactivateDrag1();\n            return ges;\n        }\n        ges = this.checkDrag1(idx, pts);\n        if (ges !== null) {\n            return ges;\n        }\n        ges = this.checkThumb(idx, pts);\n        if (ges !== null) {\n            return ges;\n        }\n        ges = this.checkPinch(idx, pts);\n        if (ges !== null) {\n            return ges;\n        }\n        return this.noopGesture;\n    }\n\n    checkPinch(idx, pts) {\n        if (idx === 3) {\n            return this.pinchGesture;\n        }\n        return null;\n    }\n\n    checkThumb(idx, pts) {\n        if (idx === 2) {\n            return this.thumbGesture;\n        }\n        return null;\n    }\n\n    checkDrag1(idx, pts) {\n        if (!(idx === 0 || idx === 4) || idx === 5) {\n            deactivateDrag1();\n            return null;\n        }\n\n        if (checkDrag1(pts)) {\n            return this.drag1Gesture;\n        }\n        return null;\n    }\n\n    checkDrag2(idx, pts) {\n        if (!(idx === 1 || idx === 2 || idx === 4)) {\n            deactivateDrag2();\n            return null;\n        }\n\n        if (checkDrag2(pts)) {\n            return this.drag2Gesture;\n        }\n        return null;\n    }\n\n// ------------ Drag1Recognizer.js -----------\nimport {dist} from './Geometry';\n\nvar active = false;\n\nconst THRESHOLD_1 = 0.3;\nconst THRESHOLD_2 = 0.4;\n\nexport function deactivateDrag1() {\n    active = false;\n}\n\nexport function checkDrag1(pts) {\n    var d1, d2, factor;\n    d1 = dist(pts[0], pts[5]);\n    d2 = dist(pts[4], pts[8]);\n    factor = 100.0;\n    if (d1 !== 0) {\n        factor = d2 / d1;\n    }\n    if (active) {\n        if (factor > THRESHOLD_2) {\n            active = false;\n        }\n    } else {\n        if (factor < THRESHOLD_1) {\n            active = true;\n        }\n    }\n    return active;\n}\n\n// ------------ Drag2Recognizer.js -----------\nimport {LineEq, LineSegment, dist} from './Geometry';\n\nvar active = false;\nconst THRESHOLD_1 = 1.1;\nconst THRESHOLD_2 = 0.9;\n\nfunction bentForward(pts) {\n    var eq, eq2;\n    eq = new LineEq(pts[0], pts[9]);\n    eq2 = eq.perp(pts[9]);\n    return (! eq2.crosses(pts[0], pts[10]));\n}\n\nfunction thumbMiddleOpposite(pts) {\n    var eq;\n    eq = new LineEq(pts[5], pts[6]);\n    return eq.crosses(pts[2], pts[10]);\n}\n\nfunction thumbCorsses(pts) {\n    var _, eq, it, seg;\n    eq = new LineEq(pts[5], pts[6]);\n    seg = new LineSegment(pts[3], pts[4]);\n    [it, _] = seg.intersectEq(eq);\n    return it;\n}\n\nexport function deactivateDrag2() {\n    active = false;\n}\n\nfunction checkForCross(pts) {\n    var d1, d2, eq;\n    eq = new LineEq(pts[5], pts[6]);\n    d1 = eq.distFrom(pts[4]);\n    d2 = eq.distFrom(pts[10]);\n    if ((d1 > (d2 / 4))) {\n        return true;\n    }\n    return false;\n}\n\nexport function checkDrag2(pts) {\n    var bent, crosses, d1, d2, factor, opp;\n    bent = bentForward(pts);\n    opp = thumbMiddleOpposite(pts);\n    crosses = thumbCorsses(pts);\n    if ((((! bent) && opp) && crosses)) {\n        if (checkForCross(pts)) {\n            active = true;\n            return active;\n        }\n    }\n    d1 = dist(pts[4], pts[10]);\n    d2 = dist(pts[10], pts[11]);\n    factor = 100.0;\n    if ((d1 !== 0)) {\n        factor = (d2 / d1);\n    }\n    if (active) {\n        if (factor < THRESHOLD_2) {\n            active = false;\n        }\n    } else {\n        if (factor > THRESHOLD_1) {\n            active = true;\n        }\n    }\n    return active;\n}\n\n\n\n*/","\nimport command from '../common/Command'\n\nconst UNDO_GAP = 2500;\n\nvar lastGesture = null;\nvar lastUndoAt = -1;\n\nfunction finishUndo() {\n    if (lastUndoAt < 0) {\n        lastUndoAt = Date.now();\n        return;\n    }\n    if ((Date.now() - lastUndoAt) < UNDO_GAP) {\n        //command.undo();\n        lastUndoAt = -1;\n    } else {\n        lastUndoAt = Date.now();\n    }\n}\n\nexport function handleGestureTransient(gesture) {\n    if (lastGesture === null) {\n        lastGesture = gesture;\n        return;\n    }\n\n    if (lastGesture.id === \"thumb\" && gesture.id === \"noop\") {\n        finishUndo();\n    }\n\n    lastGesture = gesture;\n}\n\n","import {GestureRecognizer} from './GestureRecognizer';\nimport {handleGestureTransient} from './Transient';\nimport { \n    mkpt, \n    setCanvas,\n    drawLandmarks,\n    showInit,\n    showCameraImage,\n    clearCameraCanvas,\n    clearLandmarkCanvas,\n    showFlashMessage,\n    drawActivePoint\n    } from './Frame';\n\nvar PENDING_THRESHOLD = 30;\n\nvar gestureRecognizer = null;\nvar prevGesture = null;\nvar timer = null;\nvar pendingGesture = null;\n\nvar initStartTime = null;\nvar flashDuration = -1;\n\nvar showingVideo = false;\nvar flashing = true;\n\nfunction handleLast(curGesture) {\n    if (pendingGesture != null && curGesture.id != 'noop') {\n        if (timer != null) {\n            window.clearTimeout(timer);\n            timer = null;\n        }\n        if (pendingGesture.id != curGesture.id) {\n            pendingGesture.done();\n        }\n        pendingGesture = null;\n    }\n\n    if (prevGesture != null && prevGesture.id != curGesture.id) {\n        if ((prevGesture.id == 'drag1' || prevGesture.id == 'drag2') &&\n            prevGesture.dragger.moving &&\n            curGesture.id == 'noop') {\n            pendingGesture = prevGesture;\n            timer = window.setTimeout(()=> {\n                if (pendingGesture != null) {\n                    pendingGesture.done()\n                    pendingGesture = null;\n                    timer = null;\n                }\n            }, PENDING_THRESHOLD);\n        } else {\n            prevGesture.done();\n        }\n    }\n\n    prevGesture = curGesture;\n}\n\nfunction handle(landmarks, hand) {\n    if ((hand.toLowerCase() === \"right\")) {\n        return;\n    }\n    drawLandmarks(landmarks);\n\n    var pts = []\n    for (let item of landmarks) {\n        pts.push(mkpt(item))\n    }\n\n    var curGesture = gestureRecognizer.get(landmarks);\n    handleLast(curGesture);\n    handleGestureTransient(curGesture);\n    curGesture.move(pts);\n    var activeptIdx = curGesture.activePoint();\n    if (activeptIdx >= 0) {\n        drawActivePoint(landmarks[activeptIdx]);\n    }\n}\n\nfunction showVideo(results) {\n    if (!showingVideo && !flashing) {\n        return;\n    }\n    showCameraImage(results.image)\n\n    if (flashing) {\n        var now = Date.now()\n        if (now - initStartTime > flashDuration) {\n            flashing = false;\n            clearCameraCanvas();\n        } else {\n            showFlashMessage();\n        }\n    }\n}\n\nexport var handleLandmarkResults = (results) => {\n    clearLandmarkCanvas();\n    showVideo(results);\n    \n    if (results.multiHandLandmarks && results.multiHandLandmarks.length > 0) {\n        var lms = {left: [], right: []}\n        var used = new Set();\n        for (let item of results.multiHandedness) {\n            let idx = item.index;\n            if (results.multiHandLandmarks.length > idx && !used.has(idx)) {\n                used.add(idx);\n                let hand = item.label.toLowerCase();\n                if (hand == \"left\") {\n                    lms.left.push(results.multiHandLandmarks[idx]);\n                } else if (hand == \"right\"){\n                    lms.right.push(results.multiHandLandmarks[idx]);\n                }\n            }\n        }\n        for (let item of lms.left) {\n            handle(item, 'left')\n        }\n    }\n}\n\nexport function initLandmarkHandler(canvasElement, cameraCanvas) {\n    initStartTime = Date.now();\n    if (gestureRecognizer == null) {\n        gestureRecognizer = new GestureRecognizer(null);\n    }\n    if (flashing) {\n        flashDuration = 7 * 1000;\n    } else {\n        flashDuration = 0;\n    }\n    showingVideo = false;\n\n    setCanvas(canvasElement, cameraCanvas);\n    showInit();\n}\n\nexport function showCameraVideo(val) {\n    clearCameraCanvas();\n    showingVideo = val;\n}\n\nexport default handleLandmarkResults;\n\n\n//var model = null;\n//var loadingModel = false;\n//\n//function loadModel() {\n//    window.tf.loadGraphModel('/mlmodels/v1/model.json').then((m) =>{\n//        model = m;\n//        gestureRecognizer = new GestureRecognizer(m);\n//    }).catch((e) => {\n//        loadingModel = false;\n//        console.log(e);\n//    });\n//}","import \"./Gestures.css\"\n\nimport {handleLandmarkResults, initLandmarkHandler, showCameraVideo} from \"./LandmarkHandler\";\nimport React, { useRef, useEffect } from 'react'\nimport {FaAngleDown, FaVideo} from 'react-icons/fa'\nimport { Button} from '@material-ui/core';\n\nvar devices = [];\nconst getDevices = () => {\n    devices = [];\n    navigator.mediaDevices.enumerateDevices()\n    .then((deviceInfos) => {\n        for (const deviceInfo of deviceInfos) {\n            if (deviceInfo.kind === 'videoinput') {\n              var dev = {name: deviceInfo.label, id: deviceInfo.deviceId}\n              devices.push(dev);\n            }\n          }\n    })\n}\n\nconst GesturePanel = () => {\n    var [showList, setShowList] = React.useState(false);\n    var [showCamera, setShowCamera] = React.useState(false);\n    var [initialized, setInitialized] = React.useState(false)\n    \n    useEffect(() => {\n        getDevices();\n        startCamera();\n    }, []);\n\n    function startMediapipe(devId) {\n        console.log(\"Initializing mediapipe\");\n        window.frames[0].startCamera(devId, (results) => {\n            handleLandmarkResults(results)\n        });\n    }\n    function startCamera() {\n        var outCanvas = document.getElementById('gestureCanvas');\n        var cameraCanvas = document.getElementById('cameraCanvas');\n        const iframe = document.getElementById('mpframe');\n        if (!iframe || !outCanvas || !cameraCanvas) {\n            window.setTimeout(() => {\n                startCamera();\n            }, 10)\n        }\n        initLandmarkHandler(outCanvas, cameraCanvas);\n        iframe.addEventListener('load', () => {\n            setInitialized(true);\n            startMediapipe(null);\n        }, true);\n    }\n\n    const onListChange = (event) => {\n        console.log(event.target.value)\n        setShowList(false);\n        startMediapipe(event.target.value)\n    }\n\n    const onShowCamera = (event) => {\n        if (initialized) {\n            showCameraVideo(!showCamera)\n            setShowCamera(!showCamera);\n        }\n    }\n\n    const onShowList = (event) => {\n        if (initialized && devices.length > 0) {\n            setShowList(!showList);\n        }\n    }\n\n    return <><div className=\"gesture_panel\">\n            <canvas id=\"gestureCanvas\" width=\"1280px\" height=\"720px\"></canvas>\n            <iframe src=\"/mediapipe/mp.html\" title=\"A\" id=\"mpframe\" width=\"0\" height=\"0\"></iframe> \n        </div>\n        <Button className=\"listCameraButton\" onClick={onShowList}><FaAngleDown /></Button>\n        <Button className=\"showCameraVideoButton\" onClick={onShowCamera}><FaVideo /></Button>\n        {showList &&\n        <select name='option' className=\"cameraDropDown\" size=\"4\" onChange={onListChange}>\n            {devices.map((dev) => {\n                return <option key={dev.id} value={dev.id}>{dev.name}</option>\n            })}\n        </select>\n        }\n    </>\n}\n\nexport default GesturePanel;\n\n\n/*\nfunction includeScript() {\n    var lib = 'https://cdn.jsdelivr.net/npm/@tensorflow/tfjs/dist/tf.min.js';\n    var loaded = document.querySelectorAll('[src=\"' + lib + '\"]').length > 0;\n    if (!loaded) {\n        const script = document.createElement(\"script\");\n        script.src = lib;\n        script.async = false;\n        script.crossorigin = 'anonymous';\n        document.body.appendChild(script);\n    }\n}\n*/","import './App.css';\nimport AppMenu from './common/Header/Menu';\nimport Footer from './common/Footer/Footer';\nimport SideBarMenu from './common/SideBarMenu/SideBarMenu';\nimport Content from './common/SideBarMenu/Content';\nimport Layover from './common/Layover';\nimport React from \"react\";\nimport initializer from './common/AppInit'\nimport ContextMenu from './common/ContextMenu'\nimport AppInput from './common/AppInput'\nimport menuState from './common/MenuState'\nimport keyboardInput from './common/KeyboardInput'\nimport {DragPanel} from './draggable/Panel'\nimport {ShapeProps} from './shapeprops/ShapeProps';\nimport QuickTip from './tip/QuickTip';\nimport userInfo from './utils/UserInfo';\nimport docInfo from './utils/DocInfo'\nimport {claimDoc} from './utils/ApiRequests'\nimport GesturePanel from './gestures/GesturePanel';\n\nclass AppComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      wsState: \"init\",\n      dialog: null, \n      ctxMenu: false,\n      ctxMenuPos:{x:0, y:0}, \n      sideMenuSelectedItem: menuState.selected,\n      isLoggedIn: userInfo.isLoggedIn(),\n      docInfoState: docInfo.state,\n      cameraActive: false\n    };\n    this.wsCallback = this.handleWSState.bind(this);\n    this.showDialog = this.showDialog.bind(this);\n    this.showContextMenu = this.showContextMenu.bind(this);\n\n    menuState.event.addListener((e) => {\n      if (this.state.cameraActive != menuState.cameraActive) {\n        this.setState({cameraActive: menuState.cameraActive})\n      }\n    });\n\n    userInfo.onChange = () => {\n      if (this.state.isLoggedIn && !userInfo.isLoggedIn()) {\n        // user logged out, reload the page\n        window.location.reload();\n        return;\n      }\n      if (this.state.isLoggedIn && userInfo.isLoggedIn()) {\n        return;\n      }\n\n      this.setState({isLoggedIn: userInfo.isLoggedIn()});\n      docInfo.get();\n    }\n\n    docInfo.onChange = () => {\n      this.setState({docInfoState: docInfo.state});\n      initializer.onDocDetailFetch();\n    }\n    userInfo.get();\n  }\n\n  handleWSState(state) {\n    this.setState({wsState: state});\n  }\n\n  showDialog(dialog) {\n    this.setState({dialog:dialog});\n  }\n\n  showContextMenu(show, x, y) {\n    if (show) {\n      this.setState({ctxMenu: true, ctxMenuPos:{x:x, y:y}});  \n    } else {\n      this.setState({ctxMenu: false});\n    }\n  }\n\n  render() {\n    const loading =\n      (this.state.wsState != \"ready\" && this.state.wsState != \"offline\") || \n      userInfo.state == 'loading' ||\n      (userInfo.isLoggedIn() && docInfo.state == 'loading');\n  \n    var layover = null;\n    if (loading) {\n      layover = <div className=\"layover\"><Layover wsstate={this.state.wsState}/></div>;\n    }\n    keyboardInput.showingDialog = this.state.dialog != null || layover != null || this.state.ctxMenu;\n    var readOnly = window.wsmanager && window.wsmanager.readOnly();\n    var docName = docInfo.data.name || '';\n    if (docName.length > 34) {\n      docName = docName.substr(0, 32) + '..';\n    }\n    const moveDoc = () => {\n      claimDoc(docInfo.docid).then(()=>{\n        window.location.reload();\n      }).catch((err) =>{\n      })\n    }\n    let loginLink = <a target=\"_blank\" href=\"/#/login\" className=\"help-link\">Login</a>;\n    let moveLink = <a href=\"javascript:void(0)\" onClick={moveDoc} className=\"help-link\">Move</a>;\n    \n    return (\n      <div className=\"container\">\n        <Content />\n        <div className=\"top-right\">\n          {!loading && !userInfo.isLoggedIn() && <a target=\"_blank\" href=\"/#/login\" className=\"help-link top-right-login\">Login</a>}\n          <a target=\"_blank\" href=\"https://lekh.app/help.html\" className=\"help-link\">Help</a>\n        </div>\n        <div className=\"top-left-menu\">\n          <AppMenu showDialog={this.showDialog}/>\n        </div>\n        <div className=\"top-center-info\">\n          {userInfo.isLoggedIn() && !docInfo.data.public && <span>{docName}</span>}\n          {userInfo.isLoggedIn() && docInfo.data.public && <span>{moveLink} this trial board into your account</span>}\n          {!loading && !userInfo.isLoggedIn() && !docInfo.data.public && <span>{docName}</span>}\n          {!loading && !userInfo.isLoggedIn() && docInfo.data.public && <span>{loginLink} to save this trial board</span>}\n        </div>\n        {!readOnly && <div className=\"side-bar\">\n           <SideBarMenu />\n        </div>}\n        <div className=\"footer-area\">\n          <Footer/>\n        </div>\n        {menuState.cameraActive && <GesturePanel></GesturePanel>}\n        {layover}\n        {this.state.dialog}\n        {this.state.ctxMenu && <ContextMenu showHandler={this.showContextMenu} pos={this.state.ctxMenuPos}/>}\n        <DragPanel></DragPanel>\n        <ShapeProps></ShapeProps>\n        {!loading && <QuickTip></QuickTip>}\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    initializer.init(this.wsCallback);\n    AppInput.showContextMenu = this.showContextMenu;\n  }\n}\n\nexport default AppComponent;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\"\n// import \"../../assests/index.css\"\n// import \"../../assests/page.css\"\n\nconst AuthLayout = ({ children }) => {\n  return (\n    <div className=\"w-full h-full bg-white\">\n      <div className=\"global-container\">{children}</div>\n    </div>\n  )\n}\n\nexport default AuthLayout\n","import React from \"react\";\n\nconst ModalContainer = ({ children, parentOnClick }) => {\n  return (\n    <div\n      className=\"fixed top-30 left-0 right-0 bottom-0 w-screen h-screen bg-gray-200 bg-opacity-30 z-30\"\n      onClick={parentOnClick}\n    >\n      {children}\n    </div>\n  );\n};\n\nexport default ModalContainer;\n","import React from \"react\"\nimport ModalContainer from \"../ModalContainer/ModalContainer\"\n// import MiniLoader from \"./MiniLoader\"\n\nconst FullLoader = () => {\n  return (\n    <ModalContainer>\n      <div className=\"h-full w-full flex justify-center items-center\">\n        <div className=\"loading-spinner loading-spinner-big\"></div>\n      </div>\n    </ModalContainer>\n  )\n}\n\nexport default FullLoader\n","const { useLocation } = require(\"react-router-dom\")\n\nexport function useQuery() {\n  return new URLSearchParams(useLocation().search)\n}\n","import React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n// import InputField from \"../../components/InputField/InputField\"\n// import { Link } from \"react-router-dom\"\n// import MiniLoader from \"../../components/Loaders/MiniLoader\"\nimport { confirmAccount } from \"../../utils/ApiRequests\";\nimport FullLoader from \"../../components/Loaders/FullLoader\";\nimport { useQuery } from \"../../hooks/useQuery\";\nimport { toast } from \"react-toastify\";\n\nconst ConfirmUser = () => {\n  const [loading, setLoading] = useState(true);\n  const query = useQuery();\n  const history = useHistory();\n  const code = query.get(\"code\");\n  // console.log(code)\n  useEffect(() => {\n    confirmAccount({\n      code: code\n    })\n      .then(res => {\n        // console.log(res.data)\n        history.push(\"/login\");\n      })\n      .catch(err => {\n        history.push(\"/login\");\n        toast.error(\"Link is expired\");\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [code]);\n\n  return (\n    <div className=\"w-full min-h-screen flex justify-center items-center \">\n      {loading && <FullLoader />}\n    </div>\n  );\n};\n\nexport default ConfirmUser;\n","import React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport {\n  setExpiryTimeToStorage,\n  setRefreshTokenToStorage\n} from \"../../utils/ApiUtils\";\nimport { login } from \"../../utils/ApiRequests\";\nimport FullLoader from \"../../components/Loaders/FullLoader\";\nimport { useQuery } from \"../../hooks/useQuery\";\nimport { toast } from \"react-toastify\";\n\nconst ConfirmLogin = () => {\n  const [loading, setLoading] = useState(true);\n  const query = useQuery();\n  const history = useHistory();\n  const code = query.get(\"code\");\n\n  useEffect(() => {\n    login({\n      code: code\n    })\n      .then(res => {\n        // console.log(res.data)\n        // toast.success(\"Login Successful\");\n        setRefreshTokenToStorage(res.data.refresh_token);\n        setExpiryTimeToStorage(res.data.expires_at);\n        history.push(\"/docs/mydocs\");\n      })\n      .catch(err => {\n        history.push(\"/login\");\n        toast.error(err?.response?.data?.message);\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [code]);\n\n  return (\n    <div className=\"w-full min-h-screen flex justify-center items-center \">\n      {loading && <FullLoader />}\n    </div>\n  );\n};\n\nexport default ConfirmLogin;\n","import React, { useState } from \"react\";\nimport InputField from \"../../components/InputField/InputField\";\nimport { Link } from \"react-router-dom\";\nimport MiniLoader from \"../../components/Loaders/MiniLoader\";\nimport { login } from \"../../utils/ApiRequests\";\nimport { toast } from \"react-toastify\";\nimport {\n  setExpiryTimeToStorage,\n  setRefreshTokenToStorage\n  // setTokenToStorage\n} from \"../../utils/ApiUtils\";\nimport { GrMail } from \"react-icons/gr\";\nimport { useHistory } from \"react-router-dom\";\n\nconst EmailLogin = () => {\n  const [loginForm, setloginForm] = useState({\n    email: \"\"\n  });\n  const [loading, setLoading] = useState(false);\n  const history = useHistory();\n  const [successText, showSuccessText] = useState(false);\n  const [error, setError] = useState(null);\n\n  const handleChange = e => {\n    const name = e.target.name;\n    const value = e.target.value;\n    const newEntry = { [name]: value };\n    setloginForm({ ...loginForm, ...newEntry });\n  };\n\n  const proceed = () => {\n    if (loginForm.email === \"\") {\n      return false;\n    }\n    return true;\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setLoading(true);\n\n    login(loginForm)\n      .then(res => {\n        showSuccessText(true);\n      })\n      .catch(err => {\n        // console.log(err.response)\n        // toast.error(\"Invalid email or password\")\n        setError(err?.response?.data?.message);\n      })\n      .finally(() => setLoading(false));\n  };\n\n  return (\n    <div className=\"w-full min-h-screen flex justify-center items-center \">\n      <form\n        //   className=\"\"\n        onSubmit={handleSubmit}\n        className=\"w-full lg:w-3/5 px-5 lg:px-10 py-3 lg:py-6 shadow-md\"\n      >\n        <h1 className=\"font-medium text-xl  text-center mb-7\">\n          Sign in to Lekh{\" \"}\n        </h1>\n\n        <>\n          <InputField\n            name=\"email\"\n            label=\"Email\"\n            placeholder=\"you@address.com\"\n            required={true}\n            type=\"email\"\n            handleChange={handleChange}\n            value={loginForm.email}\n          />\n          {error && !loading && (\n            <span className=\"-mt-3 block italic text-red-500 text-sm\">\n              {error}\n            </span>\n          )}\n\n          {successText && (\n            <p className=\"-mt-3 italic font-medium\">\n              Please open the link you received in the email to login\n            </p>\n          )}\n        </>\n\n        <div className=\"flex \">\n          {loading ? (\n            <MiniLoader />\n          ) : (\n            <button\n              type=\"submit\"\n              className={`py-2 lg:py-3.5 px-12 font-Poppins bg-lkhRed text-white rounded-3xl outline-none border-0 ${\n                !proceed() ? \"bg-lkhGrey cursor-not-allowed\" : \"\"\n              }`}\n              disabled={!proceed()}\n            >\n              Log In\n            </button>\n          )}\n        </div>\n\n        <div className=\"flex items-center gap-2 mt-5 lg:flex-row flex-col\">\n          <button\n            className=\"flex items-center space-x-2 py-1 bg-white border-1 outline-none px-4 text-lg\"\n            onClick={e => {\n              history.push(\"/login\");\n            }}\n          >\n            {/* <GrMail /> */}\n            <span>Return to Sign In</span>\n          </button>\n\n          {/* <GoogleLogin\n            render={render => (\n              <button className=\"flex items-center space-x-2 py-1 bg-white border-1 outline-none px-4 text-lg\">\n                <img\n                  src={require(\"../../assests/icons/google.svg\").default}\n                  alt=\"Google\"\n                />{\" \"}\n                <span>Sign in with Google</span>\n              </button>\n            )}\n          /> */}\n        </div>\n\n        <div className=\"space-y-1 mt-2\">\n          <Link to=\"/forgot\" className=\"text-lg font-medium block\">\n            Forgot Password?\n          </Link>\n\n          <p className=\"text-lg font-medium m-0\">\n            Don't have an account?{\" \"}\n            <Link to=\"/sign-up\" className=\"font-normal\">\n              Sign up here\n            </Link>\n          </p>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default EmailLogin;\n","import React, { useState } from \"react\";\nimport InputField from \"../../components/InputField/InputField\";\nimport { Link } from \"react-router-dom\";\nimport MiniLoader from \"../../components/Loaders/MiniLoader\";\nimport { forgotPassword } from \"../../utils/ApiRequests\";\nimport { toast } from \"react-toastify\";\n\nconst Forgot = () => {\n  const [passwordForm, setpasswordForm] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(false);\n\n  const handleChange = e => {\n    const name = e.target.name;\n    const value = e.target.value;\n    const newEntry = { [name]: value };\n    setpasswordForm({ ...passwordForm, ...newEntry });\n  };\n\n  const proceed = () => {\n    if (passwordForm.email === \"\") {\n      return false;\n    }\n    return true;\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setLoading(true);\n    forgotPassword(passwordForm)\n      .then(res => {\n        setSuccess(true);\n      })\n      .catch(err => {\n        setError(\"Invalid email\");\n      })\n      .finally(() => setLoading(false));\n  };\n\n  return (\n    <div className=\"w-full min-h-screen flex justify-center items-center \">\n      <form\n        //   className=\"\"\n        onSubmit={handleSubmit}\n        className=\"w-full lg:w-3/5 px-5 lg:px-10 py-3 lg:py-6 shadow-md\"\n      >\n        <h1 className=\"font-medium text-xl  text-center mb-7\">\n          Forgot Password{\" \"}\n        </h1>\n\n        <InputField\n          name=\"email\"\n          label=\"Email\"\n          placeholder=\"you@address.com\"\n          required={true}\n          type=\"email\"\n          handleChange={handleChange}\n          value={passwordForm.email}\n        />\n        {success && !loading && (\n          <p className=\"-mt-3 italic font-medium\">\n            Please proceed to your mail\n          </p>\n        )}\n        {error && !loading && (\n          <span className=\"-mt-3 block italic text-red-500 text-sm\">\n            {error}\n          </span>\n        )}\n\n        <div className=\"flex \">\n          {loading ? (\n            <MiniLoader />\n          ) : (\n            <button\n              type=\"submit\"\n              className={`py-2 lg:py-3.5 px-12 font-Poppins bg-lkhRed text-white rounded-3xl outline-none border-0 ${\n                !proceed() ? \"bg-lkhGrey cursor-not-allowed\" : \"\"\n              }`}\n              disabled={!proceed()}\n            >\n              Forgot Password\n            </button>\n          )}\n        </div>\n\n        <div className=\"space-y-1 mt-2\">\n          {/* <Link to=\"/forgot\" className=\"text-lg font-medium block\">\n            Forgot Password?\n          </Link> */}\n          <p className=\"text-lg font-medium\">\n            Have an account?{\" \"}\n            <Link to=\"/login\" className=\"font-normal\">\n              Log in\n            </Link>\n          </p>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default Forgot;\n","import React, { useState } from \"react\";\nimport InputField from \"../../components/InputField/InputField\";\nimport { Link } from \"react-router-dom\";\nimport MiniLoader from \"../../components/Loaders/MiniLoader\";\nimport { login, loginWithGoogle } from \"../../utils/ApiRequests\";\nimport { toast } from \"react-toastify\";\nimport { GoogleLogin } from \"react-google-login\";\nimport {\n  setExpiryTimeToStorage,\n  setRefreshTokenToStorage\n  // setTokenToStorage\n} from \"../../utils/ApiUtils\";\nimport { GrMail } from \"react-icons/gr\";\nimport { useHistory } from \"react-router-dom\";\n\nconst Login = () => {\n  const [loginForm, setloginForm] = useState({\n    email: \"\",\n    password: \"\",\n    code: \"\"\n  });\n  const [loading, setLoading] = useState(false);\n  const [formType, setFormType] = useState(\"regular\");\n  const [error, setError] = useState(null);\n  const history = useHistory();\n  const [successText, showSuccessText] = useState(false);\n\n  const handleChange = e => {\n    const name = e.target.name;\n    const value = e.target.value;\n    const newEntry = { [name]: value };\n    setloginForm({ ...loginForm, ...newEntry });\n  };\n\n  const proceed = () => {\n    if (\n      (loginForm.email === \"\" || loginForm.password === \"\") &&\n      formType === \"regular\"\n    ) {\n      return false;\n    }\n    return true;\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setLoading(true);\n\n    if (formType === \"email\") {\n      setloginForm({ ...loginForm, ...{ password: null } });\n    }\n\n    login(loginForm)\n      .then(res => {\n        if (formType === \"email\") {\n          showSuccessText(true);\n        } else {\n          setRefreshTokenToStorage(res.data.refresh_token);\n          setExpiryTimeToStorage(res.data.expires_at);\n          history.push(\"/docs/mydocs\");\n        }\n      })\n      .catch(err => {\n        setError(err?.response?.data?.message);\n      })\n      .finally(() => setLoading(false));\n  };\n\n  const handleGoogleLogin = async googleData => {\n    let res = null;\n    try {\n      res = await loginWithGoogle({token: googleData.tokenId});\n    } catch (err) {\n      setError(err?.response?.data?.message);\n      setLoading(false);\n      return;\n    }\n    setRefreshTokenToStorage(res.data.refresh_token);\n    setExpiryTimeToStorage(res.data.expires_at);\n    history.push(\"/docs/mydocs\");\n    setLoading(false);\n  }\n\n  return (\n    <div className=\"w-full min-h-screen flex justify-center items-center \">\n      <form\n        //   className=\"\"\n        onSubmit={handleSubmit}\n        className=\"w-full lg:w-3/5 px-5 lg:px-10 py-3 lg:py-6 shadow-md\"\n      >\n        <h1 className=\"font-medium text-xl  text-center mb-7\">\n          Sign in to Lekh{\" \"}\n        </h1>\n\n        <>\n          <InputField\n            name=\"email\"\n            label=\"Email\"\n            placeholder=\"you@address.com\"\n            required={true}\n            type=\"email\"\n            handleChange={handleChange}\n            value={loginForm.email}\n          />\n\n          <InputField\n            name=\"password\"\n            type=\"password\"\n            placeholder=\"Password\"\n            required={true}\n            label=\"Password\"\n            value={loginForm.password}\n            handleChange={handleChange}\n          />\n\n          {error && !loading && (\n            <span className=\"-mt-3 block italic text-red-500 text-sm\">\n              {error}\n            </span>\n          )}\n        </>\n\n        <div className=\"flex \">\n          {loading ? (\n            <MiniLoader />\n          ) : (\n            <button\n              type=\"submit\"\n              className={`py-2 lg:py-3.5 px-12 font-Poppins bg-lkhRed text-white rounded-3xl outline-none border-0 ${\n                !proceed() ? \"bg-lkhGrey cursor-not-allowed\" : \"\"\n              }`}\n              disabled={!proceed()}\n            >\n              Log In\n            </button>\n          )}\n        </div>\n\n        <div className=\"flex items-center gap-2 mt-5 lg:flex-row flex-col\">\n          <button\n            className=\"flex items-center space-x-2 py-1 bg-white border-1 outline-none px-4 text-lg\"\n            onClick={e => {\n              history.push(\"/passwordless-login\");\n            }}\n          >\n            <GrMail />\n            <span>Login without password</span>\n          </button>\n\n          {/* <GoogleLogin\n            render={render => (\n              <button className=\"flex items-center space-x-2 py-1 bg-white border-1 outline-none px-4 text-lg\">\n                <img\n                  src={require(\"../../assests/icons/google.svg\").default}\n                  alt=\"Google\"\n                />{\" \"}\n                <span>Sign in with Google</span>\n              </button>\n            )}\n          /> */}\n        </div>\n        {/*<GoogleLogin\n          clientId={\"10145530965-qqoheu39gba07e38hi7obqjhtihhrpb9.apps.googleusercontent.com\"}\n          buttonText=\"Log in with Google\"\n          onSuccess={handleGoogleLogin}\n          onFailure={handleGoogleLogin}\n          cookiePolicy={'single_host_origin'}\n        />*/}\n\n        <div className=\"space-y-1 mt-2\">\n          <Link to=\"/forgot\" className=\"text-lg font-medium block\">\n            Forgot Password?\n          </Link>\n\n          <p className=\"text-lg font-medium m-0\">\n            Don't have an account?{\" \"}\n            <Link to=\"/sign-up\" className=\"font-normal\">\n              Sign up here\n            </Link>\n          </p>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default Login;\n","import React, { useState } from \"react\";\nimport InputField from \"../../components/InputField/InputField\";\nimport { Link } from \"react-router-dom\";\nimport MiniLoader from \"../../components/Loaders/MiniLoader\";\nimport { login } from \"../../utils/ApiRequests\";\nimport { useHistory } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport {\n  setExpiryTimeToStorage,\n  setRefreshTokenToStorage\n} from \"../../utils/ApiUtils\";\n\nconst OTPLogin = () => {\n  const [loginForm, setloginForm] = useState({\n    email: \"\"\n  });\n  const [loading, setLoading] = useState(false);\n  const history = useHistory();\n  const [successText, showSuccessText] = useState(false);\n  const [error, setError] = useState(null);\n  //   const [step, setStep] = useState(1);\n\n  //   I am here\n\n  const handleChange = e => {\n    const name = e.target.name;\n    const value = e.target.value;\n    const newEntry = { [name]: value };\n    setloginForm({ ...loginForm, ...newEntry });\n  };\n\n  const proceed = () => {\n    if (loginForm.email === \"\") {\n      return false;\n    }\n    return true;\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setLoading(true);\n\n    login(\n      successText\n        ? { email: loginForm.email, code_type: \"otp\", code: loginForm.code }\n        : {\n            email: loginForm.email,\n            type: \"otp\"\n          }\n    )\n      .then(res => {\n        showSuccessText(true);\n\n        if (loginForm.code) {\n          toast.success(\"Login Successful\");\n          setRefreshTokenToStorage(res.data.refresh_token);\n          setExpiryTimeToStorage(res.data.expires_at);\n          history.push(\"/docs/mydocs\");\n        }\n      })\n      .catch(err => {\n        setError(err?.response?.data?.message);\n      })\n      .finally(() => setLoading(false));\n  };\n\n  return (\n    <div className=\"w-full min-h-screen flex justify-center items-center \">\n      <form\n        //   className=\"\"\n        onSubmit={handleSubmit}\n        className=\"w-full lg:w-3/5 px-5 lg:px-10 py-3 lg:py-6 shadow-md\"\n      >\n        <h1 className=\"font-medium text-xl  text-center mb-7\">\n          Sign in to Lekh{\" \"}\n        </h1>\n\n        <>\n          {!successText && (\n            <InputField\n              name=\"email\"\n              label=\"Email\"\n              placeholder=\"you@address.com\"\n              required={true}\n              type=\"email\"\n              handleChange={handleChange}\n              value={loginForm.email}\n            />\n          )}\n\n          {successText && (\n            <>\n              <InputField\n                name=\"code\"\n                label=\"OTP\"\n                placeholder=\"000000\"\n                required={true}\n                type=\"number\"\n                handleChange={handleChange}\n                value={loginForm.code}\n              />\n\n              <p className=\"-mt-3 italic font-medium\">\n              Please enter the code you received in your email or open the link from the email.\n              </p>\n            </>\n          )}\n          {error && !loading && (\n            <span className=\"-mt-3 block italic text-red-500 text-sm\">\n              {error}\n            </span>\n          )}\n        </>\n\n        <div className=\"flex \">\n          {loading ? (\n            <MiniLoader />\n          ) : (\n            <div className=\"flex items-center gap-5\">\n              <button\n                type=\"submit\"\n                className={`py-2 lg:py-3.5 px-12 font-Poppins bg-lkhRed text-white rounded-3xl outline-none border-0 ${\n                  !proceed() ? \"bg-lkhGrey cursor-not-allowed\" : \"\"\n                }`}\n                disabled={!proceed()}\n              >\n                {successText ? \"Login\" : \"Proceed\"}\n              </button>\n            </div>\n          )}\n        </div>\n\n        <div className=\"flex items-center gap-2 mt-5 lg:flex-row flex-col\">\n          <button\n            className=\"flex items-center space-x-2 py-1 bg-white border-1 outline-none px-4 text-lg\"\n            onClick={e => {\n              history.push(\"/login\");\n            }}\n          >\n            {/* <GrMail /> */}\n            <span>Return to Sign In</span>\n          </button>\n\n          {/* <GoogleLogin\n            render={render => (\n              <button className=\"flex items-center space-x-2 py-1 bg-white border-1 outline-none px-4 text-lg\">\n                <img\n                  src={require(\"../../assests/icons/google.svg\").default}\n                  alt=\"Google\"\n                />{\" \"}\n                <span>Sign in with Google</span>\n              </button>\n            )}\n          /> */}\n        </div>\n\n        <div className=\"space-y-1 mt-2\">\n          <Link to=\"/forgot\" className=\"text-lg font-medium block\">\n            Forgot Password?\n          </Link>\n\n          <p className=\"text-lg font-medium m-0\">\n            Don't have an account?{\" \"}\n            <Link to=\"/sign-up\" className=\"font-normal\">\n              Sign up here\n            </Link>\n          </p>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default OTPLogin;\n","export var passwordCheck = /(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[^A-Za-z0-9])(?=.{8,})/;","import React, { useState } from \"react\";\nimport InputField from \"../../components/InputField/InputField\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport MiniLoader from \"../../components/Loaders/MiniLoader\";\nimport { resetPassword } from \"../../utils/ApiRequests\";\nimport { toast } from \"react-toastify\";\nimport { useQuery } from \"../../hooks/useQuery\";\nimport { passwordCheck } from \"./AuthUtil\";\n\nconst Reset = () => {\n  const query = useQuery();\n  const code = query.get(\"code\");\n  const [passwordForm, setpasswordForm] = useState({\n    password: \"\",\n    code: code,\n    cPassword: \"\"\n  });\n  const history = useHistory();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(true);\n  const [apiError, setApiError] = useState(null);\n  \n  const handleChange = e => {\n    const name = e.target.name;\n    const value = e.target.value;\n    const newEntry = { [name]: value };\n    setError(passwordCheck.test(value));\n\n    setpasswordForm({ ...passwordForm, ...newEntry });\n  };\n\n  const proceed = () => {\n    if (passwordForm.cPassword !== passwordForm.password) {\n      return false;\n    }\n\n    if (passwordForm.password === \"\") {\n      return false;\n    }\n    if (!error) {\n      return false;\n    }\n    return true;\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setLoading(true);\n\n    resetPassword(passwordForm)\n      .then(res => {\n        history.push(\"/login\");\n      })\n      .catch(err => {\n        setApiError(\"Unable to reset password\");\n        history.push(\"/forgot\");\n      })\n      .finally(() => setLoading(false));\n  };\n\n  return (\n    <div className=\"w-full min-h-screen flex justify-center items-center \">\n      <form\n        //   className=\"\"\n        onSubmit={handleSubmit}\n        className=\"w-full lg:w-3/5 px-5 lg:px-10 py-3 lg:py-6 shadow-md\"\n      >\n        <h1 className=\"font-medium text-xl  text-center mb-7\">\n          Reset password{\" \"}\n        </h1>\n\n        <InputField\n          name=\"password\"\n          label=\"Password\"\n          placeholder=\"New Password\"\n          required={true}\n          type=\"password\"\n          handleChange={handleChange}\n          value={passwordForm.password}\n          error={!error}\n          errorText=\"Password must be a minimum of 8 characters including a capital letter and special character\"\n        />\n\n        <InputField\n          name=\"cPassword\"\n          label=\"Confirm Password\"\n          placeholder=\"Confirm Password\"\n          required={true}\n          type=\"password\"\n          handleChange={handleChange}\n          value={passwordForm.cPassword}\n          error={passwordForm.password !== passwordForm.cPassword}\n          errorText=\"Passwords do not match\"\n        />\n\n        {apiError && !loading && (\n          <span className=\"-mt-3 block italic text-red-500 text-sm\">\n            {apiError}\n          </span>\n        )}\n\n        <div className=\"flex \">\n          {loading ? (\n            <MiniLoader />\n          ) : (\n            <button\n              type=\"submit\"\n              className={`py-2 lg:py-3.5 px-12 font-Poppins bg-lkhRed text-white rounded-3xl outline-none border-0 ${\n                !proceed() ? \"bg-lkhGrey cursor-not-allowed\" : \"\"\n              }`}\n              disabled={!proceed()}\n            >\n              Reset password\n            </button>\n          )}\n        </div>\n\n        <div className=\"space-y-1 mt-2\">\n          {/* <Link to=\"/forgot\" className=\"text-lg font-medium block\">\n            Forgot password?\n          </Link> */}\n          <p className=\"text-lg font-medium\">\n            Have an account?{\" \"}\n            <Link to=\"/login\" className=\"font-normal\">\n              Log in\n            </Link>\n          </p>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default Reset;\n","import React, { useState } from \"react\";\nimport InputField from \"../../components/InputField/InputField\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport MiniLoader from \"../../components/Loaders/MiniLoader\";\nimport { signUp } from \"../../utils/ApiRequests\";\nimport { toast } from \"react-toastify\";\nimport { passwordCheck } from \"./AuthUtil\";\n\nconst SignUp = () => {\n  const [signUpForm, setSignUpForm] = useState({\n    email: \"\",\n    password: \"\",\n    first_name: \"\",\n    last_name: \"\",\n    cPassword: \"\"\n  });\n  const [loading, setLoading] = useState(false);\n  const history = useHistory();\n  const [error, setError] = useState(true);\n  const [apiError, setApiError] = useState(null);\n\n  // console.log(error)\n  const handleChange = e => {\n    const name = e.target.name;\n    const value = e.target.value;\n    const newEntry = { [name]: value };\n    setSignUpForm({ ...signUpForm, ...newEntry });\n  };\n\n  const handlePasswordChange = e => {\n    const name = e.target.name;\n    const value = e.target.value;\n    const newEntry = { [name]: value };\n    setError(passwordCheck.test(value));\n    setSignUpForm({ ...signUpForm, ...newEntry });\n  };\n\n  const proceed = () => {\n    if (signUpForm.email === \"\" || signUpForm.password === \"\") {\n      return false;\n    }\n    if (signUpForm.password !== signUpForm.cPassword) {\n      return false;\n    }\n    if (!error) {\n      return false;\n    }\n    return true;\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setLoading(true);\n    signUp(signUpForm)\n      .then(res => {\n        // console.log(res.data)\n        toast.success(\"Please follow the email to active your account\");\n        history.push(\"/login\");\n      })\n      .catch(err => {\n        // console.log(err.response);\n        setApiError(err.response.data.message);\n      })\n      .finally(() => setLoading(false));\n  };\n\n  return (\n    <div className=\"w-full min-h-screen flex justify-center items-center \">\n      <form\n        //   className=\"\"\n        onSubmit={handleSubmit}\n        className=\"w-full lg:w-3/5 px-5 lg:px-10 py-3 lg:py-6 shadow-md\"\n      >\n        <h1 className=\"font-medium text-xl  text-center mb-7\">\n          Sign up to Lekh{\" \"}\n        </h1>\n\n        <div className=\"w-full grid grid-cols-2 gap-5\">\n          <InputField\n            name=\"first_name\"\n            label=\"First Name\"\n            placeholder=\"First Name\"\n            handleChange={handleChange}\n            value={signUpForm.first_name}\n          />\n          <InputField\n            name=\"last_name\"\n            label=\"Last name\"\n            placeholder=\"Last Name\"\n            handleChange={handleChange}\n            value={signUpForm.last_name}\n          />\n        </div>\n\n        <InputField\n          name=\"email\"\n          label=\"Email\"\n          placeholder=\"you@address.com\"\n          required={true}\n          type=\"email\"\n          handleChange={handleChange}\n          value={signUpForm.email}\n        />\n        <InputField\n          name=\"password\"\n          type=\"password\"\n          placeholder=\"Password\"\n          required={true}\n          label=\"Password\"\n          value={signUpForm.password}\n          handleChange={handlePasswordChange}\n          error={!error}\n          errorText=\"Password must be a minimum of 8 characters including a capital letter and special character\"\n        />\n\n        <InputField\n          name=\"cPassword\"\n          type=\"password\"\n          placeholder=\"Confirm Password\"\n          required={true}\n          label=\"Confirm Password\"\n          value={signUpForm.cPassword}\n          handleChange={handleChange}\n          error={signUpForm.password !== signUpForm.cPassword}\n          errorText=\"Passwords do not match\"\n        />\n\n        {apiError && !loading && (\n          <span className=\"-mt-3 block italic text-red-500 text-sm\">\n            {apiError}\n          </span>\n        )}\n        <div className=\"flex \">\n          {loading ? (\n            <MiniLoader />\n          ) : (\n            <button\n              type=\"submit\"\n              className={`py-2 lg:py-3.5 px-12 font-Poppins bg-lkhRed text-white rounded-3xl outline-none border-0 ${\n                !proceed() ? \"bg-lkhGrey cursor-not-allowed\" : \"\"\n              }`}\n              disabled={!proceed()}\n            >\n              Create an account\n            </button>\n          )}\n        </div>\n\n        <p className=\"text-lg font-medium\">\n          Have an account?{\" \"}\n          <Link to=\"/login\" className=\"font-normal\">\n            Log in\n          </Link>\n        </p>\n        <p className=\"text-lg font-medium\">\n          <Link to=\"/passwordless-login\" className=\"font-normal\">\n          Log in\n          </Link>\n          {\" \"}without signing up\n        </p>\n      </form>\n    </div>\n  );\n};\n\nexport default SignUp;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { checkLogin } from \"../utils/ApiUtils\";\n\nconst PublicRoute = ({ component: Component, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        checkLogin() ? <Redirect to=\"/docs/mydocs\" /> : <Component {...props} />\n      }\n    />\n  );\n};\n\nexport default PublicRoute;\n","import { Switch, Route } from \"react-router-dom\";\nimport AuthLayout from \"../components/AuthLayout/AuthLayout\";\nimport ConfirmUser from \"../pages/auth/Confirm\";\nimport ConfirmLogin from \"../pages/auth/ConfirmLogin\";\nimport EmailLogin from \"../pages/auth/EmailLogin\";\nimport Forgot from \"../pages/auth/Forgot\";\nimport Login from \"../pages/auth/Login\";\nimport OTPLogin from \"../pages/auth/OTPLogin\";\nimport Reset from \"../pages/auth/Reset\";\nimport SignUp from \"../pages/auth/SignUp\";\nimport PublicRoute from \"./PublicRoute\";\n\nexport const AuthRouteList = [\n  { path: \"/login\", component: Login, exact: true },\n  { path: \"/email-login\", component: EmailLogin, exact: true },\n  { path: \"/passwordless-login\", component: OTPLogin, exact: true },\n  { path: \"/sign-up\", component: SignUp, exact: true },\n  { path: \"/forgot\", component: Forgot, exact: true },\n  { path: \"/user/reset\", component: Reset, exact: true },\n  { path: \"/user/confirm\", component: ConfirmUser, exact: true },\n  { path: \"/user/passwordless-login\", component: ConfirmLogin, exact: true }\n];\n\n// To add a private route HOC when approved\n\nconst AuthRoutes = () => {\n  return (\n    <Switch>\n      <main className=\"inner-route-body\">\n        <AuthLayout>\n          {AuthRouteList.map(r => (\n            <PublicRoute\n              key={r.path}\n              component={r.component}\n              exact={r.exact}\n              path={r.path}\n            />\n          ))}\n        </AuthLayout>\n      </main>\n    </Switch>\n  );\n};\n\nexport default AuthRoutes;\n","import React from \"react\"\n\nconst useClickOutside = (ref, callback) => {\n  const handleClick = e => {\n    if (ref.current && !ref.current.contains(e.target)) {\n      callback()\n    }\n  }\n  React.useEffect(() => {\n    document.addEventListener(\"click\", handleClick)\n    return () => {\n      document.removeEventListener(\"click\", handleClick)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n}\n\nexport default useClickOutside\n","import React, { useState } from \"react\";\nimport { AiOutlineClose, AiOutlinePlus } from \"react-icons/ai\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport InputField from \"../../components/InputField/InputField\";\nimport Select from \"react-select\";\nimport FullLoader from \"../../components/Loaders/FullLoader\";\nimport userInfo from \"../../utils/UserInfo\";\nimport { Link, NavLink, useHistory, useLocation } from \"react-router-dom\";\nimport docsManager from \"../../utils/DocsManager\";\nimport { useEffect } from \"react\";\n\nexport const NewBoard = ({ state, close }) => {\n  const [type, setType] = useState(\"board\");\n  const [name, setName] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  // const history = useHistory();\n\n  useEffect(() => {\n    setType(\"board\");\n    setName(\"\");\n    setLoading(false);\n    setError(null);\n  }, [close]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setLoading(true);\n    docsManager\n      .createDoc(docsManager.parent || userInfo?.data?.userid, type, name)\n      .then(res => {\n        close();\n      })\n      .catch(err => {\n        if (err?.response?.data?.code === \"doc_name_exists\") {\n          setError(\"Name exists\");\n        } else {\n          setError(err?.response?.data?.message);\n        }\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  };\n\n  const options = [\n    { value: \"board\", label: \"Board\" },\n    { value: \"folder\", label: \"Folder\" }\n    // { value: \"diagram\", label: \"Diagram\" },\n  ];\n\n  return (\n    <Dialog open={state} aria-labelledby=\"New Document\" className=\"px-5\">\n      {loading && <FullLoader />}\n      <form\n        action=\"\"\n        className=\"py-3 w-64 lg:w-96 bg-white \"\n        onSubmit={handleSubmit}\n      >\n        <div className=\"flex justify-between items-center mb-5 px-2\">\n          <div />\n          <h4 className=\"text-center text-xl m-0\">Create New</h4>\n\n          <AiOutlineClose className=\"text-xl cursor-pointer\" onClick={close} />\n        </div>\n        <div className=\"px-3 lg:px-5\">\n          <Select\n            options={options}\n            className=\"mb-3\"\n            onChange={e => setType(e.value)}\n            defaultValue=\"board\"\n            placeholder=\"Board\"\n          />\n          <InputField\n            label=\"Name\"\n            placeholder=\"Name\"\n            handleChange={e => setName(e.target.value)}\n            value={name}\n          />\n          {error && !loading && (\n            <span className=\"-mt-3 block italic text-red-500 text-sm\">\n              {error}\n            </span>\n          )}\n\n          <div className=\"text-right\">\n            <button\n              type=\"submit\"\n              className=\"text-white font-medium lg:text-lg px-3 py-1 bg-lkhRed outline-none border-none border-0 mx-auto\"\n            >\n              Create\n            </button>\n          </div>\n        </div>\n      </form>\n    </Dialog>\n  );\n};\n\nconst DashSidebar = ({ close }) => {\n  const location = useLocation();\n  const [openNew, setOpenNew] = useState(false);\n  const [docsState, setDocsState] = React.useState(docsManager.state);\n  const history = useHistory();\n\n  React.useEffect(() => {\n    var docsManagerCb = () => { setDocsState(docsManager.state) }\n    docsManager.event.addListener(docsManagerCb);\n    return () => {\n      docsManager.event.removeListener(docsManagerCb);\n    };\n  }, []);\n\n  return (\n    <aside\n      className=\"w-60 fixed top-0 left-0 bg-gray-100 h-screen px-6 py-5 transition-all\"\n      // ref={sideRef}\n    >\n      <NewBoard state={openNew} close={() => setOpenNew(false)} />\n      <div className=\"text-right m-0 mb-0 lg:hidden\">\n        <AiOutlineClose className=\"text-2xl\" onClick={close} />\n      </div>\n\n      <Link\n        to=\"/docs/mydocs\"\n        className=\"flex items-center justify-center mb-10\"\n      >\n        <img\n          src={require(\"../../assests/icons/Logo.svg\").default}\n          className=\"w-8/12\"\n          alt=\"Logo\"\n        />\n      </Link>\n      <div className=\"w-full flex justify-center\">\n        <button\n          className={`flex items-center justify-center text-white font-medium text-lg px-6 py-1 bg-lkhRed outline-none border-none border-0 mx-auto ${\n            !docsManager.canCreateNewDoc()\n              ? \"cursor-not-allowed bg-opacity-30 mx-auto\"\n              : \"\"\n          }`}\n          onClick={() => {\n            if (docsManager.canCreateNewDoc()) {\n              setOpenNew(true);\n            } else {\n              return;\n            }\n          }}\n        >\n          <AiOutlinePlus className=\"mr-2 font-semibold\" />{\" \"}\n          <span className=\"m-0\">New</span>\n        </button>\n      </div>\n\n      <NavLink\n        to=\"/docs/mydocs\"\n        className=\"block text-center mt-10 font-semibold text-lg\"\n        activeClassName=\"bg-white py-2\"\n      >\n        My Documents\n      </NavLink>\n\n      <NavLink\n        className=\"cursor-pointer block text-center mt-5 font-medium text-base \"\n        activeClassName=\"bg-white py-2\"\n        onClick={() => {}}\n        to=\"/docs/shared\"\n        exact={true}\n      >\n        Shared with me\n      </NavLink>\n    </aside>\n  );\n};\n\nexport default DashSidebar;\n","import React, { useRef, useState } from \"react\";\nimport { AiOutlineSearch } from \"react-icons/ai\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport useClickOutside from \"../../hooks/useOnClickOutside\";\nimport { GiHamburgerMenu } from \"react-icons/gi\";\nimport ModalContainer from \"../ModalContainer/ModalContainer\";\nimport DashSidebar from \"./DashSidebar\";\nimport userInfo from \"../../utils/UserInfo\";\nimport docsManager from \"../../utils/DocsManager\";\n\nconst MobileMenu = ({ close }) => {\n  return (\n    <ModalContainer>\n      <DashSidebar close={close} />\n    </ModalContainer>\n  );\n};\n\nconst DashboardTop = () => {\n  const settingsRef = useRef();\n  const [openSettings, setOpenSettings] = useState(false);\n  const [openMenu, setOpenMenu] = useState(false);\n  const [text, setText] = useState(\"\");\n  useClickOutside(settingsRef, () => setOpenSettings(false));\n  const history = useHistory();\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    docsManager.setSearchMode(text);\n    history.push(docsManager.getRoute());\n    docsManager.reload();\n  };\n\n  return (\n    <div className=\"sticky top-0 left-0 pb-5  shadow-md w-full flex justify-between items-center px-5 z-10 mb-5 lg:flex-row flex-col bg-white\">\n      {openMenu && <MobileMenu close={() => setOpenMenu(false)} />}\n      <div className=\"lg:hidden w-full flex justify-between items-center\">\n        <Link\n          to=\"/docs/mydocs\"\n          className=\"flex items-center justify-center mb-3\"\n        >\n          <img\n            src={require(\"../../assests/icons/Logo.svg\").default}\n            className=\"w-24\"\n            alt=\"Logo\"\n          />\n        </Link>\n\n        <GiHamburgerMenu\n          className=\"text-xl\"\n          onClick={() => setOpenMenu(true)}\n        />\n      </div>\n\n      <div>\n        <h1 className=\"text-xl font-medium m-0\">{`Welcome, ${\n          userInfo?.data?.first_name || userInfo?.data.email\n        }!`}</h1>\n      </div>\n\n      <div className=\"flex items-center lg:space-x-2 justify-between w-full lg:w-auto lg:justify-start\">\n        <form\n          className=\"flex items-center px-1 py-0 mx-auto\"\n          style={{ border: \"1px solid black\" }}\n          onSubmit={handleSubmit}\n        >\n          <input\n            type=\"text\"\n            placeholder=\"Search\"\n            className=\"border-none outline-none\"\n            value={text}\n            onChange={e => setText(e.target.value)}\n          />\n\n          <button\n            className=\"bg-transparent outline-none border-none m-0 p-0  \"\n            type=\"submit\"\n          >\n            <AiOutlineSearch className=\"text-lg\" />\n          </button>\n        </form>\n\n        {/* <img\n          src={require(\"../../assests/icons/help.svg\").default}\n          alt=\"avatar\"\n          className=\"w-7 h-6\"\n          // onClick={() => setOpenSettings(!openSettings)}\n        /> */}\n\n        <div className=\"relative\" ref={settingsRef}>\n          <img\n            src={require(\"../../assests/icons/avatar.svg\").default}\n            alt=\"avatar\"\n            className=\"w-7 h-7\"\n            onClick={() => setOpenSettings(!openSettings)}\n          />\n\n          {openSettings && (\n            <div className=\"absolute bg-white shadow-md transition-all  w-28 py-2 px-2 right-0 space-y-2 flex flex-col text-center\">\n              {/* <h1>Settings</h1> */}\n              <Link to=\"/user/settings\" className=\"text-gray-500\">\n                Settings\n              </Link>\n\n              <button\n                to=\"/login\"\n                onClick={() => {\n                  userInfo.logout();\n                  history.push(\"/login\");\n                }}\n                className=\"text-gray-500 cursor-pointer p-0 bg-transparent border-0 outline-none  text-base \"\n              >\n                Logout\n              </button>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DashboardTop;\n","import React from \"react\";\nimport DashboardTop from \"./DashboardTop\";\nimport DashSidebar from \"./DashSidebar\";\n\nconst DashLayout = ({ children }) => {\n  // const [loading, setLoading] = useState(true);\n\n  return (\n    <main className=\"flex w-full min-h-screen overflow-auto\">\n      {/* {loading && <FullLoader />} */}\n      {\n        <>\n          <div className=\"hidden lg:block\">\n            <DashSidebar />\n          </div>\n\n          <div className=\" lg:ml-60 bg-white w-full py-2 lg:py-7 h-screen \">\n            <DashboardTop />\n            <div\n              className=\"px-5 overflow-auto py-3\"\n              style={{ height: \"calc(100vh - 170px)\" }}\n            >\n              {children}\n            </div>\n          </div>\n        </>\n      }\n    </main>\n  );\n};\n\nexport default DashLayout;\n","import { AiOutlineClose } from \"react-icons/ai\";\nimport userInfo from \"../../utils/UserInfo\";\nimport ModalContainer from \"../ModalContainer/ModalContainer\";\nimport { IoFolderOutline } from \"react-icons/io5\";\nimport { useEffect, useRef, useState } from \"react\";\nimport useClickOutside from \"../../hooks/useOnClickOutside\";\nimport docsManager from \"../../utils/DocsManager\";\nimport MiniLoader from \"../Loaders/MiniLoader\";\n\nconst DetailsModal = ({ open, close, m }) => {\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const inScope = m?.in_my_scope === true;\n  const ref = useRef(null);\n\n  // useClickOutside(open ? ref : null, close);\n\n  // if (open)\n  useEffect(() => {\n    if (!inScope) {\n      return;\n    }\n    docsManager\n      .getFullPath(m?.docid, userInfo.data.userid)\n      .then(res => setData(res))\n      .catch(err => console.log(err.response))\n      .finally(() => {\n        setLoading(false);\n      });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (inScope) {\n      return;\n    }\n\n    docsManager\n      .getADoc(m?.docid)\n      .then(res => setData(res))\n      .catch(err => console.log(err.response))\n      .finally(() => {\n        setLoading(false);\n      });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // const handleKeyDown = event => {\n  //   if (event.key.toLowerCase()) {\n  //     close();\n  //   }\n  // };\n\n  // useEffect(() => {\n  //   document.addEventListener(\"keydown\", handleKeyDown);\n\n  //   return () => {\n  //     document.removeEventListener(\"keydown\", handleKeyDown);\n  //   };\n  //   // eslint-disable-next-line react-hooks/exhaustive-deps\n  // }, []);\n\n  return (\n    <ModalContainer>\n      <div className=\"h-full lg:w-80 w-64 py-7 px-2 bg-white fixed right-0 top-0 z-20 \">\n        <div ref={open ? ref : null}>\n          <div className=\"\">\n            <AiOutlineClose\n              className=\"text-3xl cursor-pointer\"\n              onClick={() => close()}\n            />\n          </div>\n\n          <h1 className=\"text-center text-xl\">{m.name}</h1>\n          {m.type === \"board\" && (\n            <img\n              src={require(\"../../assests/icons/Logo-grey.png\").default}\n              alt=\"Board Icon\"\n              className=\"w-full h-20 lg:h-40 object-scale-down my-7\"\n            />\n          )}\n\n          {m.type === \"folder\" && (\n            <IoFolderOutline className=\"w-full h-20 lg:h-40  object-scale-down my-7\"></IoFolderOutline>\n          )}\n\n          <div className=\"w-full space-y-3\">\n            <div className=\"details-grid\">\n              <h2 className=\"m-0 font-medium text-base\">Type:</h2>\n\n              <p className=\"capitalize m-0\">{m.type}</p>\n            </div>\n\n            <div className=\"details-grid\">\n              <h2 className=\"m-0 font-medium text-base\">Created at:</h2>\n\n              <p className=\"capitalize m-0\">\n                {new Date(m.created_at).toDateString()}\n              </p>\n            </div>\n\n            <div className=\"details-grid\">\n              <h2 className=\"m-0 font-medium text-base\">Updated at:</h2>\n\n              <p className=\"capitalize m-0\">\n                {new Date(m.updated_at).toDateString()}\n              </p>\n            </div>\n            {m.in_my_scope === true && !loading && (\n              <div className=\"details-grid\">\n                <h2 className=\"m-0 font-medium text-base\">Location:</h2>\n\n                <p className=\"m-0 break-all\">\n                  {userInfo?.data?.userid === m.parent ? (\n                    \"My Documents\"\n                  ) : (\n                    <>\n                      <span>My Documents</span>{\" \"}\n                      {data?.map(m => (\n                        <span key={m?.name}>/{m?.name}</span>\n                      ))}\n                    </>\n                  )}\n                </p>\n              </div>\n            )}\n\n            {m.in_my_scope === false && !loading && (\n              <div className=\"details-grid\">\n                <h2 className=\"m-0 font-medium text-base\">Shared by:</h2>\n                <p className=\"m-0 break-all\">{data?.owner}</p>\n              </div>\n            )}\n\n            {loading && <MiniLoader />}\n          </div>\n        </div>\n      </div>\n    </ModalContainer>\n  );\n};\n\nexport default DetailsModal;\n","import { Dialog } from \"@material-ui/core\";\nimport React, { useState, useEffect } from \"react\";\nimport { AiOutlineClose } from \"react-icons/ai\";\nimport { toast } from \"react-toastify\";\nimport InputField from \"../../components/InputField/InputField\";\nimport { RenameDoc } from \"../../utils/ApiRequests\";\nimport docsManager from \"../../utils/DocsManager\";\nimport MiniLoader from \"../Loaders/MiniLoader\";\n\nconst RenameModal = ({ state, close, m }) => {\n  const [newName, setName] = useState(m?.name);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    setError(null);\n    setLoading(false);\n  }, [close]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setLoading(true);\n    RenameDoc(m?.docid, {\n      name: newName,\n      parent: m?.parent\n    })\n      .then(res => {\n        // toast.success(\"Renamed Successfully\");\n        docsManager.reload();\n      })\n      .catch(err => setError(err?.response?.data?.message))\n      .finally(() => {\n        setLoading(false);\n        // docsManager.relo\n      });\n  };\n\n  return (\n    <Dialog open={state} className=\"px-5\">\n      <form\n        action=\"\"\n        className=\"py-2 w-64 lg:w-96 bg-white \"\n        onSubmit={handleSubmit}\n      >\n        <div className=\"flex justify-between items-center my-2 px-2\">\n          <div />\n          <h4 className=\"text-center m-0\">Rename</h4>\n\n          <AiOutlineClose className=\"text-xl cursor-pointer\" onClick={close} />\n        </div>\n\n        <hr className=\"-mb-5\" />\n\n        <div className=\"px-2\">\n          <InputField\n            // label=\"Rename\"\n            placeholder=\"Name\"\n            handleChange={e => setName(e.target.value)}\n            value={newName}\n          />\n          {error && !loading && (\n            <span className=\"-mt-3 block italic text-red-500 text-sm\">\n              {error}\n            </span>\n          )}\n\n          <div className=\"text-right\">\n            {loading ? (\n              <MiniLoader />\n            ) : (\n              <button\n                type=\"submit\"\n                className=\"text-white font-medium lg:text-lg px-3 py-1 bg-lkhRed outline-none border-none border-0 mx-auto\"\n              >\n                Rename\n              </button>\n            )}\n          </div>\n        </div>\n      </form>\n    </Dialog>\n  );\n};\n\nexport default RenameModal;\n","import { AiOutlineClose } from \"react-icons/ai\";\nimport { Dialog } from \"@material-ui/core\";\n// import Select from \"react-select\";\nimport { useEffect, useState } from \"react\";\nimport MiniLoader from \"../Loaders/MiniLoader\";\nimport { toast } from \"react-toastify\";\nimport docsManager from \"../../utils/DocsManager\";\nimport userInfo from \"../../utils/UserInfo\";\nimport { MoveDoc } from \"../../utils/ApiRequests\";\nimport { AiFillFolder, AiOutlineRight } from \"react-icons/ai\";\nimport { BiArrowBack } from \"react-icons/bi\";\n// import { IoArrowBackCircleSharp } from \"react-icons/io5\";\n\nconst MoveModal = ({ state, close, m }) => {\n  const [loading, setLoading] = useState(true);\n  const [data, setData] = useState();\n  const [parent, setParent] = useState(userInfo?.data?.userid);\n  const [error, setError] = useState(null);\n  const [parentDoc, setParentDoc] = useState(null);\n\n  const [cache, setCache] = useState(new Map());\n  const [childCache, setChildCache] = useState(new Map());\n\n  const getDoc = async (docid) => {\n    if (!docid || docid == userInfo?.data?.userid) {\n      return {docid: docid, name: 'Root Folder', parent: null}\n    }\n    if (cache.has(docid)) {\n      return cache.get(docid);\n    }\n    var doc = await docsManager.getADoc(docid);\n    cache.set(docid, doc);\n    return doc;\n  }\n\n  const getChildren = async (docid) => {\n    if (childCache.has(docid)) {\n      return childCache.get(docid);\n    }\n    var children = await docsManager.getChildFolders(docid);\n    childCache.set(docid, children);\n    for (let item of children) {\n      cache.set(item.docid, item);\n    }\n    return children;\n  }\n\n  useEffect(() => {\n    setLoading(true);\n    getDoc(parent)\n    .then(resp=>{\n      setParentDoc(resp);\n    })\n    .then(()=> getChildren(parent || userInfo?.data?.userid))\n    .then(res => {\n      setData(res);\n      setLoading(false);\n    })\n    .catch(err => console.log(err.response));\n  }, [parent]);\n\n  // console.log(options);\n  const handleSubmit = e => {\n    e.preventDefault();\n    setLoading(true);\n    MoveDoc(m?.docid, { parent: parent || userInfo?.data?.userid, name: m?.name })\n      .then(res => {\n        docsManager.reload();\n        close();\n      })\n      .catch(err => toast.error(err?.response?.data?.message))\n      .finally(() => {\n        setLoading(false);\n      });\n  };\n\n  return (\n    <Dialog open={state} className=\"px-5\" aria-labelledby=\"Share\">\n      <form\n        className={`py-2 h-72 w-64 lg:w-96 bg-white`}\n        onSubmit={handleSubmit}\n        // onClick\n      >\n        <div className=\"flex items-center justify-between my-2 px-3\">\n          {parent != userInfo?.data?.userid ? (\n            <BiArrowBack\n              className=\"text-xl cursor-pointer\"\n              onClick={() => {\n                setParent(parentDoc.parent);\n              }}\n            />\n          ) : (\n            <div />\n          )}\n\n          <h4 className=\"text-center m-0 w-44 truncate\">\n            {\" \"}\n            {parentDoc?.name || \"Root Folder\"}\n          </h4>\n\n          <AiOutlineClose\n            className=\"text-xl cursor-pointer\"\n            onClick={() => close()}\n          />\n        </div>\n        <hr />\n\n        {loading && (\n          <div className=\"mt-6\">\n            <MiniLoader />\n          </div>\n        )}\n        {!loading && (\n          <>\n            <div className=\"h-1/2 space-y-6 py-2 overflow-y-auto px-3\">\n              {data?.map((m, i) => (\n                <div\n                  className={`move-grid text-lg cursor-pointer hover:bg-gray-200`}\n                  key={i}\n                >\n                  <div\n                    className=\"flex items-center space-x-2 cursor-pointer\"\n                    onClick={() => {\n                      setParent(m.docid);\n                    }}\n                  >\n                    <AiFillFolder />\n                    <span className=\"w-40  lg:w-44 truncate\">{m.name}</span>\n                  </div>\n                  <AiOutlineRight\n                    className=\"cursor-pointer text-right ml-auto\"\n                    onClick={() => setParent(m.docid)}\n                  />\n                </div>\n              ))}\n            </div>\n\n            <div className=\"text-right mt-8 px-3\">\n              <button\n                type=\"submit\"\n                className=\"text-white font-medium lg:text-lg px-3 py-1 bg-lkhRed outline-none border-none border-0 mx-auto\"\n              >\n                Move Here\n              </button>\n            </div>\n          </>\n        )}\n      </form>\n    </Dialog>\n  );\n};\n\nexport default MoveModal;\n","import React, { useRef, useState } from \"react\";\n// import { truncateString } from \"../../utils/Helpers\";\nimport { BsThreeDotsVertical } from \"react-icons/bs\";\nimport useClickOutside from \"../../hooks/useOnClickOutside\";\nimport { toast } from \"react-toastify\";\nimport FullLoader from \"../Loaders/FullLoader\";\nimport ShareModal from \"./ShareModal\";\nimport DetailsModal from \"./DetailsModal\";\nimport docsManager from \"../../utils/DocsManager\";\nimport RenameModal from \"./RenameModal\";\nimport MoveModal from \"./MoveModal\";\nimport { useHistory } from \"react-router-dom\";\nimport { IoFolderOutline, IoPeople } from \"react-icons/io5\";\nimport { Dialog } from \"@material-ui/core\";\n\nconst DocumentListItem = ({ m }) => {\n  const [open, setOpen] = useState(false);\n  const ref = useRef();\n  useClickOutside(ref, () => setOpen(false));\n  const [loading, setLoading] = useState(false);\n  const [share, setShare] = useState(false);\n  const [showDetails, setShowDetails] = useState(false);\n  const [rename, setRename] = useState(false);\n  const [move, setMove] = useState(false);\n  const [deleting, setDeleting] = useState(false);\n  const history = useHistory();\n\n  // console.log(m);\n\n  const handleOpen = () => {\n    if (share || showDetails || rename || move) {\n      return;\n    }\n    if (m.type === \"board\") {\n      const win = window.open(`/?docid=${m.docid}`, \"_blank\");\n      //win.focus();\n    } else if (m.type === \"folder\") {\n      docsManager.pushParent(m.docid);\n      history.push(docsManager.getRoute());\n      docsManager.reload();\n    }\n  };\n\n  const duplicate = () => {\n    docsManager\n      .duplicate(m.docid)\n      .then(() => {\n        docsManager.reload();\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n\n  return (\n    <div\n      className=\"w-full h-40 lg:h-52 rounded-2xl shadow-md  flex flex-col justify-between\"\n      ref={ref}\n    >\n      {loading && <FullLoader />}\n      {share && (\n        <ShareModal state={share} close={() => setShare(false)} doc={m} />\n      )}\n      {showDetails && (\n        <DetailsModal\n          m={m}\n          close={() => setShowDetails(false)}\n          open={showDetails}\n        />\n      )}\n      <RenameModal state={rename} close={() => setRename(false)} m={m} />\n      {move && <MoveModal state={move} close={() => setMove(false)} m={m} />}\n\n      <Dialog open={deleting}>\n        <div className=\"w-64 lg:w-72 py-8 px-5 space-y-10\">\n          <p className=\"font-sans text-center text-lg\">\n            Are you sure you want to delete?\n          </p>\n\n          <div className=\"grid grid-cols-2 gap-5\">\n            <button\n              className=\"button border border-lkhRed text-center py-3 bg-white \"\n              onClick={() => setDeleting(false)}\n            >\n              Cancel\n            </button>\n\n            <button\n              onClick={() => {\n                setDeleting(false);\n                setLoading(true);\n                docsManager\n                  .deleteDoc(m.docid)\n                  .then(res => {})\n                  .catch(err => {\n                    toast(err?.response?.data?.code);\n                  })\n                  .finally(() => {\n                    setLoading(false);\n                  });\n              }}\n              className=\"button bg-lkhRed text-white border-0\"\n            >\n              Delete\n            </button>\n          </div>\n        </div>\n      </Dialog>\n\n      <div\n        className=\"h-3/4 relative transition-all hover:bg-gray-100 px-5 py-5  cursor-pointer\"\n        onClick={handleOpen}\n      >\n        {m.type === \"board\" && (\n          <img\n            src={require(\"../../assests/icons/Logo-grey.png\").default}\n            alt=\"Board Icon\"\n            className=\"w-5/6 h-5/6 object-scale-down\"\n          />\n        )}\n\n        {m.type === \"folder\" && (\n          <IoFolderOutline className=\"w-5/6 h-5/6 scale-y-90 scale-x-90 object-scale-down\"></IoFolderOutline>\n        )}\n\n        {m?.shared && m.in_my_scope && (\n          <IoPeople className=\"absolute right-3 text-lg top-5\" />\n        )}\n      </div>\n\n      <div className=\"flex items-center justify-between h-1/4 px-4 py-3 bg-gray-50\">\n        <h1 className=\"m-0 text-sm break-all font-medium line-clamp-2\">\n          {m.name}\n        </h1>\n\n        <div className=\"relative\">\n          <BsThreeDotsVertical\n            onClick={() => setOpen(!open)}\n            className=\"cursor-pointer\"\n          />\n\n          {open && (\n            <div className=\"absolute top-0 right-3 py-3 px-7 shadow-md bg-white space-y-4 text-left z-20\">\n              <p\n                className=\"text-sm cursor-pointer m-0 mb-2\"\n                onClick={() => {\n                  handleOpen();\n                }}\n              >\n                Open\n              </p>\n\n              <p\n                className=\"text-sm cursor-pointer m-0 mb-2\"\n                onClick={() => setShowDetails(true)}\n              >\n                Details\n              </p>\n\n              {m.in_my_scope && (\n                <>\n                  <p\n                    className=\"text-sm cursor-pointer\"\n                    onClick={() => setShare(true)}\n                  >\n                    Share\n                  </p>\n\n                  <p\n                    className=\"text-sm cursor-pointer\"\n                    onClick={() => setRename(true)}\n                  >\n                    Rename\n                  </p>\n\n                  {m.type != \"folder\" && (\n                    <p\n                      className=\"text-sm cursor-pointer\"\n                      onClick={() => {\n                        setOpen(!open);\n                        duplicate();\n                      }}\n                    >\n                      Duplicate\n                    </p>\n                  )}\n\n                  {m.type == \"board\" && (\n                    <p\n                      className=\"text-sm cursor-pointer\"\n                      onClick={() => setMove(true)}\n                    >\n                      Move\n                    </p>\n                  )}\n\n                  <p\n                    className=\"text-sm cursor-pointer\"\n                    onClick={() => setDeleting(true)}\n                  >\n                    Delete\n                  </p>\n                </>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DocumentListItem;\n","import React, { useState } from \"react\";\nimport FullLoader from \"../../components/Loaders/FullLoader\";\n// import { toast } from \"react-toastify\";\nimport DocumentListItem from \"../../components/DashboardItems/DocumentListItem\";\nimport docsManager from \"../../utils/DocsManager\";\nimport { AiOutlineRight, AiOutlinePlus } from \"react-icons/ai\";\nimport { useHistory } from \"react-router-dom\";\nimport { NewBoard } from \"../../components/DashLayout/DashSidebar\";\n\nconst Dashboard = props => {\n  const [docsState, setDocsState] = React.useState(docsManager.state);\n  const [openNew, setOpenNew] = useState(false);\n\n  const history = useHistory();\n\n  React.useEffect(() => {\n    var docsManagerCb = () => { setDocsState(docsManager.state) }\n    docsManager.event.addListener(docsManagerCb);\n    docsManager.setRoute(props.location.pathname, props.location.search);\n    docsManager.reload();\n\n    return () => {\n      docsManager.event.removeListener(docsManagerCb);\n    };\n  }, []);\n\n  return (\n    <div className=\"pb-40\">\n      {docsManager.state == \"loading\" && <FullLoader />}\n      <NewBoard state={openNew} close={() => setOpenNew(false)} />\n      {docsManager.state == \"available\" && (\n        <>\n          <div className=\"flex items-center space-x-2\">\n            <h1\n              className=\"text-xl font-medium m-0 mb-3 lg:mb-10 cursor-pointer\"\n              onClick={() => {\n                docsManager.popParentTo(null);\n                history.push(docsManager.getRoute());\n                docsManager.reload();\n              }}\n            >\n              {docsManager.getRootName()}\n            </h1>\n\n            {docsManager?.path &&\n              docsManager.path.map((m, i) => (\n                <h1\n                  className={`flex items-center space-x-2 text-xl font-medium m-0 mb-2 lg:mb-10 ${\n                    i !== docsManager.path.length - 1 ? \"cursor-pointer\" : \"\"\n                  }`}\n                  onClick={() => {\n                    if (i !== docsManager.path.length - 1) {\n                      docsManager.popParentTo(m.docid);\n                      history.push(docsManager.getRoute());\n                      docsManager.reload();\n                    }\n                  }}\n                  key={i}\n                >\n                  <AiOutlineRight className=\"text-xl font-semibold\" />\n                  <span> {m?.name} </span>\n                </h1>\n              ))}\n          </div>\n\n          {docsManager.state == \"available\" &&\n            docsManager.canCreateNewDoc() &&\n            docsManager?.docs?.length > 0 && (\n              <button\n                className={`mb-5 lg:hidden flex items-center justify-center text-white font-medium text-lg px-6 py-1 bg-lkhRed outline-none border-none border-0`}\n                onClick={() => {\n                  setOpenNew(true);\n                }}\n              >\n                <AiOutlinePlus className=\"mr-2 font-semibold\" />{\" \"}\n                <span className=\"m-0\">New</span>\n              </button>\n            )}\n          <div className=\"w-full grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 pb-20\">\n            {docsManager.docs.map((m, i) => {\n              return <DocumentListItem m={m} key={i} />;\n            })}\n          </div>\n        </>\n      )}\n      {docsManager.state == \"available\" &&\n        docsManager.mode == \"mydocs\" &&\n        !(docsManager?.docs?.length > 0) && (\n          <div className=\"w-full flex flex-col items-center justify-center space-y-2\">\n            <div className=\"w-full flex justify-center flex-col items-center\">\n              <h3 className=\"text-lkhDGrey\">\n                You do not have any document in this folder. Please add a\n                document\n              </h3>\n              <button\n                className={`flex items-center justify-center text-white font-medium text-lg px-6 py-1 bg-lkhRed outline-none border-none border-0 mx-auto`}\n                onClick={() => {\n                  setOpenNew(true);\n                }}\n              >\n                <AiOutlinePlus className=\"mr-2 font-semibold\" />{\" \"}\n                <span className=\"m-0\">New</span>\n              </button>\n            </div>\n          </div>\n        )}\n    </div>\n  );\n};\n\nexport default Dashboard;\n","import React, { useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport InputField from \"../../components/InputField/InputField\";\nimport FullLoader from \"../../components/Loaders/FullLoader\";\nimport { updateCurrentUser } from \"../../utils/ApiRequests\";\nimport userInfo from \"../../utils/UserInfo\";\nimport { passwordCheck } from \"../auth/AuthUtil\";\n\nconst Settings = () => {\n  const [loading, setLoading] = useState(false);\n  const [updateForm, setupdateForm] = useState({\n    email: userInfo?.data?.email,\n    current_password: \"\",\n    first_name: userInfo?.data?.first_name,\n    last_name: userInfo?.data?.last_name\n  });\n  const [error, setError] = useState(true);\n\n  const handleChange = e => {\n    const name = e.target.name;\n    const value = e.target.value;\n    const newEntry = { [name]: value };\n    setupdateForm({ ...updateForm, ...newEntry });\n  };\n\n  const handlePasswordChange = e => {\n    const name = e.target.name;\n    const value = e.target.value;\n    const newEntry = { [name]: value };\n    setError(passwordCheck.test(value));\n    setupdateForm({ ...updateForm, ...newEntry });\n  };\n\n  const updateUser = e => {\n    e.preventDefault();\n    setLoading(true);\n    updateCurrentUser(updateForm)\n      .then(res => toast.success(\"Profile updated successfully\"))\n      .catch(err => toast.error(err.response.data.message))\n      .finally(() => setLoading(false));\n  };\n\n  return (\n    <div>\n      {loading && <FullLoader />}\n      <h1 className=\"lg:text-2xl font-medium m-0 mb-10\">Update Profile</h1>\n\n      <form\n        className=\"w-full lg:w-5/12 shadow-md p-5 mb-10\"\n        onSubmit={updateUser}\n      >\n        <div className=\"w-full grid grid-cols-2 gap-5\">\n          <InputField\n            name=\"first_name\"\n            label=\"First Name\"\n            placeholder=\"First Name\"\n            handleChange={handleChange}\n            value={updateForm.first_name}\n          />\n          <InputField\n            name=\"last_name\"\n            label=\"Last name\"\n            placeholder=\"Last Name\"\n            handleChange={handleChange}\n            value={updateForm.last_name}\n          />\n        </div>\n\n        <InputField\n          name=\"email\"\n          label=\"Email\"\n          placeholder=\"you@address.com\"\n          required={true}\n          type=\"email\"\n          // handleChange={handleChange}\n          readOnly={true}\n          value={updateForm.email}\n        />\n\n        <InputField\n          name=\"current_password\"\n          type=\"password\"\n          placeholder=\"Current Password\"\n          //   required={true}\n          label=\"Current Password\"\n          value={updateForm.current_password}\n          handleChange={handleChange}\n          //   error={!error}\n          errorText=\"Password must be a minimum of 8 characters including a capital letter and special character\"\n        />\n\n        <InputField\n          name=\"new_password\"\n          type=\"password\"\n          placeholder=\"New Password\"\n          //   required={true}\n          label=\"New Password\"\n          value={updateForm.new_password}\n          handleChange={handlePasswordChange}\n          error={!error}\n          errorText=\"Password must be a minimum of 8 characters including a capital letter and special character\"\n        />\n\n        <button\n          type=\"submit\"\n          className=\"flex items-center justify-center text-white font-medium text-lg px-6 py-1 bg-lkhRed outline-none border-none border-0 mx-auto\"\n        >\n          Update\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default Settings;\n","import { Switch, Route, Redirect } from \"react-router-dom\";\nimport DashLayout from \"../components/DashLayout/DashLayout\";\nimport Dashboard from \"../pages/Dashboard/Dashboard\";\nimport Settings from \"../pages/Dashboard/Settings\";\nimport FullLoader from \"../components/Loaders/FullLoader\";\nimport { useEffect, useState } from \"react\";\nimport userInfo from \"../utils/UserInfo\";\nimport \"../assests/index.css\";\nimport \"../assests/page.css\";\n\nexport const DashRouteList = [\n  { path: \"/user/settings\", component: Settings, exact: true },\n  { path: \"/docs/mydocs\", component: Dashboard, exact: true },\n  { path: \"/docs/shared\", component: Dashboard, exact: true },\n  { path: \"/docs/search\", component: Dashboard, exact: true }\n];\n\nconst DashRoutes = () => {\n  const [userState, setUserState] = useState(userInfo.state);\n\n  useEffect(() => {\n    userInfo.onChange = () => {\n      setUserState(userInfo.state);\n    };\n    userInfo.get();\n\n    return () => {\n      userInfo.onChange = () => {};\n    };\n  }, []);\n\n  const PrivateRoute = ({ component: Component, ...rest }) => {\n    return (\n      <Route\n        {...rest}\n        render={props =>\n          userInfo.state === \"available\" ? (\n            <Component {...props} />\n          ) : (\n            <Redirect to=\"/login\" />\n          )\n        }\n      />\n    );\n  };\n\n  return (\n    <>\n      {userInfo.state === \"loading\" && <FullLoader />}\n      <Switch>\n        {userInfo.state !== \"loading\" && (\n          <main className=\"inner-route-body\">\n            <DashLayout>\n              {DashRouteList.map(r => (\n                <PrivateRoute\n                  key={r.path}\n                  component={r.component}\n                  exact={r.exact}\n                  path={r.path}\n                />\n              ))}\n            </DashLayout>\n          </main>\n        )}\n      </Switch>\n    </>\n  );\n};\n\nexport default DashRoutes;\n","import { Switch, Redirect, Route } from \"react-router-dom\";\nimport AuthRoutes, { AuthRouteList } from \"./AuthRoutes\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.min.css\";\nimport DashRoutes, { DashRouteList } from \"./DashRoutes\";\n\nconst RouteList = [\n  { path: DashRouteList.map(r => r.path), component: DashRoutes, exact: true },\n  { path: AuthRouteList.map(r => r.path), component: AuthRoutes, exact: true }\n];\n\nconst Routes = () => {\n  return (\n    <>\n      <ToastContainer\n        position=\"top-right\"\n        autoClose={5000}\n        hideProgressBar={false}\n        newestOnTop={false}\n        closeOnClick\n        pauseOnHover\n      ></ToastContainer>\n      <Switch>\n        {RouteList.map(r => (\n          <Route\n            key={r.path}\n            exact={r.exact}\n            component={r.component}\n            path={r.path}\n          />\n        ))}\n        <Route path=\"/\" exact={true}>\n          <Redirect to=\"/docs/mydocs\" />\n        </Route>\n      </Switch>\n    </>\n  );\n};\n\nexport default Routes;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"./App.css\";\nimport AppComponent from \"./App\"\nimport { HashRouter } from \"react-router-dom\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport Routes from \"./routes/Routes\";\nimport qs from 'qs';\nimport docInfo from './utils/DocInfo'\nimport {hello} from './utils/ApiRequests'\n\nvar openDoc = false;\nvar params = qs.parse(window.location.search, { ignoreQueryPrefix: true })\n\nvar docid = params.docid;\nvar _new = params._new;\nvar offline = params.offline;\nvar ref = params.ref;\n\nif (ref) {\n  hello(ref);\n  if (!docid && !_new && window.location.pathname == '/' && window.location.hash == '') {\n    window.history.replaceState({}, \"\", \"/\")\n  }\n}\n\nif (window.location.pathname == '/' && (!!docid || _new == 'true' || offline == 'true')) {\n  docInfo.docid = docid;\n  openDoc = true;\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    {openDoc&& <AppComponent />}\n    {!openDoc &&<HashRouter>\n      <Routes />\n    </HashRouter>}\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}